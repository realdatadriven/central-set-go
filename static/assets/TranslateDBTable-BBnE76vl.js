import{S as dl,i as kl,s as wl,e as ee,a as k,t as V,b as z,c as Me,F as gl,d as m,a3 as hl,g as H,h as p,j as W,a4 as Re,m as Ne,k as X,n as me,o as q,p as Fe,r as He,q as G,u as I,w as Ee,v as Te,x as Ge,y as We,z as yl,A as jl,C as Dl,D as ve,I as Ol,f as xe,N as Cl,T as El,J as Ml,M as Nl,K as Tl,L as Sl,P as Ll,l as Ie,a2 as $e,Q as Pl,Z as Al,G as el,H as ll,X as ql}from"./index-XSy4RcHY.js";import"./pt-C8dmXWAd.js";import{P as zl}from"./Pagination-CGKBM0ax.js";function tl(l,n,e){const t=l.slice();return t[47]=n[e],t[48]=n,t[49]=e,t}function nl(l,n,e){const t=l.slice();return t[50]=n[e],t[51]=n,t[52]=e,t}function sl(l,n,e){const t=l.slice();return t[53]=n[e],t}function ol(l,n,e){const t=l.slice();return t[50]=n[e],t}function rl(l,n,e){const t=l.slice();return t[53]=n[e],t}function al(l){let n,e=l[53].lang+"",t,c;return{c(){n=k("option"),t=V(e),n.__value=c=l[53].lang,W(n,n.__value)},m(s,r){H(s,n,r),p(n,t)},p(s,r){r[0]&8&&e!==(e=s[53].lang+"")&&me(t,e),r[0]&8&&c!==(c=s[53].lang)&&(n.__value=c,W(n,n.__value))},d(s){s&&I(n)}}}function fl(l){var c,s;let n,e=(((s=(c=l[10])==null?void 0:c[l[50]])==null?void 0:s.label)||l[9].t(`crud.${l[50]}`))+"",t;return{c(){var r,g;n=k("th"),t=V(e),m(n,"class","normal-case "+(((g=(r=l[10])==null?void 0:r[l[50]])==null?void 0:g.width)||""))},m(r,g){H(r,n,g),p(n,t)},p(r,g){var h,O;g[0]&512&&e!==(e=(((O=(h=r[10])==null?void 0:h[r[50]])==null?void 0:O.label)||r[9].t(`crud.${r[50]}`))+"")&&me(t,e)},d(r){r&&I(n)}}}function Bl(l){let n,e,t,c;function s(){l[28].call(e,l[50],l[48],l[49])}function r(...g){return l[29](l[47],...g)}return{c(){var g,h;n=k("td"),e=k("input"),m(e,"type","text"),m(e,"class","input input-sm w-full bg-transparent"),m(n,"class","p-0.5 "+(((h=(g=l[10])==null?void 0:g[l[50]])==null?void 0:h.width)||""))},m(g,h){H(g,n,h),p(n,e),W(e,l[47][l[50]]),t||(c=[X(e,"input",s),X(e,"change",r)],t=!0)},p(g,h){l=g,h[0]&1031&&e.value!==l[47][l[50]]&&W(e,l[47][l[50]])},d(g){g&&I(n),t=!1,Ge(c)}}}function Fl(l){var O,C;let n,e,t,c,s=ee(((C=(O=l[10])==null?void 0:O[l[50]])==null?void 0:C.options)||[]),r=[];for(let i=0;i<s.length;i+=1)r[i]=cl(sl(l,s,i));function g(){l[26].call(e,l[50],l[48],l[49])}function h(...i){return l[27](l[47],...i)}return{c(){var i,j,u,_;n=k("td"),e=k("select");for(let b=0;b<r.length;b+=1)r[b].c();m(e,"class","select select-sm p-0.5 "+(((j=(i=l[10])==null?void 0:i[l[50]])==null?void 0:j.width)||"w-full")+" bg-transparent"),l[47][l[50]]===void 0&&hl(g),m(n,"class","p-0.5 "+(((_=(u=l[10])==null?void 0:u[l[50]])==null?void 0:_.width)||""))},m(i,j){H(i,n,j),p(n,e);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);Re(e,l[47][l[50]],!0),t||(c=[X(e,"change",g),X(e,"change",h)],t=!0)},p(i,j){var u,_;if(l=i,j[0]&1024){s=ee(((_=(u=l[10])==null?void 0:u[l[50]])==null?void 0:_.options)||[]);let b;for(b=0;b<s.length;b+=1){const a=sl(l,s,b);r[b]?r[b].p(a,j):(r[b]=cl(a),r[b].c(),r[b].m(e,null))}for(;b<r.length;b+=1)r[b].d(1);r.length=s.length}j[0]&1031&&Re(e,l[47][l[50]])},d(i){i&&I(n),Ee(r,i),t=!1,Ge(c)}}}function Hl(l){let n,e,t,c;function s(){l[24].call(e,l[50],l[48],l[49])}function r(...g){return l[25](l[47],...g)}return{c(){var g,h;n=k("td"),e=k("input"),m(e,"type","checkbox"),m(e,"class","checkbox checkbox-sm"),m(n,"class","p-0 text-center "+(((h=(g=l[10])==null?void 0:g[l[50]])==null?void 0:h.width)||""))},m(g,h){H(g,n,h),p(n,e),e.checked=l[47][l[50]],t||(c=[X(e,"change",s),X(e,"change",r)],t=!0)},p(g,h){l=g,h[0]&1031&&(e.checked=l[47][l[50]])},d(g){g&&I(n),t=!1,Ge(c)}}}function Il(l){let n,e,t=el(l[47][l[50]],30)+"",c,s;return{c(){var r,g;n=k("td"),e=k("span"),c=V(t),m(e,"title",s=ll(l[47][l[50]],30)),m(n,"class","normal-case "+(((g=(r=l[10])==null?void 0:r[l[50]])==null?void 0:g.width)||""))},m(r,g){H(r,n,g),p(n,e),p(e,c)},p(r,g){g[0]&7&&t!==(t=el(r[47][r[50]],30)+"")&&me(c,t),g[0]&1031&&s!==(s=ll(r[47][r[50]],30))&&m(e,"title",s)},d(r){r&&I(n)}}}function cl(l){let n,e=l[53].label+"",t;return{c(){n=k("option"),t=V(e),n.__value=l[53].value,W(n,n.__value)},m(c,s){H(c,n,s),p(n,t)},p:ql,d(c){c&&I(n)}}}function ul(l){let n;function e(s,r){var g,h,O,C,i,j;return((h=(g=s[10])==null?void 0:g[s[50]])==null?void 0:h.editable)!==!0?Il:((C=(O=s[10])==null?void 0:O[s[50]])==null?void 0:C.type)==="boolean"?Hl:((j=(i=s[10])==null?void 0:i[s[50]])==null?void 0:j.type)==="select"?Fl:Bl}let c=e(l)(l);return{c(){c.c(),n=gl()},m(s,r){c.m(s,r),H(s,n,r)},p(s,r){c.p(s,r)},d(s){s&&I(n),c.d(s)}}}function _l(l){let n,e,t,c,s,r,g,h,O,C,i=ee(Object.keys(l[10])),j=[];for(let _=0;_<i.length;_+=1)j[_]=ul(nl(l,i,_));r=new Ol({props:{type:"outline",icon:"trash",path:"icons"}});function u(){return l[30](l[47],l[48],l[49])}return{c(){n=k("tr");for(let _=0;_<j.length;_+=1)j[_].c();e=z(),t=k("td"),c=k("button"),s=k("span"),Me(r.$$.fragment),g=z(),m(s,"class","w-6"),m(c,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),m(t,"class","p-0 w-16 text-right"),xe(n,"display",l[47].excluded===!0?"none":"")},m(_,b){H(_,n,b);for(let a=0;a<j.length;a+=1)j[a]&&j[a].m(n,null);p(n,e),p(n,t),p(t,c),p(c,s),Ne(r,s,null),p(n,g),h=!0,O||(C=X(c,"click",u),O=!0)},p(_,b){if(l=_,b[0]&9223){i=ee(Object.keys(l[10]));let a;for(a=0;a<i.length;a+=1){const le=nl(l,i,a);j[a]?j[a].p(le,b):(j[a]=ul(le),j[a].c(),j[a].m(n,e))}for(;a<j.length;a+=1)j[a].d(1);j.length=i.length}b[0]&7&&xe(n,"display",l[47].excluded===!0?"none":"")},i(_){h||(q(r.$$.fragment,_),h=!0)},o(_){G(r.$$.fragment,_),h=!1},d(_){_&&I(n),Ee(j,_),Te(r),O=!1,C()}}}function il(l){let n,e;return n=new Cl({props:{open:l[7]}}),{c(){Me(n.$$.fragment)},m(t,c){Ne(n,t,c),e=!0},p(t,c){const s={};c[0]&128&&(s.open=t[7]),n.$set(s)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){G(n.$$.fragment,t),e=!1},d(t){Te(n,t)}}}function pl(l){let n,e;return n=new El({props:{open:l[4].open,type:l[4].type,msg:l[4].msg,timer:2e4}}),n.$on("dismiss",l[32]),{c(){Me(n.$$.fragment)},m(t,c){Ne(n,t,c),e=!0},p(t,c){const s={};c[0]&16&&(s.open=t[4].open),c[0]&16&&(s.type=t[4].type),c[0]&16&&(s.msg=t[4].msg),n.$set(s)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){G(n.$$.fragment,t),e=!1},d(t){Te(n,t)}}}function ml(l){let n,e;const t=[l[5]];let c={};for(let s=0;s<t.length;s+=1)c=Ml(c,t[s]);return n=new Nl({props:c}),n.$on("dismiss",l[33]),{c(){Me(n.$$.fragment)},m(s,r){Ne(n,s,r),e=!0},p(s,r){const g=r[0]&32?Tl(t,[Sl(s[5])]):{};n.$set(g)},i(s){e||(q(n.$$.fragment,s),e=!0)},o(s){G(n.$$.fragment,s),e=!1},d(s){Te(n,s)}}}function Rl(l){var Je,Ke,Qe,Ve;let n,e,t,c,s,r,g=l[9].t("crud.name")+"",h,O,C,i,j,u,_,b,a,le=l[9].t("crud.org_label")+"",ne,R,Se,A,ue,se,v,ge,he,x=l[9].t("crud.translated_label")+"",je,Le,Pe,B,Ae,oe,_e,be,de,ke=l[9].t("crud.lang")+"",De,qe,ze,J,Be,f,d,D,F,Y,K,ie,pe,Oe,Z,we,re,ae,fe,U,ye,Ce,Q=ee(((Ke=(Je=l[3])==null?void 0:Je.lang)==null?void 0:Ke.data)||[]),M=[];for(let o=0;o<Q.length;o+=1)M[o]=al(rl(l,Q,o));let $=ee(Object.keys(l[10])),N=[];for(let o=0;o<$.length;o+=1)N[o]=fl(ol(l,$,o));let te=ee(l[2].slice(l[1]*l[0],l[1]*l[0]+l[0])),E=[];for(let o=0;o<te.length;o+=1)E[o]=_l(tl(l,te,o));const bl=o=>G(E[o],1,1,()=>{E[o]=null});Z=new zl({props:{lang:(Qe=l[8])==null?void 0:Qe.lang,conf:(Ve=l[8])==null?void 0:Ve.conf,rows_per_page:l[0]||10,page:l[1]||0,total_rows:l[2].length}}),Z.$on("pageChange",l[31]);let S=l[7]&&il(l),L=l[4].open&&pl(l),P=l[5].open&&ml(l);return{c(){n=k("div"),e=k("div"),t=k("div"),c=k("label"),s=k("span"),r=k("b"),h=V(g),O=V(":"),C=z(),i=k("input"),j=z(),u=k("div"),_=k("label"),b=k("span"),a=k("b"),ne=V(le),R=V(":"),Se=z(),A=k("input"),ue=z(),se=k("div"),v=k("label"),ge=k("span"),he=k("b"),je=V(x),Le=V(":"),Pe=z(),B=k("input"),Ae=z(),oe=k("div"),_e=k("label"),be=k("span"),de=k("b"),De=V(ke),qe=V(":"),ze=z(),J=k("select");for(let o=0;o<M.length;o+=1)M[o].c();Be=z(),f=k("div"),d=k("table"),D=k("thead"),F=k("tr");for(let o=0;o<N.length;o+=1)N[o].c();Y=z(),K=k("th"),ie=z(),pe=k("tbody");for(let o=0;o<E.length;o+=1)E[o].c();Oe=z(),Me(Z.$$.fragment),we=z(),S&&S.c(),re=z(),L&&L.c(),ae=z(),P&&P.c(),fe=gl(),m(s,"class","label-text pt-0"),m(c,"class","label pt-0"),m(c,"for","_name"),m(i,"type","text"),m(i,"id","_name"),m(i,"name","_name"),i.disabled=!0,m(i,"placeholder",""),m(i,"class","input input-bordered w-full input-sm"),m(i,"autocomplete","off"),m(i,"autocorrect","off"),m(t,"class","form-control w-[20%] pr-2 mt-0"),m(b,"class","label-text pt-0"),m(_,"class","label pt-0"),m(_,"for","_comment"),m(A,"type","text"),m(A,"id","_comment"),m(A,"name","_comment"),A.disabled=!0,m(A,"placeholder",""),m(A,"class","input input-bordered w-full input-sm"),m(A,"autocomplete","off"),m(A,"autocorrect","off"),m(u,"class","form-control w-[30%] pr-2 mt-0"),m(ge,"class","label-text pt-0"),m(v,"class","label pt-0"),m(v,"for","_table_transl_desc"),m(B,"type","text"),m(B,"id","_table_transl_desc"),m(B,"name","_table_transl_desc"),m(B,"placeholder",""),m(B,"class","input input-bordered w-full input-sm"),m(B,"autocomplete","off"),m(B,"autocorrect","off"),m(se,"class","form-control w-[30%] pr-2 mt-0"),m(be,"class","label-text pt-0"),m(_e,"class","label pt-0"),m(_e,"for","_lang"),m(J,"class","select select-sm select-bordered w-20"),l[6].lang===void 0&&hl(()=>l[22].call(J)),m(oe,"class","form-control w-[20%] pr-2 mt-0"),m(e,"class","w-full flex flex-row p-1"),m(K,"class","p-0.5 w-16"),m(K,"colspan",3),m(d,"class","table table-zebra w-[98%] normal-case table-xs"),m(f,"class","w-full overflow-x-auto"),m(n,"class","--flex --flex-col")},m(o,w){H(o,n,w),p(n,e),p(e,t),p(t,c),p(c,s),p(s,r),p(r,h),p(r,O),p(t,C),p(t,i),W(i,l[6].name),p(e,j),p(e,u),p(u,_),p(_,b),p(b,a),p(a,ne),p(a,R),p(u,Se),p(u,A),W(A,l[6].table_org_desc),p(e,ue),p(e,se),p(se,v),p(v,ge),p(ge,he),p(he,je),p(he,Le),p(se,Pe),p(se,B),W(B,l[6].table_transl_desc),p(e,Ae),p(e,oe),p(oe,_e),p(_e,be),p(be,de),p(de,De),p(de,qe),p(oe,ze),p(oe,J);for(let T=0;T<M.length;T+=1)M[T]&&M[T].m(J,null);Re(J,l[6].lang,!0),p(n,Be),p(n,f),p(f,d),p(d,D),p(D,F);for(let T=0;T<N.length;T+=1)N[T]&&N[T].m(F,null);p(F,Y),p(F,K),p(d,ie),p(d,pe);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(pe,null);p(n,Oe),Ne(Z,n,null),H(o,we,w),S&&S.m(o,w),H(o,re,w),L&&L.m(o,w),H(o,ae,w),P&&P.m(o,w),H(o,fe,w),U=!0,ye||(Ce=[X(i,"input",l[19]),X(A,"input",l[20]),X(B,"input",l[21]),X(J,"change",l[22]),X(J,"change",l[23])],ye=!0)},p(o,w){var Xe,Ye,Ze,Ue;if((!U||w[0]&512)&&g!==(g=o[9].t("crud.name")+"")&&me(h,g),w[0]&72&&i.value!==o[6].name&&W(i,o[6].name),(!U||w[0]&512)&&le!==(le=o[9].t("crud.org_label")+"")&&me(ne,le),w[0]&72&&A.value!==o[6].table_org_desc&&W(A,o[6].table_org_desc),(!U||w[0]&512)&&x!==(x=o[9].t("crud.translated_label")+"")&&me(je,x),w[0]&72&&B.value!==o[6].table_transl_desc&&W(B,o[6].table_transl_desc),(!U||w[0]&512)&&ke!==(ke=o[9].t("crud.lang")+"")&&me(De,ke),w[0]&8){Q=ee(((Ye=(Xe=o[3])==null?void 0:Xe.lang)==null?void 0:Ye.data)||[]);let y;for(y=0;y<Q.length;y+=1){const ce=rl(o,Q,y);M[y]?M[y].p(ce,w):(M[y]=al(ce),M[y].c(),M[y].m(J,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=Q.length}if(w[0]&72&&Re(J,o[6].lang),w[0]&1536){$=ee(Object.keys(o[10]));let y;for(y=0;y<$.length;y+=1){const ce=ol(o,$,y);N[y]?N[y].p(ce,w):(N[y]=fl(ce),N[y].c(),N[y].m(F,Y))}for(;y<N.length;y+=1)N[y].d(1);N.length=$.length}if(w[0]&9223){te=ee(o[2].slice(o[1]*o[0],o[1]*o[0]+o[0]));let y;for(y=0;y<te.length;y+=1){const ce=tl(o,te,y);E[y]?(E[y].p(ce,w),q(E[y],1)):(E[y]=_l(ce),E[y].c(),q(E[y],1),E[y].m(pe,null))}for(Fe(),y=te.length;y<E.length;y+=1)bl(y);He()}const T={};w[0]&256&&(T.lang=(Ze=o[8])==null?void 0:Ze.lang),w[0]&256&&(T.conf=(Ue=o[8])==null?void 0:Ue.conf),w[0]&1&&(T.rows_per_page=o[0]||10),w[0]&2&&(T.page=o[1]||0),w[0]&4&&(T.total_rows=o[2].length),Z.$set(T),o[7]?S?(S.p(o,w),w[0]&128&&q(S,1)):(S=il(o),S.c(),q(S,1),S.m(re.parentNode,re)):S&&(Fe(),G(S,1,1,()=>{S=null}),He()),o[4].open?L?(L.p(o,w),w[0]&16&&q(L,1)):(L=pl(o),L.c(),q(L,1),L.m(ae.parentNode,ae)):L&&(Fe(),G(L,1,1,()=>{L=null}),He()),o[5].open?P?(P.p(o,w),w[0]&32&&q(P,1)):(P=ml(o),P.c(),q(P,1),P.m(fe.parentNode,fe)):P&&(Fe(),G(P,1,1,()=>{P=null}),He())},i(o){if(!U){for(let w=0;w<te.length;w+=1)q(E[w]);q(Z.$$.fragment,o),q(S),q(L),q(P),U=!0}},o(o){E=E.filter(Boolean);for(let w=0;w<E.length;w+=1)G(E[w]);G(Z.$$.fragment,o),G(S),G(L),G(P),U=!1},d(o){o&&(I(n),I(we),I(re),I(ae),I(fe)),Ee(M,o),Ee(N,o),Ee(E,o),Te(Z),S&&S.d(o),L&&L.d(o),P&&P.d(o),ye=!1,Ge(Ce)}}}function Gl(l,n,e){let t,c;We(l,yl,f=>e(8,t=f)),We(l,jl,f=>e(9,c=f));let{table:s}=n,{data:r}=n,{option:g={}}=n,{action:h={}}=n,O=10,C=0,i=[],j=[],u={},_={open:!1,msg:null,type:null},b={open:!1,width:12,heigth:85,header:!0,title:"Dialog Title",header_actions:[],component:null},a={name:"",comment:""};const le=async f=>{e(7,R=!0);const d={lang:t==null?void 0:t.lang,conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,app:t==null?void 0:t.selected_app,table:f.table,data:f.data};if(!d.data||!d.table)return e(7,R=!1),null;const D=await Al(d);D.success===!0?(e(4,_.open=!0,_),e(4,_.type="success",_),e(4,_.msg=D.msg,_),h!=null&&h.action&&h.action({})):(e(4,_.open=!0,_),e(4,_.type="error",_),e(4,_.msg=D.msg,_)),e(7,R=!1)};let ne={field:{type:"string",width:"w-40",label:c.t("crud.name"),editable:!1},field_org_desc:{type:"string",width:"w-auto",label:c.t("crud.org_label"),editable:!1},field_transl_desc:{type:"string",width:"w-auto",label:c.t("crud.org_label"),editable:!0}},R=!1;const Se=async f=>{e(7,R=!0);try{const d={lang:f.lang||(t==null?void 0:t.lang),conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,app:f.app,table:f.table};console.log({params:d});const D=await Pl(d);if(console.log({res:D}),e(7,R=!1),D.success===!0&&D.data)return D.data;e(4,_.open=!0,_),e(4,_.type="error",_),e(4,_.msg=D.msg,_)}catch(d){console.log(d.message),e(4,_.open=!0,_),e(4,_.type="error",_),e(4,_.msg=d.message,_)}e(7,R=!1)},A=f=>{f.detail.type==="next"?e(1,C+=1):f.detail.type==="back"?e(1,C-=1):f.detail.type==="first"?e(1,C=0):f.detail.type==="last"?e(1,C=Math.ceil(O/((f==null?void 0:f.length)||O))):f.detail.type==="rows_per_page"&&(e(0,O=f.detail.rows_per_page),e(1,C=0))},ue=f=>{e(5,b.open=!1,b)},se=async f=>{f.no_loding||e(7,R=!0);const d={lang:t==null?void 0:t.lang,conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,app:t==null?void 0:t.selected_app,table:f.tables||["lang"]},D=await Ll(d);D.success===!0&&D.data?(e(3,u.lang=D,u),console.log(u)):(e(4,_.open=!0,_),e(4,_.type="error",_),e(4,_.msg=D.msg,_)),e(7,R=!1)},v=(f,d)=>{var D;if(d.table_id&&!d._edited){d._edited=!0,d!=null&&d._edited_params||(d._edited_params=[]);const F=(D=f==null?void 0:f.target)==null?void 0:D.name;d._edited_params.includes(F)||d._edited_params.push(F)}},ge=f=>{ue(),le({table:"translate_table",data:[a,...i]}),x(Ie.cloneDeep({lang:a.lang}))},he=f=>{let d=c.t("crud.change_translation_alert",{name:a==null?void 0:a.name,lang:a==null?void 0:a.lang});a!=null&&a.transl_tbl_id||(d=c.t("crud.create_translation_alert",{name:a==null?void 0:a.name,lang:a==null?void 0:a.lang})),e(5,b.component=null,b),e(5,b.msg=null,b),e(5,b.html_msg=`<span class="m-2 text-lg">${d}</span>`,b),e(5,b.open=!0,b),e(5,b.header=!1,b),e(5,b.data=f,b),e(5,b.actions=[{type:"btn",icon:"ban",name:"NO",class:"btn-sm text-error",label:c.t("crud.no"),action:ue},{type:"btn",icon:"check",name:"YES",class:"btn-sm text-success",label:c.t("crud.yes"),action:ge}],b),e(5,b.width=5,b),e(5,b.heigth=null,b)},x=async f=>{var D,F,Y,K,ie,pe,Oe,Z,we,re,ae,fe,U,ye,Ce;e(6,a.name=s,a),e(6,a.table_org_desc=((D=u==null?void 0:u[s])==null?void 0:D.comment)||s,a),e(6,a.table_transl_desc=((F=u==null?void 0:u[s])==null?void 0:F.comment)||s,a),e(6,a.table=s,a),e(6,a.table_id=(Y=u==null?void 0:u[s])==null?void 0:Y.table_id,a),e(6,a.comment=(K=u==null?void 0:u[s])==null?void 0:K.comment,a),e(6,a.lang=a.lang||(t==null?void 0:t.lang),a);const d=await Se({table:s,app:r==null?void 0:r.app,lang:f.lang||a.lang});e(3,u={...u,...d}),e(6,a={...a,...r==null?void 0:r.app,...(ie=u==null?void 0:u[s])==null?void 0:ie.translate_table}),f.lang!==a.lang&&e(6,a.lang=f.lang,a),(Oe=(pe=u==null?void 0:u[s])==null?void 0:pe.translate_table)!=null&&Oe.transl_tbl_id||delete a.transl_tbl_id,e(6,a._table="translate_table",a),e(7,R=!1),j=Ie.cloneDeep(i),e(2,i=[]);for(const Q in(Z=u==null?void 0:u[s])==null?void 0:Z.fields)if(Object.hasOwnProperty.call((we=u==null?void 0:u[s])==null?void 0:we.fields,Q)){const M=(re=u==null?void 0:u[s])==null?void 0:re.fields[Q],$=j.filter(te=>te.field===Q);let N={name:M.name,field:M.name,comment:M.comment,field_org_desc:M.comment,field_transl_desc:M.comment,table:s,table_id:(ae=u==null?void 0:u[s])==null?void 0:ae.table_id,...r==null?void 0:r.app,...$==null?void 0:$[0],...(U=(fe=u==null?void 0:u[s])==null?void 0:fe.translate_table_field)==null?void 0:U[Q]};f.lang!==N.lang&&(N.lang=f.lang),(Ce=(ye=u==null?void 0:u[s])==null?void 0:ye.translate_table_field)!=null&&Ce[Q]||delete N.transl_tbl_field_id,N._table="translate_table_field",e(2,i=[...i,Ie.cloneDeep(N)])}console.log({translate_table:a,translate_table_field:i})};Dl(async()=>{c.changeLanguage(t==null?void 0:t.lang);try{ve.locale(t==null?void 0:t.lang)}catch{ve.locale("en-us")}console.log("Manage Tables Mount:",{table:s,data:r,option:g}),s&&(await x({table:s,data:r,lang:t==null?void 0:t.lang}),se({tables:["lang"]}))});function je(){a.name=this.value,e(6,a),e(3,u)}function Le(){a.table_org_desc=this.value,e(6,a),e(3,u)}function Pe(){a.table_transl_desc=this.value,e(6,a),e(3,u)}function B(){a.lang=$e(this),e(6,a),e(3,u)}const Ae=f=>x(Ie.cloneDeep({lang:a.lang}));function oe(f,d,D){d[D][f]=this.checked,e(2,i),e(1,C),e(0,O),e(10,ne)}const _e=(f,d)=>v(d,f);function be(f,d,D){d[D][f]=$e(this),e(2,i),e(1,C),e(0,O),e(10,ne)}const de=(f,d)=>v(d,f);function ke(f,d,D){d[D][f]=this.value,e(2,i),e(1,C),e(0,O),e(10,ne)}const De=(f,d)=>v(d,f),qe=(f,d,D)=>{var F;try{if(console.log(f),f.transl_tbl_field_id)e(2,d[D].excluded=!0,i,e(1,C),e(0,O)),e(2,i=[...i]);else{const Y=i.map((K,ie)=>(K.index=ie,K)).filter(K=>K.name===f.name);i.splice((F=Y==null?void 0:Y[0])==null?void 0:F.index,1),e(2,i=[...i])}}catch{}},ze=f=>A({detail:f.detail,length:i.length}),J=f=>{e(4,_.open=!1,_)},Be=f=>ue(f.detail);return l.$$set=f=>{"table"in f&&e(16,s=f.table),"data"in f&&e(15,r=f.data),"option"in f&&e(17,g=f.option),"action"in f&&e(18,h=f.action)},l.$$.update=()=>{l.$$.dirty[0]&65536&&console.log({table:s}),l.$$.dirty[0]&262144&&((h==null?void 0:h.name)=="CANCEL"&&(h==null||h.action()),(h==null?void 0:h.name)=="REFRESH"&&x({}),(h==null?void 0:h.name)=="SAVE"&&(console.log(h),he({})))},[O,C,i,u,_,b,a,R,t,c,ne,A,ue,v,x,r,s,g,h,je,Le,Pe,B,Ae,oe,_e,be,de,ke,De,qe,ze,J,Be]}class Vl extends dl{constructor(n){super(),kl(this,n,Gl,Rl,wl,{table:16,data:15,option:17,action:18},null,[-1,-1])}}export{Vl as default};
