const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Crud-DEkA7bmy.js","./index-e7pn43aD.js","./index-C05jt-3d.css","./pt-D4E-OZuv.js","./Pagination-CqxQbQBp.js","./Dialog-Bn1sEgSo.js","./AdminApps-By6A6Aha.js","./Calendar-BRrlDVkW.js","./DBExplorer-CBSsb0E7.js","./DCJS-BTDeSRAF.js","./Dashboard-K79qaTtq.js","./DataViz-y2-KD00Y.js","./DataTable-BCprVXTc.js","./EChartsEngine-fbbz1Ezy.js","./index-Da4b5_QG.js","./ETLReportBase-DjrGu8sR.js","./ETLX-DaBrYgVm.js","./EditConf-CHy3zxxk.js","./ObjectEditor-CII2MLKg.js","./EditDashboardItem-GmI9Gr1O.js","./EvidenceDash-C7wLTucd.js","./EvidenceDash-V-dQB2v8.css","./GaugeJS-DQwSV7DP.js","./ImportFields-D0E1uzTt.js","./ManageDBTable-Cq1BVVFn.js","./MiniStat-B5qO05o8.js","./ObjectEditorGPT-l1uIl9SO.js","./ObjectEditorGPT-C8ph-MjK.css","./PickDates-NDES-7LM.js","./RowLevelAccess-Dc8b8cbh.js","./TranslateDBTable-C89NqW8o.js","./UserRowLevelAccess-Tg2fQYyJ.js"])))=>i.map(i=>d[i]);
import{S as Be,i as Ce,s as Se,T as Je,e as V,a as H,c as U,w as ke,b as E,d as S,f as P,m as F,g,h as M,j as T,k as q,o as J,p as K,q as oe,_ as Ne,r as je,u as He,Q as p,y as Y,U as Me,J as Z,af as se,v as Q,x as te,z as ae,t as qe,A as re,l as w,H as ee,n as ze,D as Ge,a3 as _e,B as x,K as ue,N as Ue,I as De}from"./index-e7pn43aD.js";function fe(n,e,t){const s=n.slice();return s[37]=e[t],s[39]=t,s}function ce(n,e,t){const s=n.slice();return s[37]=e[t],s[40]=e,s[39]=t,s}function me(n,e,t){const s=n.slice();return s[41]=e[t],s}function de(n){let e,t,s,r,f=Q(n[3]),o=[];for(let i=0;i<f.length;i+=1)o[i]=ge(ce(n,f,i));const m=i=>T(o[i],1,1,()=>{o[i]=null});return{c(){e=V("div");for(let i=0;i<o.length;i+=1)o[i].c();t=H(),s=V("div"),s.innerHTML="<b></b>",E(s,"role","tab"),E(s,"class","tab text-md grow"),E(e,"role","tablist"),E(e,"class","tabs tabs-lifted w-full flex")},m(i,_){S(i,e,_);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null);P(e,t),P(e,s),r=!0},p(i,_){if(_[0]&124){f=Q(i[3]);let l;for(l=0;l<f.length;l+=1){const c=ce(i,f,l);o[l]?(o[l].p(c,_),g(o[l],1)):(o[l]=ge(c),o[l].c(),g(o[l],1),o[l].m(e,t))}for(M(),l=f.length;l<o.length;l+=1)m(l);q()}},i(i){if(!r){for(let _=0;_<f.length;_+=1)g(o[_]);r=!0}},o(i){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)T(o[_]);r=!1},d(i){i&&J(e),te(o,i)}}}function he(n){let e,t,s,r,f,o,m,i;r=new De({props:{type:"outline",icon:n[41].icon||"hashtag",path:"icons"}});function _(...l){return n[23](n[37],n[41],...l)}return{c(){e=V("div"),t=V("button"),s=V("span"),U(r.$$.fragment),E(s,"class","w-5 h-5"),E(t,"class","btn btn-sm btn-circle btn-ghost"),E(e,"class","tooltip tooltip-left"),E(e,"data-tip",f=n[5].t(`${n[41].label}`)),x(e,"display",n[2]===n[39]?null:"none")},m(l,c){S(l,e,c),P(e,t),P(t,s),F(r,s,null),o=!0,m||(i=w(t,"click",_),m=!0)},p(l,c){n=l;const y={};c[0]&8&&(y.icon=n[41].icon||"hashtag"),r.$set(y),(!o||c[0]&40&&f!==(f=n[5].t(`${n[41].label}`)))&&E(e,"data-tip",f),c[0]&4&&x(e,"display",n[2]===n[39]?null:"none")},i(l){o||(g(r.$$.fragment,l),o=!0)},o(l){T(r.$$.fragment,l),o=!1},d(l){l&&J(e),K(r),m=!1,i()}}}function be(n){let e,t,s,r,f,o,m,i;r=new De({props:{type:"outline",icon:"x",path:"icons"}});function _(...l){return n[24](n[39],...l)}return{c(){e=V("div"),t=V("button"),s=V("span"),U(r.$$.fragment),E(s,"class","w-5 h-5"),E(t,"class","btn btn-sm btn-circle btn-ghost"),E(e,"class","tooltip tooltip-left"),E(e,"data-tip",f=n[5].t("crud.close"))},m(l,c){S(l,e,c),P(e,t),P(t,s),F(r,s,null),o=!0,m||(i=w(t,"click",ee(_)),m=!0)},p(l,c){n=l,(!o||c[0]&32&&f!==(f=n[5].t("crud.close")))&&E(e,"data-tip",f)},i(l){o||(g(r.$$.fragment,l),o=!0)},o(l){T(r.$$.fragment,l),o=!1},d(l){l&&J(e),K(r),m=!1,i()}}}function ge(n){var z;let e,t,s=ae(n[37].label,30)+"",r,f,o,m,i,_,l,c,y,R=Q(((z=n[37])==null?void 0:z.header_actions)||[]),u=[];for(let v=0;v<R.length;v+=1)u[v]=he(me(n,R,v));const h=v=>T(u[v],1,1,()=>{u[v]=null});let b=n[37].show_top_close&&be(n);function N(){return n[25](n[39])}function j(...v){return n[26](n[37],n[40],n[39],...v)}return{c(){e=V("div"),t=V("b"),r=qe(s),f=H();for(let v=0;v<u.length;v+=1)u[v].c();o=H(),b&&b.c(),m=H(),E(t,"class","pr-2"),E(e,"role","tab"),E(e,"class",i="tab text-md "+(n[2]===n[39]?"tab-active active":"")+" flex flex-row"),E(e,"title",_=re(n[37].label,30))},m(v,k){S(v,e,k),P(e,t),P(t,r),P(e,f);for(let O=0;O<u.length;O+=1)u[O]&&u[O].m(e,null);P(e,o),b&&b.m(e,null),P(e,m),l=!0,c||(y=[w(e,"click",ee(N)),w(e,"contextmenu",ee(j))],c=!0)},p(v,k){var O;if(n=v,(!l||k[0]&8)&&s!==(s=ae(n[37].label,30)+"")&&ze(r,s),k[0]&60){R=Q(((O=n[37])==null?void 0:O.header_actions)||[]);let L;for(L=0;L<R.length;L+=1){const B=me(n,R,L);u[L]?(u[L].p(B,k),g(u[L],1)):(u[L]=he(B),u[L].c(),g(u[L],1),u[L].m(e,o))}for(M(),L=R.length;L<u.length;L+=1)h(L);q()}n[37].show_top_close?b?(b.p(n,k),k[0]&8&&g(b,1)):(b=be(n),b.c(),g(b,1),b.m(e,m)):b&&(M(),T(b,1,1,()=>{b=null}),q()),(!l||k[0]&4&&i!==(i="tab text-md "+(n[2]===n[39]?"tab-active active":"")+" flex flex-row"))&&E(e,"class",i),(!l||k[0]&8&&_!==(_=re(n[37].label,30)))&&E(e,"title",_)},i(v){if(!l){for(let k=0;k<R.length;k+=1)g(u[k]);g(b),l=!0}},o(v){u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)T(u[k]);T(b),l=!1},d(v){v&&J(e),te(u,v),b&&b.d(),c=!1,Ge(y)}}}function ve(n){let e,t,s=Q(n[3]),r=[];for(let o=0;o<s.length;o+=1)r[o]=pe(fe(n,s,o));const f=o=>T(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=ke()},m(o,m){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,m);S(o,e,m),t=!0},p(o,m){if(m[0]&28){s=Q(o[3]);let i;for(i=0;i<s.length;i+=1){const _=fe(o,s,i);r[i]?(r[i].p(_,m),g(r[i],1)):(r[i]=pe(_),r[i].c(),g(r[i],1),r[i].m(e.parentNode,e))}for(M(),i=s.length;i<r.length;i+=1)f(i);q()}},i(o){if(!t){for(let m=0;m<s.length;m+=1)g(r[m]);t=!0}},o(o){r=r.filter(Boolean);for(let m=0;m<r.length;m+=1)T(r[m]);t=!1},d(o){o&&J(e),te(r,o)}}}function pe(n){let e,t,s,r;const f=[{...n[37].data,n_tabs:n[3].length},{action:n[4][n[37].label]}];var o=n[37].component;function m(i,_){let l={};for(let c=0;c<f.length;c+=1)l=Z(l,f[c]);return _!==void 0&&_[0]&24&&(l=Z(l,ue(f,[_[0]&8&&{...i[37].data,n_tabs:i[3].length},{action:i[4][i[37].label]}]))),{props:l}}return o&&(t=_e(o,m(n))),{c(){e=V("div"),t&&U(t.$$.fragment),s=H(),E(e,"class","w-full"),x(e,"display",n[2]===n[39]?null:"none")},m(i,_){S(i,e,_),t&&F(t,e,null),P(e,s),r=!0},p(i,_){if(_[0]&8&&o!==(o=i[37].component)){if(t){M();const l=t;T(l.$$.fragment,1,0,()=>{K(l,1)}),q()}o?(t=_e(o,m(i,_)),U(t.$$.fragment),g(t.$$.fragment,1),F(t,e,s)):t=null}else if(o){const l=_[0]&24?ue(f,[_[0]&8&&{...i[37].data,n_tabs:i[3].length},{action:i[4][i[37].label]}]):{};t.$set(l)}(!r||_[0]&4)&&x(e,"display",i[2]===i[39]?null:"none")},i(i){r||(t&&g(t.$$.fragment,i),r=!0)},o(i){t&&T(t.$$.fragment,i),r=!1},d(i){i&&J(e),t&&K(t)}}}function Ee(n){let e,t;return e=new Ue({props:{open:n[1]}}),{c(){U(e.$$.fragment)},m(s,r){F(e,s,r),t=!0},p(s,r){const f={};r[0]&2&&(f.open=s[1]),e.$set(f)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Fe(n){var y,R;let e,t,s,r,f,o,m,i,_=((y=n[3])==null?void 0:y.length)>1&&de(n),l=((R=n[3])==null?void 0:R.length)>0&&ve(n);f=new Je({props:{open:n[0].open,type:n[0].type,msg:n[0].msg,timer:2e4}}),f.$on("dismiss",n[27]);let c=n[1]&&Ee(n);return{c(){e=V("div"),_&&_.c(),t=H(),s=V("div"),l&&l.c(),r=H(),U(f.$$.fragment),o=H(),c&&c.c(),m=ke(),E(s,"class","w-full grow overflow-x-hidden overflow-y-auto"),E(e,"class","p-0 overflow-hidden flex flex-col")},m(u,h){S(u,e,h),_&&_.m(e,null),P(e,t),P(e,s),l&&l.m(s,null),S(u,r,h),F(f,u,h),S(u,o,h),c&&c.m(u,h),S(u,m,h),i=!0},p(u,h){var N,j;((N=u[3])==null?void 0:N.length)>1?_?(_.p(u,h),h[0]&8&&g(_,1)):(_=de(u),_.c(),g(_,1),_.m(e,t)):_&&(M(),T(_,1,1,()=>{_=null}),q()),((j=u[3])==null?void 0:j.length)>0?l?(l.p(u,h),h[0]&8&&g(l,1)):(l=ve(u),l.c(),g(l,1),l.m(s,null)):l&&(M(),T(l,1,1,()=>{l=null}),q());const b={};h[0]&1&&(b.open=u[0].open),h[0]&1&&(b.type=u[0].type),h[0]&1&&(b.msg=u[0].msg),f.$set(b),u[1]?c?(c.p(u,h),h[0]&2&&g(c,1)):(c=Ee(u),c.c(),g(c,1),c.m(m.parentNode,m)):c&&(M(),T(c,1,1,()=>{c=null}),q())},i(u){i||(g(_),g(l),g(f.$$.fragment,u),g(c),i=!0)},o(u){T(_),T(l),T(f.$$.fragment,u),T(c),i=!1},d(u){u&&(J(e),J(r),J(o),J(m)),_&&_.d(),l&&l.d(),K(f,u),c&&c.d(u)}}}function Ke(n,e,t){let s,r;oe(n,Ne,a=>t(31,s=a)),oe(n,je,a=>t(5,r=a));let{table:f}=e,{data:o={}}=e,{menu:m={}}=e,{is_fk:i=!1}=e,{main_pk_id:_=null}=e,{main_table:l=null}=e,{label:c=null}=e,{limit:y=10}=e,{is_subform:R=!1}=e,{is_submenu:u=!1}=e,{actions:h={}}=e,{has_actions:b=!0}=e,{has_numbering:N=!1}=e,{has_check:j=!0}=e,{opts:z=null}=e,{populate_subform:v=null}=e,k,O={open:!1,msg:null,type:null},L=!1,B,D=[],X={},C=null;const Te=a=>{var A;try{const d=D.map((I,W)=>(I.index=W,I)).filter(I=>I.label===a.label);try{delete X[a.label]}catch{}if(d.length>0&&a.data){try{$((A=d[0])==null?void 0:A.index)}catch(I){console.log(I.message)}setTimeout(()=>{t(3,D=[...D,Y.cloneDeep(a)]),t(2,B=D.length-1)},10)}else t(3,D=[...D,Y.cloneDeep(a)]),t(2,B=D.length-1);console.log(D,B)}catch(d){console.log(d.message)}},$=a=>{try{if(D.length>1){try{delete X[D[a].label]}catch{}D.splice(a,1),t(3,D=[...D]),t(2,B=0)}console.log({payload:a},D)}catch(A){console.log(A.message)}},le=a=>{var d,I;const A=`${r.t("crud.list")} - ${((I=(d=s==null?void 0:s.tables)==null?void 0:d[a])==null?void 0:I.comment)||a}`;t(3,D=[{component:k,label:A,data:{label:A||c,table:a,has_actions:b,has_check:j,has_numbering:N,aux_data:o,menu:m,is_fk:i,main_pk_id:_,is_subform:R,is_submenu:u,main_table:l,limit:y,populate_subform:v,actions:{show_in_tabs:Te,dismiss_modal:h==null?void 0:h.dismiss_modal,fk_table_item_selected:h==null?void 0:h.fk_table_item_selected},intercepted:C==null?void 0:C[0],opts:z}}]),t(2,B=0),console.log(B,D)};let G=[];const Le=a=>{var A,d,I,W,ne,ie;if((I=(d=(A=s==null?void 0:s.tables)==null?void 0:A[a])==null?void 0:d.custom_table)!=null&&I.config)try{return JSON.parse((ie=(ne=(W=s==null?void 0:s.tables)==null?void 0:W[a])==null?void 0:ne.custom_table)==null?void 0:ie.config)}catch(ye){return console.log(ye.message),{}}};He(async()=>{r.changeLanguage(s==null?void 0:s.lang),(async()=>{var A;t(1,L=!0),k=(await p(async()=>{const{default:d}=await import("./Crud-DEkA7bmy.js");return{default:d}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)).default;let a=Le(f);if(G=Y.cloneDeep((a==null?void 0:a.extra_options)||[]),G.forEach(d=>{try{typeof(d==null?void 0:d.data)=="string"&&(d.data=JSON.parse(d==null?void 0:d.data))}catch(I){console.log(I.message)}}),C=G==null?void 0:G.filter(d=>d==null?void 0:d.intercept_r),console.log({table:f,extra_options:G,_is_intercepted:C}),(C==null?void 0:C.length)>0)try{k=(await Me(Object.assign({"../dyn/AdminApps.svelte":()=>p(()=>import("./AdminApps-By6A6Aha.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url),"../dyn/Calendar.svelte":()=>p(()=>import("./Calendar-BRrlDVkW.js"),__vite__mapDeps([7,1,2,3,5]),import.meta.url),"../dyn/DBExplorer.svelte":()=>p(()=>import("./DBExplorer-CBSsb0E7.js"),__vite__mapDeps([8,1,2,3,4]),import.meta.url),"../dyn/DCJS.svelte":()=>p(()=>import("./DCJS-BTDeSRAF.js"),__vite__mapDeps([9,1,2,3]),import.meta.url),"../dyn/Dashboard.svelte":()=>p(()=>import("./Dashboard-K79qaTtq.js"),__vite__mapDeps([10,1,2,3,11]),import.meta.url),"../dyn/DataTable.svelte":()=>p(()=>import("./DataTable-BCprVXTc.js"),__vite__mapDeps([12,1,2,3]),import.meta.url),"../dyn/DataViz.svelte":()=>p(()=>import("./DataViz-y2-KD00Y.js"),__vite__mapDeps([11,1,2]),import.meta.url),"../dyn/EChartsEngine.svelte":()=>p(()=>import("./EChartsEngine-fbbz1Ezy.js"),__vite__mapDeps([13,1,2,3,14]),import.meta.url),"../dyn/ETLReportBase.svelte":()=>p(()=>import("./ETLReportBase-DjrGu8sR.js"),__vite__mapDeps([15,1,2,3,4]),import.meta.url),"../dyn/ETLX.svelte":()=>p(()=>import("./ETLX-DaBrYgVm.js"),__vite__mapDeps([16,1,2,3,4]),import.meta.url),"../dyn/EditConf.svelte":()=>p(()=>import("./EditConf-CHy3zxxk.js"),__vite__mapDeps([17,1,2,18,3]),import.meta.url),"../dyn/EditDashboardItem.svelte":()=>p(()=>import("./EditDashboardItem-GmI9Gr1O.js"),__vite__mapDeps([19,1,2,3,18]),import.meta.url),"../dyn/EvidenceDash.svelte":()=>p(()=>import("./EvidenceDash-C7wLTucd.js").then(d=>d.r),__vite__mapDeps([20,1,2,3,14,21]),import.meta.url),"../dyn/GaugeJS.svelte":()=>p(()=>import("./GaugeJS-DQwSV7DP.js"),__vite__mapDeps([22,1,2,3]),import.meta.url),"../dyn/ImportFields.svelte":()=>p(()=>import("./ImportFields-D0E1uzTt.js"),__vite__mapDeps([23,1,2,3,4]),import.meta.url),"../dyn/ManageDBTable.svelte":()=>p(()=>import("./ManageDBTable-Cq1BVVFn.js"),__vite__mapDeps([24,1,2,3,4]),import.meta.url),"../dyn/MiniStat.svelte":()=>p(()=>import("./MiniStat-B5qO05o8.js"),__vite__mapDeps([25,1,2,3]),import.meta.url),"../dyn/ObjectEditor.svelte":()=>p(()=>import("./ObjectEditor-CII2MLKg.js"),__vite__mapDeps([18,1,2]),import.meta.url),"../dyn/ObjectEditorGPT.svelte":()=>p(()=>import("./ObjectEditorGPT-l1uIl9SO.js"),__vite__mapDeps([26,1,2,27]),import.meta.url),"../dyn/PickDates.svelte":()=>p(()=>import("./PickDates-NDES-7LM.js"),__vite__mapDeps([28,1,2,3]),import.meta.url),"../dyn/RowLevelAccess.svelte":()=>p(()=>import("./RowLevelAccess-Dc8b8cbh.js"),__vite__mapDeps([29,1,2,3,4]),import.meta.url),"../dyn/TranslateDBTable.svelte":()=>p(()=>import("./TranslateDBTable-C89NqW8o.js"),__vite__mapDeps([30,1,2,3,4]),import.meta.url),"../dyn/UserRowLevelAccess.svelte":()=>p(()=>import("./UserRowLevelAccess-Tg2fQYyJ.js"),__vite__mapDeps([31,1,2,3,4]),import.meta.url)}),`../dyn/${(A=C==null?void 0:C[0])==null?void 0:A.component}.svelte`,3)).default}catch(d){t(0,O.msg=d==null?void 0:d.message,O),t(0,O.type="danger",O),t(0,O.open=!0,O)}le(f),t(1,L=!1)})()});const Ae=a=>{(D==null?void 0:D.length)<=1&&le(a)},Ie=(a,A,d)=>{try{t(4,X={...X,[a.label]:Y.cloneDeep(A)})}catch(I){console.log(I.message)}},Oe=(a,A)=>$(a),Re=a=>{t(2,B=a)},Pe=(a,A,d,I)=>{t(3,A[d].context_menu=!1,D)},Ve=a=>{t(0,O.open=!1,O)};return n.$$set=a=>{t(36,e=Z(Z({},e),se(a))),"table"in a&&t(7,f=a.table),"data"in a&&t(8,o=a.data),"menu"in a&&t(9,m=a.menu),"is_fk"in a&&t(10,i=a.is_fk),"main_pk_id"in a&&t(11,_=a.main_pk_id),"main_table"in a&&t(12,l=a.main_table),"label"in a&&t(13,c=a.label),"limit"in a&&t(14,y=a.limit),"is_subform"in a&&t(15,R=a.is_subform),"is_submenu"in a&&t(16,u=a.is_submenu),"actions"in a&&t(17,h=a.actions),"has_actions"in a&&t(18,b=a.has_actions),"has_numbering"in a&&t(19,N=a.has_numbering),"has_check"in a&&t(20,j=a.has_check),"opts"in a&&t(21,z=a.opts),"populate_subform"in a&&t(22,v=a.populate_subform)},n.$$.update=()=>{Ae(e==null?void 0:e.table)},e=se(e),[O,L,B,D,X,r,$,f,o,m,i,_,l,c,y,R,u,h,b,N,j,z,v,Ie,Oe,Re,Pe,Ve]}class Xe extends Be{constructor(e){super(),Ce(this,e,Ke,Fe,Se,{table:7,data:8,menu:9,is_fk:10,main_pk_id:11,main_table:12,label:13,limit:14,is_subform:15,is_submenu:16,actions:17,has_actions:18,has_numbering:19,has_check:20,opts:21,populate_subform:22},null,[-1,-1])}}export{Xe as default};
