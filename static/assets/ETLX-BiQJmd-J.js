const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PickDates-Dg1OZM7q.js","./index-XSy4RcHY.js","./index-CFjTrgiX.css","./pt-C8dmXWAd.js","./DBExplorer-ivI6VOVv.js","./Pagination-CGKBM0ax.js","./EditConf-B2sqiuCT.js","./ObjectEditor-C_zv1y2x.js"])))=>i.map(i=>d[i]);
import{S as SvelteComponent,i as init,s as safe_not_equal,e as ensure_array_like,a as element,b as space,d as attr,f as set_style,g as insert,h as append,o as transition_in,p as group_outros,r as check_outros,q as transition_out,u as detach,w as destroy_each,y as component_subscribe,A as i18n,z as _global,D as hooks,C as onMount,l as lodashExports,W as gbl_api_call,F as empty,N as Loadingv2,c as create_component,m as mount_component,v as destroy_component,T as Toast,J as assign,M as Modal,K as get_spread_update,L as get_spread_object,R as __vitePreload,ab as upload,G as string_ellipsis,t as text,H as string_ellipsis_title,k as listen,E as prevent_default,n as set_data,$ as format_number,I as Icons,j as set_input_value,X as noop,x as run_all,a8 as get_upload_api,a4 as select_option}from"./index-XSy4RcHY.js";import"./pt-C8dmXWAd.js";import{P as Pagination}from"./Pagination-CGKBM0ax.js";function get_each_context(e,t,n){const i=e.slice();return i[82]=t[n],i[83]=t,i[84]=n,i}function get_each_context_1(e,t,n){const i=e.slice();return i[85]=t[n],i[86]=t,i[87]=n,i}function get_each_context_2(e,t,n){const i=e.slice();return i[88]=t[n],i[90]=n,i}function get_each_context_3(e,t,n){const i=e.slice();return i[91]=t[n],i}function get_each_context_4(e,t,n){const i=e.slice();return i[88]=t[n],i[94]=t,i[95]=n,i}function get_each_context_5(e,t,n){const i=e.slice();return i[96]=t[n],i}function get_each_context_6(e,t,n){const i=e.slice();return i[82]=t[n],i[84]=n,i}function create_if_block_31(e){let t,n,i=string_ellipsis(e[82].label,30)+"",l,r,s,_,o;function a(){return e[29](e[84])}return{c(){var c;t=element("li"),n=element("b"),l=text(i),attr(t,"class",r="step step-lifted text-sm cursor-pointer "+(e[1]>=e[84]?" step-primary ":"")),attr(t,"title",s=string_ellipsis_title(e[82].label,30)),set_style(t,"display",e[12](((c=e[82])==null?void 0:c.show)||"true",e[82],null,e[0])?null:"none")},m(c,u){insert(c,t,u),append(t,n),append(n,l),_||(o=listen(t,"click",prevent_default(a)),_=!0)},p(c,u){var $;e=c,u[0]&32&&i!==(i=string_ellipsis(e[82].label,30)+"")&&set_data(l,i),u[0]&2&&r!==(r="step step-lifted text-sm cursor-pointer "+(e[1]>=e[84]?" step-primary ":""))&&attr(t,"class",r),u[0]&32&&s!==(s=string_ellipsis_title(e[82].label,30))&&attr(t,"title",s),u[0]&33&&set_style(t,"display",e[12]((($=e[82])==null?void 0:$.show)||"true",e[82],null,e[0])?null:"none")},d(c){c&&detach(t),_=!1,o()}}}function create_each_block_6(e){var l;let t=e[12](((l=e[82])==null?void 0:l.show)||"true",e[82],null,e[0]),n,i=t&&create_if_block_31(e);return{c(){i&&i.c(),n=empty()},m(r,s){i&&i.m(r,s),insert(r,n,s)},p(r,s){var _;s[0]&33&&(t=r[12](((_=r[82])==null?void 0:_.show)||"true",r[82],null,r[0])),t?i?i.p(r,s):(i=create_if_block_31(r),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(r){r&&detach(n),i&&i.d(r)}}}function create_if_block_3(e){let t,n,i,l,r;const s=[create_if_block_4,create_else_block],_=[];function o(a,c){var u,$;return((u=a[82])==null?void 0:u.section)==="reconcilia"&&(($=a[82])!=null&&$.show_html)?0:1}return n=o(e),i=_[n]=s[n](e),{c(){t=element("div"),i.c(),l=space(),attr(t,"class","w-full p-2")},m(a,c){insert(a,t,c),_[n].m(t,null),append(t,l),r=!0},p(a,c){let u=n;n=o(a),n===u?_[n].p(a,c):(group_outros(),transition_out(_[u],1,1,()=>{_[u]=null}),check_outros(),i=_[n],i?i.p(a,c):(i=_[n]=s[n](a),i.c()),transition_in(i,1),i.m(t,l))},i(a){r||(transition_in(i),r=!0)},o(a){transition_out(i),r=!1},d(a){a&&detach(t),_[n].d()}}}function create_else_block(e){var V,H,J,W,K,Z,x,G,F,X,B,ie,ce,ne,se,ue,re,_e,ae,oe;let t,n,i,l,r,s,_,o,a,c,u,$,f,b,m,k,w,g,p,h,S,D,P,N,Q,z,O=(e[1]===0||((V=e[82])==null?void 0:V.date_ref))&&create_if_block_30(e);s=new Icons({props:{type:"outline",icon:"search",path:"icons"}});function I(){e[33].call(o,e[83],e[84])}let U=ensure_array_like(((H=e[82])==null?void 0:H.pre_filters)||[]),v=[];for(let T=0;T<U.length;T+=1)v[T]=create_each_block_5(get_each_context_5(e,U,T));let M=((J=e[82])==null?void 0:J.dates_refs)&&create_if_block_29(e),C=ensure_array_like(((W=e[82])==null?void 0:W.fields)||[]),R=[];for(let T=0;T<C.length;T+=1)R[T]=create_each_block_4(get_each_context_4(e,C,T));const te=T=>transition_out(R[T],1,1,()=>{R[T]=null});let j=e[4]&&create_if_block_19(e),L=ensure_array_like(e[7](e[82],(x=e[0])==null?void 0:x[((K=e[82])==null?void 0:K.name)||((Z=e[82])==null?void 0:Z.section)]).slice((((G=e[82])==null?void 0:G.offset)||0)*(((F=e[82])==null?void 0:F.limit)||10),(((X=e[82])==null?void 0:X.offset)||0)*(((B=e[82])==null?void 0:B.limit)||10)+(((ie=e[82])==null?void 0:ie.limit)||10))),A=[];for(let T=0;T<L.length;T+=1)A[T]=create_each_block_1(get_each_context_1(e,L,T));const y=T=>transition_out(A[T],1,1,()=>{A[T]=null});function ee(...T){return e[59](e[82],e[84],...T)}return P=new Pagination({props:{lang:(ce=e[9])==null?void 0:ce.lang,conf:(ne=e[9])==null?void 0:ne.conf,rows_per_page:((se=e[82])==null?void 0:se.limit)||10,page:((ue=e[82])==null?void 0:ue.offset)||0,total_rows:(oe=e[7](e[82],(ae=e[0])==null?void 0:ae[((re=e[82])==null?void 0:re.name)||((_e=e[82])==null?void 0:_e.section)]))==null?void 0:oe.length}}),P.$on("pageChange",ee),{c(){var T,E;t=element("div"),O&&O.c(),n=space(),i=element("div"),l=element("button"),r=element("span"),create_component(s.$$.fragment),_=space(),o=element("input"),u=space(),$=element("datalist");for(let q=0;q<v.length;q+=1)v[q].c();f=space(),M&&M.c(),b=space(),m=element("div"),k=element("table"),w=element("thead"),g=element("tr");for(let q=0;q<R.length;q+=1)R[q].c();p=space(),h=element("tbody"),j&&j.c(),S=space();for(let q=0;q<A.length;q+=1)A[q].c();D=space(),create_component(P.$$.fragment),attr(r,"class","w-5 h-5"),attr(l,"class","btn btn-square btn-ghost btn-sm -mr-8 z-[1]"),attr(o,"type","text"),attr(o,"name",a=`${((T=e[82])==null?void 0:T.name)||((E=e[82])==null?void 0:E.section)}_filter`),attr(o,"placeholder",c=`${e[8].t("crud.filter")} ${e[82].label}`),attr(o,"class","grow input pl-8 input-bordered w-full input-sm"),attr(o,"autocomplete","off"),attr(o,"autocorrect","off"),attr(o,"list",`pre_filter_${e[84]}`),attr($,"id",`pre_filter_${e[84]}`),attr(i,"class","w-64 flex"),attr(t,"class","p-2 w-full flex flex-row gap-2"),attr(k,"class","table table-zebra w-[98%] normal-case table-xs"),attr(m,"class","w-full overflow-x-auto")},m(T,E){insert(T,t,E),O&&O.m(t,null),append(t,n),append(t,i),append(i,l),append(l,r),mount_component(s,r,null),append(i,_),append(i,o),set_input_value(o,e[82].filter),append(i,u),append(i,$);for(let q=0;q<v.length;q+=1)v[q]&&v[q].m($,null);append(t,f),M&&M.m(t,null),insert(T,b,E),insert(T,m,E),append(m,k),append(k,w),append(w,g);for(let q=0;q<R.length;q+=1)R[q]&&R[q].m(g,null);append(k,p),append(k,h),j&&j.m(h,null),append(h,S);for(let q=0;q<A.length;q+=1)A[q]&&A[q].m(h,null);insert(T,D,E),mount_component(P,T,E),N=!0,Q||(z=listen(o,"input",I),Q=!0)},p(T,E){var fe,me,$e,be,he,ge,de,ke,ve,we,pe,Oe,Te,Se,Ee,Ye,Le,De,Ie,Ae,Ne,qe;if(e=T,e[1]===0||(fe=e[82])!=null&&fe.date_ref?O?(O.p(e,E),E[0]&34&&transition_in(O,1)):(O=create_if_block_30(e),O.c(),transition_in(O,1),O.m(t,n)):O&&(group_outros(),transition_out(O,1,1,()=>{O=null}),check_outros()),(!N||E[0]&32&&a!==(a=`${((me=e[82])==null?void 0:me.name)||(($e=e[82])==null?void 0:$e.section)}_filter`))&&attr(o,"name",a),(!N||E[0]&288&&c!==(c=`${e[8].t("crud.filter")} ${e[82].label}`))&&attr(o,"placeholder",c),E[0]&32&&o.value!==e[82].filter&&set_input_value(o,e[82].filter),E[0]&32){U=ensure_array_like(((be=e[82])==null?void 0:be.pre_filters)||[]);let Y;for(Y=0;Y<U.length;Y+=1){const le=get_each_context_5(e,U,Y);v[Y]?v[Y].p(le,E):(v[Y]=create_each_block_5(le),v[Y].c(),v[Y].m($,null))}for(;Y<v.length;Y+=1)v[Y].d(1);v.length=U.length}if((he=e[82])!=null&&he.dates_refs?M?(M.p(e,E),E[0]&32&&transition_in(M,1)):(M=create_if_block_29(e),M.c(),transition_in(M,1),M.m(t,null)):M&&(group_outros(),transition_out(M,1,1,()=>{M=null}),check_outros()),E[0]&8929584){C=ensure_array_like(((ge=e[82])==null?void 0:ge.fields)||[]);let Y;for(Y=0;Y<C.length;Y+=1){const le=get_each_context_4(e,C,Y);R[Y]?(R[Y].p(le,E),transition_in(R[Y],1)):(R[Y]=create_each_block_4(le),R[Y].c(),transition_in(R[Y],1),R[Y].m(g,null))}for(group_outros(),Y=C.length;Y<R.length;Y+=1)te(Y);check_outros()}if(e[4]?j?j.p(e,E):(j=create_if_block_19(e),j.c(),j.m(h,S)):j&&(j.d(1),j=null),E[0]&23565297){L=ensure_array_like(e[7](e[82],(ve=e[0])==null?void 0:ve[((de=e[82])==null?void 0:de.name)||((ke=e[82])==null?void 0:ke.section)]).slice((((we=e[82])==null?void 0:we.offset)||0)*(((pe=e[82])==null?void 0:pe.limit)||10),(((Oe=e[82])==null?void 0:Oe.offset)||0)*(((Te=e[82])==null?void 0:Te.limit)||10)+(((Se=e[82])==null?void 0:Se.limit)||10)));let Y;for(Y=0;Y<L.length;Y+=1){const le=get_each_context_1(e,L,Y);A[Y]?(A[Y].p(le,E),transition_in(A[Y],1)):(A[Y]=create_each_block_1(le),A[Y].c(),transition_in(A[Y],1),A[Y].m(h,null))}for(group_outros(),Y=L.length;Y<A.length;Y+=1)y(Y);check_outros()}const q={};E[0]&512&&(q.lang=(Ee=e[9])==null?void 0:Ee.lang),E[0]&512&&(q.conf=(Ye=e[9])==null?void 0:Ye.conf),E[0]&32&&(q.rows_per_page=((Le=e[82])==null?void 0:Le.limit)||10),E[0]&32&&(q.page=((De=e[82])==null?void 0:De.offset)||0),E[0]&161&&(q.total_rows=(qe=e[7](e[82],(Ne=e[0])==null?void 0:Ne[((Ie=e[82])==null?void 0:Ie.name)||((Ae=e[82])==null?void 0:Ae.section)]))==null?void 0:qe.length),P.$set(q)},i(T){if(!N){transition_in(O),transition_in(s.$$.fragment,T),transition_in(M);for(let E=0;E<C.length;E+=1)transition_in(R[E]);for(let E=0;E<L.length;E+=1)transition_in(A[E]);transition_in(P.$$.fragment,T),N=!0}},o(T){transition_out(O),transition_out(s.$$.fragment,T),transition_out(M),R=R.filter(Boolean);for(let E=0;E<R.length;E+=1)transition_out(R[E]);A=A.filter(Boolean);for(let E=0;E<A.length;E+=1)transition_out(A[E]);transition_out(P.$$.fragment,T),N=!1},d(T){T&&(detach(t),detach(b),detach(m),detach(D)),O&&O.d(),destroy_component(s),destroy_each(v,T),M&&M.d(),destroy_each(R,T),j&&j.d(),destroy_each(A,T),destroy_component(P,T),Q=!1,z()}}}function create_if_block_4(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_if_block_30(e){let t,n,i,l,r,s,_,o,a,c,u,$,f,b,m,k;l=new Icons({props:{type:"outline",icon:"calendar-days",path:"icons"}});function w(){e[30].call(s,e[83],e[84])}function g(...h){return e[31](e[82],...h)}$=new Icons({props:{type:"outline",icon:"arrow-right-on-rectangle",path:"icons"}});function p(...h){return e[32](e[82],...h)}return{c(){var h,S;t=element("div"),n=element("button"),i=element("span"),create_component(l.$$.fragment),r=space(),s=element("input"),a=space(),c=element("button"),u=element("span"),create_component($.$$.fragment),attr(i,"class","w-5 h-5"),attr(n,"class","btn btn-square btn-ghost btn-sm -mr-8 z-[1]"),attr(s,"type","date"),attr(s,"name",_=`${((h=e[82])==null?void 0:h.name)||((S=e[82])==null?void 0:S.section)}_date_ref`),attr(s,"placeholder",o=`${e[8].t("crud.date")} ${e[82].label}`),attr(s,"class","grow input pl-8 input-bordered w-full input-sm"),attr(s,"autocomplete","off"),attr(s,"autocorrect","off"),attr(u,"class","w-5 h-5"),attr(c,"class","btn btn-square btn-ghost btn-sm --ml-8 z-[1]"),attr(c,"title",f=e[8].t("crud.set_date_2_all_steps")),attr(t,"class","w-48 flex")},m(h,S){insert(h,t,S),append(t,n),append(n,i),mount_component(l,i,null),append(t,r),append(t,s),set_input_value(s,e[82].date_ref),append(t,a),append(t,c),append(c,u),mount_component($,u,null),b=!0,m||(k=[listen(s,"input",w),listen(s,"change",g),listen(c,"click",p)],m=!0)},p(h,S){var D,P;e=h,(!b||S[0]&32&&_!==(_=`${((D=e[82])==null?void 0:D.name)||((P=e[82])==null?void 0:P.section)}_date_ref`))&&attr(s,"name",_),(!b||S[0]&288&&o!==(o=`${e[8].t("crud.date")} ${e[82].label}`))&&attr(s,"placeholder",o),S[0]&32&&set_input_value(s,e[82].date_ref),(!b||S[0]&256&&f!==(f=e[8].t("crud.set_date_2_all_steps")))&&attr(c,"title",f)},i(h){b||(transition_in(l.$$.fragment,h),transition_in($.$$.fragment,h),b=!0)},o(h){transition_out(l.$$.fragment,h),transition_out($.$$.fragment,h),b=!1},d(h){h&&detach(t),destroy_component(l),destroy_component($),m=!1,run_all(k)}}}function create_each_block_5(e){let t,n=e[96]+"",i,l;return{c(){t=element("option"),i=text(n),t.__value=l=e[96],set_input_value(t,t.__value)},m(r,s){insert(r,t,s),append(t,i)},p(r,s){s[0]&32&&n!==(n=r[96]+"")&&set_data(i,n),s[0]&32&&l!==(l=r[96])&&(t.__value=l,set_input_value(t,t.__value))},d(r){r&&detach(t)}}}function create_if_block_29(e){let t,n,i,l,r,s,_,o,a,c,u;l=new Icons({props:{type:"outline",icon:"calendar-days",path:"icons"}});function $(){return e[34](e[82])}function f(){return e[37](e[82])}return{c(){var b,m,k,w;t=element("div"),n=element("button"),i=element("span"),create_component(l.$$.fragment),r=space(),s=element("input"),attr(i,"class","w-5 h-5"),attr(n,"class","btn btn-square btn-ghost btn-sm -mr-8 z-[1]"),attr(s,"type","text"),attr(s,"class","grow input pl-8 input-bordered w-full input-sm"),attr(s,"title",_=string_ellipsis_title((m=(b=e[82])==null?void 0:b.dates_refs)==null?void 0:m.map(e[35]).join(", "),30)),s.value=o=string_ellipsis((w=(k=e[82])==null?void 0:k.dates_refs)==null?void 0:w.map(e[36]).join(", "),30),attr(t,"class","w-64 flex")},m(b,m){insert(b,t,m),append(t,n),append(n,i),mount_component(l,i,null),append(t,r),append(t,s),a=!0,c||(u=[listen(n,"click",$),listen(s,"focus",f)],c=!0)},p(b,m){var k,w,g,p;e=b,(!a||m[0]&288&&_!==(_=string_ellipsis_title((w=(k=e[82])==null?void 0:k.dates_refs)==null?void 0:w.map(e[35]).join(", "),30)))&&attr(s,"title",_),(!a||m[0]&288&&o!==(o=string_ellipsis((p=(g=e[82])==null?void 0:g.dates_refs)==null?void 0:p.map(e[36]).join(", "),30))&&s.value!==o)&&(s.value=o)},i(b){a||(transition_in(l.$$.fragment,b),a=!0)},o(b){transition_out(l.$$.fragment,b),a=!1},d(b){b&&detach(t),destroy_component(l),c=!1,run_all(u)}}}function create_else_block_7(e){var i,l;let t=(((i=e[88])==null?void 0:i.label)||((l=e[88])==null?void 0:l.name))+"",n;return{c(){n=text(t)},m(r,s){insert(r,n,s)},p(r,s){var _,o;s[0]&32&&t!==(t=(((_=r[88])==null?void 0:_.label)||((o=r[88])==null?void 0:o.name))+"")&&set_data(n,t)},i:noop,o:noop,d(r){r&&detach(n)}}}function create_if_block_28(e){var f;let t,n,i,l,r,s=((f=e[88])==null?void 0:f.label)+"",_,o,a,c;function u(){e[42].call(i,e[88],e[83],e[84])}function $(...b){return e[43](e[88],e[82],...b)}return{c(){var b,m;t=element("div"),n=element("label"),i=element("input"),r=element("span"),_=text(s),attr(i,"type","checkbox"),attr(i,"id",l=`${e[88].name}-${(b=e[82])==null?void 0:b.section}-${e[95]}`),attr(i,"class","toggle toggle-sm toggle-primary mr-2"),i.disabled=e[4],attr(r,"class","label-text font-normal"),attr(n,"class","label cursor-pointer justify-end p-0"),attr(n,"for",o=`${e[88].name}-${(m=e[82])==null?void 0:m.section}-${e[95]}`),attr(t,"class","form-control w-full max-w-xs m-auto p-0 text-right")},m(b,m){var k;insert(b,t,m),append(t,n),append(n,i),i.checked=e[82][(k=e[88])==null?void 0:k.name],append(n,r),append(r,_),a||(c=[listen(i,"change",u),listen(i,"change",$)],a=!0)},p(b,m){var k,w,g,p;e=b,m[0]&32&&l!==(l=`${e[88].name}-${(k=e[82])==null?void 0:k.section}-${e[95]}`)&&attr(i,"id",l),m[0]&16&&(i.disabled=e[4]),m[0]&32&&(i.checked=e[82][(w=e[88])==null?void 0:w.name]),m[0]&32&&s!==(s=((g=e[88])==null?void 0:g.label)+"")&&set_data(_,s),m[0]&32&&o!==(o=`${e[88].name}-${(p=e[82])==null?void 0:p.section}-${e[95]}`)&&attr(n,"for",o)},i:noop,o:noop,d(b){b&&detach(t),a=!1,run_all(c)}}}function create_if_block_20(e){let t,n,i,l;const r=[create_if_block_21,create_if_block_23,create_if_block_24,create_if_block_25,create_else_block_6],s=[];function _(o,a){var c,u,$,f,b,m,k,w;return o[95]===((u=(c=o[82])==null?void 0:c.fields)==null?void 0:u.length)-4?0:o[95]===((f=($=o[82])==null?void 0:$.fields)==null?void 0:f.length)-3?1:o[95]===((m=(b=o[82])==null?void 0:b.fields)==null?void 0:m.length)-2?2:o[95]===((w=(k=o[82])==null?void 0:k.fields)==null?void 0:w.length)-1?3:4}return t=_(e),n=s[t]=r[t](e),{c(){n.c(),i=empty()},m(o,a){s[t].m(o,a),insert(o,i,a),l=!0},p(o,a){let c=t;t=_(o),t===c?s[t].p(o,a):(group_outros(),transition_out(s[c],1,1,()=>{s[c]=null}),check_outros(),n=s[t],n?n.p(o,a):(n=s[t]=r[t](o),n.c()),transition_in(n,1),n.m(i.parentNode,i))},i(o){l||(transition_in(n),l=!0)},o(o){transition_out(n),l=!1},d(o){o&&detach(i),s[t].d(o)}}}function create_else_block_6(e){let t="",n;return{c(){n=text(t)},m(i,l){insert(i,n,l)},p:noop,i:noop,o:noop,d(i){i&&detach(n)}}}function create_if_block_25(e){let t,n,i,l,r,s;const _=[create_if_block_26,create_if_block_27,create_else_block_5],o=[];function a(c,u){var $,f;return u[0]&32&&(t=null),u[0]&32&&(n=null),t==null&&(t=["data_quality","data_reconcilia"].indexOf(($=c[82])==null?void 0:$.run_all_action)!==-1),t?0:(n==null&&(n=["notify"].indexOf((f=c[82])==null?void 0:f.run_all_action)!==-1),n?1:2)}return i=a(e,[-1,-1,-1,-1]),l=o[i]=_[i](e),{c(){l.c(),r=empty()},m(c,u){o[i].m(c,u),insert(c,r,u),s=!0},p(c,u){let $=i;i=a(c,u),i===$?o[i].p(c,u):(group_outros(),transition_out(o[$],1,1,()=>{o[$]=null}),check_outros(),l=o[i],l?l.p(c,u):(l=o[i]=_[i](c),l.c()),transition_in(l,1),l.m(r.parentNode,r))},i(c){s||(transition_in(l),s=!0)},o(c){transition_out(l),s=!1},d(c){c&&detach(r),o[i].d(c)}}}function create_if_block_24(e){let t,n,i,l,r,s;i=new Icons({props:{type:"outline",icon:"bolt",path:"icons"}});function _(){return e[39](e[82])}return{c(){t=element("button"),n=element("span"),create_component(i.$$.fragment),attr(n,"class","w-6"),attr(t,"class","btn btn-circle btn-ghost btn-sm text-xs -m-1"),t.disabled=e[4]},m(o,a){insert(o,t,a),append(t,n),mount_component(i,n,null),l=!0,r||(s=listen(t,"click",_),r=!0)},p(o,a){e=o,(!l||a[0]&16)&&(t.disabled=e[4])},i(o){l||(transition_in(i.$$.fragment,o),l=!0)},o(o){transition_out(i.$$.fragment,o),l=!1},d(o){o&&detach(t),destroy_component(i),r=!1,s()}}}function create_if_block_23(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_if_block_21(e){var r;let t=["extract","transform"].indexOf((r=e[82])==null?void 0:r.run_all_action)!==-1,n,i,l=t&&create_if_block_22(e);return{c(){l&&l.c(),n=empty()},m(s,_){l&&l.m(s,_),insert(s,n,_),i=!0},p(s,_){var o;_[0]&32&&(t=["extract","transform"].indexOf((o=s[82])==null?void 0:o.run_all_action)!==-1),t?l?(l.p(s,_),_[0]&32&&transition_in(l,1)):(l=create_if_block_22(s),l.c(),transition_in(l,1),l.m(n.parentNode,n)):l&&(group_outros(),transition_out(l,1,1,()=>{l=null}),check_outros())},i(s){i||(transition_in(l),i=!0)},o(s){transition_out(l),i=!1},d(s){s&&detach(n),l&&l.d(s)}}}function create_else_block_5(e){let t,n,i,l,r,s,_;i=new Icons({props:{type:"outline",icon:"database",path:"icons"}});function o(){return e[41](e[82])}return{c(){t=element("button"),n=element("span"),create_component(i.$$.fragment),attr(n,"class","w-6"),attr(t,"class","btn btn-circle btn-ghost btn-sm text-xs -m-1"),attr(t,"title",l=`${e[8].t("crud.explore_db")}`),t.disabled=e[4]},m(a,c){insert(a,t,c),append(t,n),mount_component(i,n,null),r=!0,s||(_=listen(t,"click",o),s=!0)},p(a,c){e=a,(!r||c[0]&256&&l!==(l=`${e[8].t("crud.explore_db")}`))&&attr(t,"title",l),(!r||c[0]&16)&&(t.disabled=e[4])},i(a){r||(transition_in(i.$$.fragment,a),r=!0)},o(a){transition_out(i.$$.fragment,a),r=!1},d(a){a&&detach(t),destroy_component(i),s=!1,_()}}}function create_if_block_27(e){let t;return{c(){t=element("span")},m(n,i){insert(n,t,i)},p:noop,i:noop,o:noop,d(n){n&&detach(t)}}}function create_if_block_26(e){let t,n,i,l,r,s,_;i=new Icons({props:{type:"outline",icon:"document-arrow-down",path:"icons"}});function o(){return e[40](e[82])}return{c(){t=element("button"),n=element("span"),create_component(i.$$.fragment),attr(n,"class","w-6"),attr(t,"class","btn btn-circle btn-ghost btn-sm text-xs -m-1"),attr(t,"title",l=`${e[8].t("crud.export")}`),t.disabled=e[4]},m(a,c){insert(a,t,c),append(t,n),mount_component(i,n,null),r=!0,s||(_=listen(t,"click",o),s=!0)},p(a,c){e=a,(!r||c[0]&256&&l!==(l=`${e[8].t("crud.export")}`))&&attr(t,"title",l),(!r||c[0]&16)&&(t.disabled=e[4])},i(a){r||(transition_in(i.$$.fragment,a),r=!0)},o(a){transition_out(i.$$.fragment,a),r=!1},d(a){a&&detach(t),destroy_component(i),s=!1,_()}}}function create_if_block_22(e){let t,n,i,l,r,s,_;i=new Icons({props:{type:"outline",icon:"trash",path:"icons"}});function o(){return e[38](e[82])}return{c(){t=element("button"),n=element("span"),create_component(i.$$.fragment),attr(n,"class","w-6"),attr(t,"class","btn btn-circle btn-ghost btn-sm text-xs -m-1"),attr(t,"title",l=`${e[8].t("crud.delete")}`),t.disabled=e[4]},m(a,c){insert(a,t,c),append(t,n),mount_component(i,n,null),r=!0,s||(_=listen(t,"click",o),s=!0)},p(a,c){e=a,(!r||c[0]&256&&l!==(l=`${e[8].t("crud.delete")}`))&&attr(t,"title",l),(!r||c[0]&16)&&(t.disabled=e[4])},i(a){r||(transition_in(i.$$.fragment,a),r=!0)},o(a){transition_out(i.$$.fragment,a),r=!1},d(a){a&&detach(t),destroy_component(i),s=!1,_()}}}function create_each_block_4(e){let t,n,i,l,r,s,_;const o=[create_if_block_20,create_if_block_28,create_else_block_7],a=[];function c(u,$){var f,b;return((f=u[88])==null?void 0:f.type)==="button"?0:((b=u[88])==null?void 0:b.type)==="boolean"?1:2}return n=c(e),i=a[n]=o[n](e),{c(){var u,$,f,b;t=element("th"),i.c(),l=space(),attr(t,"class",r="normal-case "+(((u=e[88])==null?void 0:u.width)||"")+" "+((($=e[88])==null?void 0:$.type)==="button"?"p-1":"")+" "+(((f=e[88])==null?void 0:f.type)==="boolean"?"text-right":"")),attr(t,"style",s=((b=e[88])==null?void 0:b.style)||"")},m(u,$){insert(u,t,$),a[n].m(t,null),append(t,l),_=!0},p(u,$){var b,m,k,w;let f=n;n=c(u),n===f?a[n].p(u,$):(group_outros(),transition_out(a[f],1,1,()=>{a[f]=null}),check_outros(),i=a[n],i?i.p(u,$):(i=a[n]=o[n](u),i.c()),transition_in(i,1),i.m(t,l)),(!_||$[0]&32&&r!==(r="normal-case "+(((b=u[88])==null?void 0:b.width)||"")+" "+(((m=u[88])==null?void 0:m.type)==="button"?"p-1":"")+" "+(((k=u[88])==null?void 0:k.type)==="boolean"?"text-right":"")))&&attr(t,"class",r),(!_||$[0]&32&&s!==(s=((w=u[88])==null?void 0:w.style)||""))&&attr(t,"style",s)},i(u){_||(transition_in(i),_=!0)},o(u){transition_out(i),_=!1},d(u){u&&detach(t),a[n].d()}}}function create_if_block_19(e){let t,n,i,l;return{c(){var r;t=element("tr"),n=element("td"),i=element("progress"),attr(i,"class","progress progress-primary w-full -mt-1 -mb-3"),set_style(i,"vertical-align","top"),attr(n,"colspan",l=(((r=e[82])==null?void 0:r.fields)||[]).length||1),attr(n,"class","p-0 m-0"),attr(n,"style","line-height: 0rem;!important"),attr(t,"class","p-0")},m(r,s){insert(r,t,s),append(t,n),append(n,i)},p(r,s){var _;s[0]&32&&l!==(l=(((_=r[82])==null?void 0:_.fields)||[]).length||1)&&attr(n,"colspan",l)},d(r){r&&detach(t)}}}function create_else_block_1(e){var s;let t,n,i=ensure_array_like(((s=e[82])==null?void 0:s.fields)||[]),l=[];for(let _=0;_<i.length;_+=1)l[_]=create_each_block_2(get_each_context_2(e,i,_));const r=_=>transition_out(l[_],1,1,()=>{l[_]=null});return{c(){for(let _=0;_<l.length;_+=1)l[_].c();t=empty()},m(_,o){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(_,o);insert(_,t,o),n=!0},p(_,o){var a;if(o[0]&23565297){i=ensure_array_like(((a=_[82])==null?void 0:a.fields)||[]);let c;for(c=0;c<i.length;c+=1){const u=get_each_context_2(_,i,c);l[c]?(l[c].p(u,o),transition_in(l[c],1)):(l[c]=create_each_block_2(u),l[c].c(),transition_in(l[c],1),l[c].m(t.parentNode,t))}for(group_outros(),c=i.length;c<l.length;c+=1)r(c);check_outros()}},i(_){if(!n){for(let o=0;o<i.length;o+=1)transition_in(l[o]);n=!0}},o(_){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)transition_out(l[o]);n=!1},d(_){_&&detach(t),destroy_each(l,_)}}}function create_if_block_5(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_else_block_4(e){let t,n,i,l,r,s,_,o;function a(...c){return e[58](e[88],e[82],e[85],...c)}return{c(){var c,u,$,f;t=element("td"),n=element("input"),r=space(),attr(n,"type","text"),attr(n,"class",i="input input-xs p-0 "+(((c=e[88])==null?void 0:c.width)||"w-full")+" bg-transparent"),n.value=l=(($=e[85])==null?void 0:$[(u=e[88])==null?void 0:u.name])||null,n.disabled=e[4],attr(t,"class",s="p-0.5 "+(((f=e[88])==null?void 0:f.width)||""))},m(c,u){insert(c,t,u),append(t,n),append(t,r),_||(o=listen(n,"change",a),_=!0)},p(c,u){var $,f,b,m;e=c,u[0]&32&&i!==(i="input input-xs p-0 "+((($=e[88])==null?void 0:$.width)||"w-full")+" bg-transparent")&&attr(n,"class",i),u[0]&161&&l!==(l=((b=e[85])==null?void 0:b[(f=e[88])==null?void 0:f.name])||null)&&n.value!==l&&(n.value=l),u[0]&16&&(n.disabled=e[4]),u[0]&32&&s!==(s="p-0.5 "+(((m=e[88])==null?void 0:m.width)||""))&&attr(t,"class",s)},i:noop,o:noop,d(c){c&&detach(t),_=!1,o()}}}function create_if_block_18(e){let t,n,i,l,r,s,_,o;function a(...c){return e[57](e[88],e[82],e[85],...c)}return{c(){var c,u,$,f;t=element("td"),n=element("input"),r=space(),attr(n,"type","date"),attr(n,"class",i="input input-xs p-0 pl-2 pr-2 "+(((c=e[88])==null?void 0:c.width)||"w-full")+" --input-bordered bg-transparent"),n.value=l=(($=e[85])==null?void 0:$[(u=e[88])==null?void 0:u.name])||null,n.disabled=e[4],attr(t,"class",s="p-0.5 "+(((f=e[88])==null?void 0:f.width)||""))},m(c,u){insert(c,t,u),append(t,n),append(t,r),_||(o=listen(n,"change",a),_=!0)},p(c,u){var $,f,b,m;e=c,u[0]&32&&i!==(i="input input-xs p-0 pl-2 pr-2 "+((($=e[88])==null?void 0:$.width)||"w-full")+" --input-bordered bg-transparent")&&attr(n,"class",i),u[0]&161&&l!==(l=((b=e[85])==null?void 0:b[(f=e[88])==null?void 0:f.name])||null)&&(n.value=l),u[0]&16&&(n.disabled=e[4]),u[0]&32&&s!==(s="p-0.5 "+(((m=e[88])==null?void 0:m.width)||""))&&attr(t,"class",s)},i:noop,o:noop,d(c){c&&detach(t),_=!1,o()}}}function create_if_block_17(e){let t,n,i,l,r,s,_,o,a,c,u,$,f,b,m,k,w,g,p,h,S,D,P,N,Q,z;r=new Icons({props:{type:"outline",icon:"link",path:"icons"}});function O(...L){return e[48](e[88],e[82],e[85],...L)}function I(...L){return e[49](e[88],e[82],e[85],...L)}function U(...L){return e[50](e[88],e[85],e[82],...L)}function v(...L){return e[51](e[88],e[85],e[82],...L)}function M(...L){return e[52](e[88],e[85],e[82],...L)}function C(...L){return e[53](e[88],e[85],e[82],...L)}function R(...L){return e[54](e[88],e[82],e[85],...L)}w=new Icons({props:{type:"outline",icon:"paper-clip",path:"icons"}});function te(...L){return e[55](e[88],e[82],e[84],e[85],e[87],...L)}function j(...L){return e[56](e[88],e[82],e[85],...L)}return{c(){var L,A,y,ee,V,H,J,W,K,Z,x,G,F,X;t=element("td"),n=element("div"),i=element("a"),l=element("span"),create_component(r.$$.fragment),o=space(),a=element("input"),b=space(),m=element("button"),k=element("span"),create_component(w.$$.fragment),p=space(),h=element("input"),D=space(),attr(l,"class","w-5 h-5"),attr(i,"class","btn btn-square btn-ghost btn-sm -mr-8 z-[1]"),attr(i,"title",s=e[8].t("crud.download")),attr(i,"target","_blank"),attr(i,"href",_=`${get_upload_api((L=e[9])==null?void 0:L.conf,!0)}/${e[85][e[88].name]}`),set_style(i,"display",e[85][e[88].name]&&!((A=e[85])!=null&&A.save_only_temp)?null:"none"),attr(a,"type","text"),attr(a,"id",c=`${(y=e[82])==null?void 0:y.section}-${e[88].name}-${e[84]}-${((ee=e[85])==null?void 0:ee.index)||e[87]}`),attr(a,"name",u=e[88].name),a.value=$=((H=e[85])==null?void 0:H[(V=e[88])==null?void 0:V.name])||null,attr(a,"class",f="grow input "+(e[85][e[88].name]&&!((J=e[85])!=null&&J.save_only_temp)?"pl-8":"")+" pr-8 --input-bordered bg-transparent w-full input-sm "+(((x=e[6])==null?void 0:x[`${e[88].name}_${e[85][(Z=(K=(W=e[82])==null?void 0:W.fields)==null?void 0:K[0])==null?void 0:Z.name]}`])||"")),attr(a,"autocomplete","off"),attr(a,"autocorrect","off"),attr(k,"class","w-5 h-5"),attr(m,"class","btn btn-square btn-ghost btn-sm -ml-8 z-[1]"),attr(m,"title",g=`${e[8].t("crud.attach")} ${e[8].t("crud.file")}`),m.disabled=e[4],attr(h,"type","file"),attr(h,"id",S=`${(G=e[82])==null?void 0:G.section}-${e[88].name}-${e[84]}-${((F=e[85])==null?void 0:F.index)||e[87]}-file`),set_style(h,"display","none"),attr(n,"class","flex p-0"),attr(t,"class",P="p-0.5 "+(((X=e[88])==null?void 0:X.width)||""))},m(L,A){insert(L,t,A),append(t,n),append(n,i),append(i,l),mount_component(r,l,null),append(n,o),append(n,a),append(n,b),append(n,m),append(m,k),mount_component(w,k,null),append(n,p),append(n,h),append(t,D),N=!0,Q||(z=[listen(a,"change",O),listen(a,"drop",I),listen(a,"dragexit",U),listen(a,"dragend",v),listen(a,"dragleave",M),listen(a,"dragenter",C),listen(a,"paste",R),listen(m,"click",te),listen(h,"change",j)],Q=!0)},p(L,A){var y,ee,V,H,J,W,K,Z,x,G,F,X,B,ie;e=L,(!N||A[0]&256&&s!==(s=e[8].t("crud.download")))&&attr(i,"title",s),(!N||A[0]&673&&_!==(_=`${get_upload_api((y=e[9])==null?void 0:y.conf,!0)}/${e[85][e[88].name]}`))&&attr(i,"href",_),A[0]&161&&set_style(i,"display",e[85][e[88].name]&&!((ee=e[85])!=null&&ee.save_only_temp)?null:"none"),(!N||A[0]&161&&c!==(c=`${(V=e[82])==null?void 0:V.section}-${e[88].name}-${e[84]}-${((H=e[85])==null?void 0:H.index)||e[87]}`))&&attr(a,"id",c),(!N||A[0]&32&&u!==(u=e[88].name))&&attr(a,"name",u),(!N||A[0]&161&&$!==($=((W=e[85])==null?void 0:W[(J=e[88])==null?void 0:J.name])||null)&&a.value!==$)&&(a.value=$),(!N||A[0]&225&&f!==(f="grow input "+(e[85][e[88].name]&&!((K=e[85])!=null&&K.save_only_temp)?"pl-8":"")+" pr-8 --input-bordered bg-transparent w-full input-sm "+(((F=e[6])==null?void 0:F[`${e[88].name}_${e[85][(G=(x=(Z=e[82])==null?void 0:Z.fields)==null?void 0:x[0])==null?void 0:G.name]}`])||"")))&&attr(a,"class",f),(!N||A[0]&256&&g!==(g=`${e[8].t("crud.attach")} ${e[8].t("crud.file")}`))&&attr(m,"title",g),(!N||A[0]&16)&&(m.disabled=e[4]),(!N||A[0]&161&&S!==(S=`${(X=e[82])==null?void 0:X.section}-${e[88].name}-${e[84]}-${((B=e[85])==null?void 0:B.index)||e[87]}-file`))&&attr(h,"id",S),(!N||A[0]&32&&P!==(P="p-0.5 "+(((ie=e[88])==null?void 0:ie.width)||"")))&&attr(t,"class",P)},i(L){N||(transition_in(r.$$.fragment,L),transition_in(w.$$.fragment,L),N=!0)},o(L){transition_out(r.$$.fragment,L),transition_out(w.$$.fragment,L),N=!1},d(L){L&&detach(t),destroy_component(r),destroy_component(w),Q=!1,run_all(z)}}}function create_if_block_16(e){var $;let t,n,i,l,r,s,_,o,a,c;l=new Icons({props:{type:"outline",icon:($=e[88])==null?void 0:$.icon,path:"icons"}});function u(){return e[47](e[88],e[85],e[82])}return{c(){var f,b;t=element("td"),n=element("button"),i=element("span"),create_component(l.$$.fragment),s=space(),attr(i,"class","w-5 h-5"),attr(n,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),n.disabled=r=e[12](((f=e[88])==null?void 0:f.disabled)||"false",e[85],null,e[0])?!0:e[4],attr(t,"class","p-0.5 w-8 text-right"),attr(t,"title",_=(b=e[88])==null?void 0:b.label)},m(f,b){insert(f,t,b),append(t,n),append(n,i),mount_component(l,i,null),append(t,s),o=!0,a||(c=listen(n,"click",u),a=!0)},p(f,b){var k,w,g;e=f;const m={};b[0]&32&&(m.icon=(k=e[88])==null?void 0:k.icon),l.$set(m),(!o||b[0]&177&&r!==(r=e[12](((w=e[88])==null?void 0:w.disabled)||"false",e[85],null,e[0])?!0:e[4]))&&(n.disabled=r),(!o||b[0]&32&&_!==(_=(g=e[88])==null?void 0:g.label))&&attr(t,"title",_)},i(f){o||(transition_in(l.$$.fragment,f),o=!0)},o(f){transition_out(l.$$.fragment,f),o=!1},d(f){f&&detach(t),destroy_component(l),a=!1,c()}}}function create_if_block_15(e){var $;let t,n,i,l,r,s,_,o,a=ensure_array_like((($=e[88])==null?void 0:$.options)||[]),c=[];for(let f=0;f<a.length;f+=1)c[f]=create_each_block_3(get_each_context_3(e,a,f));function u(...f){return e[46](e[88],e[82],e[85],...f)}return{c(){var f,b;t=element("td"),n=element("select");for(let m=0;m<c.length;m+=1)c[m].c();r=space(),attr(n,"class",i="select select-sm p-0.5 "+(((f=e[88])==null?void 0:f.width)||"w-full bg-transparent")),attr(t,"class",s="p-0.5 "+(((b=e[88])==null?void 0:b.width)||""))},m(f,b){var m,k;insert(f,t,b),append(t,n);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(n,null);select_option(n,((k=e[85])==null?void 0:k[(m=e[88])==null?void 0:m.name])||null),append(t,r),_||(o=listen(n,"change",u),_=!0)},p(f,b){var m,k,w,g,p,h,S;if(e=f,b[0]&32){a=ensure_array_like(((m=e[88])==null?void 0:m.options)||[]);let D;for(D=0;D<a.length;D+=1){const P=get_each_context_3(e,a,D);c[D]?c[D].p(P,b):(c[D]=create_each_block_3(P),c[D].c(),c[D].m(n,null))}for(;D<c.length;D+=1)c[D].d(1);c.length=a.length}b[0]&32&&i!==(i="select select-sm p-0.5 "+(((k=e[88])==null?void 0:k.width)||"w-full bg-transparent"))&&attr(n,"class",i),b[0]&161&&l!==(l=((g=e[85])==null?void 0:g[(w=e[88])==null?void 0:w.name])||null)&&select_option(n,((h=e[85])==null?void 0:h[(p=e[88])==null?void 0:p.name])||null),b[0]&32&&s!==(s="p-0.5 "+(((S=e[88])==null?void 0:S.width)||""))&&attr(t,"class",s)},i:noop,o:noop,d(f){f&&detach(t),destroy_each(c,f),_=!1,o()}}}function create_if_block_14(e){let t,n,i,l,r,s,_;function o(...a){return e[45](e[88],e[82],e[85],...a)}return{c(){var a,c,u;t=element("td"),n=element("input"),l=space(),attr(n,"type","checkbox"),attr(n,"class","toggle toggle-sm toggle-primary"),n.checked=i=((c=e[85])==null?void 0:c[(a=e[88])==null?void 0:a.name])||null,n.disabled=e[4],attr(t,"class",r="p-0.5 text-right align-middle "+(((u=e[88])==null?void 0:u.width)||""))},m(a,c){insert(a,t,c),append(t,n),append(t,l),s||(_=listen(n,"change",o),s=!0)},p(a,c){var u,$,f;e=a,c[0]&161&&i!==(i=(($=e[85])==null?void 0:$[(u=e[88])==null?void 0:u.name])||null)&&(n.checked=i),c[0]&16&&(n.disabled=e[4]),c[0]&32&&r!==(r="p-0.5 text-right align-middle "+(((f=e[88])==null?void 0:f.width)||""))&&attr(t,"class",r)},i:noop,o:noop,d(a){a&&detach(t),s=!1,_()}}}function create_if_block_13(e){var c,u,$;let t,n,i=string_ellipsis((((u=e[85])==null?void 0:u[(c=e[88])==null?void 0:c.name])||null||"").replace(/^\w+\/|.+\//,""),(($=e[88])==null?void 0:$.ellipsis)||30)+"",l,r,s,_,o,a;return{c(){var f,b,m,k,w,g,p,h,S;t=element("td"),n=element("a"),l=text(i),_=space(),attr(n,"href",r=`${get_upload_api((f=e[9])==null?void 0:f.conf,!0)}/${e[85][e[88].name]}`),attr(n,"target","_blank"),attr(n,"class","link link-secondary"),attr(n,"title",s=e[85][(b=e[88])==null?void 0:b.tooltip]||string_ellipsis_title((((k=e[85])==null?void 0:k[(m=e[88])==null?void 0:m.name])||null||"").replace(/^\w+\/|.+\//,""),((w=e[88])==null?void 0:w.ellipsis)||30)),set_style(n,"display",(p=e[85])!=null&&p[(g=e[88])==null?void 0:g.name]?null:"none"),attr(t,"class",o="normal-case "+(((h=e[88])==null?void 0:h.width)||"")),attr(t,"style",a=((S=e[88])==null?void 0:S.style)||"")},m(f,b){insert(f,t,b),append(t,n),append(n,l),append(t,_)},p(f,b){var m,k,w,g,p,h,S,D,P,N,Q,z;b[0]&161&&i!==(i=string_ellipsis((((k=f[85])==null?void 0:k[(m=f[88])==null?void 0:m.name])||null||"").replace(/^\w+\/|.+\//,""),((w=f[88])==null?void 0:w.ellipsis)||30)+"")&&set_data(l,i),b[0]&673&&r!==(r=`${get_upload_api((g=f[9])==null?void 0:g.conf,!0)}/${f[85][f[88].name]}`)&&attr(n,"href",r),b[0]&161&&s!==(s=f[85][(p=f[88])==null?void 0:p.tooltip]||string_ellipsis_title((((S=f[85])==null?void 0:S[(h=f[88])==null?void 0:h.name])||null||"").replace(/^\w+\/|.+\//,""),((D=f[88])==null?void 0:D.ellipsis)||30))&&attr(n,"title",s),b[0]&161&&set_style(n,"display",(N=f[85])!=null&&N[(P=f[88])==null?void 0:P.name]?null:"none"),b[0]&32&&o!==(o="normal-case "+(((Q=f[88])==null?void 0:Q.width)||""))&&attr(t,"class",o),b[0]&32&&a!==(a=((z=f[88])==null?void 0:z.style)||"")&&attr(t,"style",a)},i:noop,o:noop,d(f){f&&detach(t)}}}function create_if_block_6(e){let t,n,i,l,r,s,_;const o=[create_if_block_7,create_if_block_8,create_if_block_9,create_if_block_12,create_else_block_3],a=[];function c(u,$){var f,b,m,k,w,g,p;return u[88].dt_frmt&&((b=u[85])!=null&&b[(f=u[88])==null?void 0:f.name])?0:u[88].duration&&((k=u[85])!=null&&k[(m=u[88])==null?void 0:m.name])?1:((w=u[88])==null?void 0:w.name)==="value"&&((g=u[82])==null?void 0:g.section)==="LOGS"?2:(p=u[88])!=null&&p.check_first?3:4}return n=c(e),i=a[n]=o[n](e),{c(){var u,$;t=element("td"),i.c(),l=space(),attr(t,"class",r="normal-case "+(((u=e[88])==null?void 0:u.width)||"")),attr(t,"style",s=(($=e[88])==null?void 0:$.style)||"")},m(u,$){insert(u,t,$),a[n].m(t,null),append(t,l),_=!0},p(u,$){var b,m;let f=n;n=c(u),n===f?a[n].p(u,$):(group_outros(),transition_out(a[f],1,1,()=>{a[f]=null}),check_outros(),i=a[n],i?i.p(u,$):(i=a[n]=o[n](u),i.c()),transition_in(i,1),i.m(t,l)),(!_||$[0]&32&&r!==(r="normal-case "+(((b=u[88])==null?void 0:b.width)||"")))&&attr(t,"class",r),(!_||$[0]&32&&s!==(s=((m=u[88])==null?void 0:m.style)||""))&&attr(t,"style",s)},i(u){_||(transition_in(i),_=!0)},o(u){transition_out(i),_=!1},d(u){u&&detach(t),a[n].d()}}}function create_each_block_3(e){let t,n=e[91].label+"",i,l;return{c(){t=element("option"),i=text(n),t.__value=l=e[91].value,set_input_value(t,t.__value)},m(r,s){insert(r,t,s),append(t,i)},p(r,s){s[0]&32&&n!==(n=r[91].label+"")&&set_data(i,n),s[0]&32&&l!==(l=r[91].value)&&(t.__value=l,set_input_value(t,t.__value))},d(r){r&&detach(t)}}}function create_else_block_3(e){var r,s,_;let t,n=string_ellipsis(((s=e[85])==null?void 0:s[(r=e[88])==null?void 0:r.name])||null,((_=e[88])==null?void 0:_.ellipsis)||30)+"",i,l;return{c(){var o,a,c,u;t=element("span"),i=text(n),attr(t,"title",l=e[85][(o=e[88])==null?void 0:o.tooltip]||string_ellipsis_title(((c=e[85])==null?void 0:c[(a=e[88])==null?void 0:a.name])||null,((u=e[88])==null?void 0:u.ellipsis)||30))},m(o,a){insert(o,t,a),append(t,i)},p(o,a){var c,u,$,f,b,m,k;a[0]&161&&n!==(n=string_ellipsis(((u=o[85])==null?void 0:u[(c=o[88])==null?void 0:c.name])||null,(($=o[88])==null?void 0:$.ellipsis)||30)+"")&&set_data(i,n),a[0]&161&&l!==(l=o[85][(f=o[88])==null?void 0:f.tooltip]||string_ellipsis_title(((m=o[85])==null?void 0:m[(b=o[88])==null?void 0:b.name])||null,((k=o[88])==null?void 0:k.ellipsis)||30))&&attr(t,"title",l)},i:noop,o:noop,d(o){o&&detach(t)}}}function create_if_block_12(e){var r;let t,n=string_ellipsis(e[24]({d:e[85],field:e[88]}),((r=e[88])==null?void 0:r.ellipsis)||30)+"",i,l;return{c(){var s,_;t=element("span"),i=text(n),attr(t,"title",l=e[85][(s=e[88])==null?void 0:s.tooltip]||string_ellipsis_title(e[24]({d:e[85],field:e[88]}),((_=e[88])==null?void 0:_.ellipsis)||30))},m(s,_){insert(s,t,_),append(t,i)},p(s,_){var o,a,c;_[0]&161&&n!==(n=string_ellipsis(s[24]({d:s[85],field:s[88]}),((o=s[88])==null?void 0:o.ellipsis)||30)+"")&&set_data(i,n),_[0]&161&&l!==(l=s[85][(a=s[88])==null?void 0:a.tooltip]||string_ellipsis_title(s[24]({d:s[85],field:s[88]}),((c=s[88])==null?void 0:c.ellipsis)||30))&&attr(t,"title",l)},i:noop,o:noop,d(s){s&&detach(t)}}}function create_if_block_9(e){let t,n,i,l,r,s,_,o,a,c;i=new Icons({props:{type:"outline",icon:"eye",path:"icons"}});function u(){return e[44](e[85],e[86],e[87])}function $(m,k){var w,g,p,h,S,D,P;return k[0]&161&&(r=null),k[0]&161&&(s=null),r==null&&(r=!!(((w=m[85])!=null&&w.fname||(g=m[85])!=null&&g.file||(p=m[85])!=null&&p.filename)&&m[24]({d:m[85],field:m[88]}))),r?create_if_block_10:(s==null&&(s=!!(((h=m[85])!=null&&h.rows||(S=m[85])!=null&&S.total_rows||(D=m[85])!=null&&D.nrows||(P=m[85])!=null&&P.n_rows)&&m[24]({d:m[85],field:m[88]}))),s?create_if_block_11:create_else_block_2)}let f=$(e,[-1,-1,-1,-1]),b=f(e);return{c(){var m;t=element("button"),n=element("span"),create_component(i.$$.fragment),l=space(),b.c(),_=empty(),attr(n,"class","w-5"),attr(t,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),t.disabled=e[4],set_style(t,"display",(m=e[85])!=null&&m.html?null:"none")},m(m,k){insert(m,t,k),append(t,n),mount_component(i,n,null),insert(m,l,k),b.m(m,k),insert(m,_,k),o=!0,a||(c=listen(t,"click",u),a=!0)},p(m,k){var w;e=m,(!o||k[0]&16)&&(t.disabled=e[4]),k[0]&161&&set_style(t,"display",(w=e[85])!=null&&w.html?null:"none"),f===(f=$(e,k))&&b?b.p(e,k):(b.d(1),b=f(e),b&&(b.c(),b.m(_.parentNode,_)))},i(m){o||(transition_in(i.$$.fragment,m),o=!0)},o(m){transition_out(i.$$.fragment,m),o=!1},d(m){m&&(detach(t),detach(l),detach(_)),destroy_component(i),b.d(m),a=!1,c()}}}function create_if_block_8(e){var i,l;let t=hooks.duration((((l=e[85])==null?void 0:l[(i=e[88])==null?void 0:i.name])||0)/(e[88].denom_2_unit||1),e[88].dunit||"milliseconds").humanize()+"",n;return{c(){n=text(t)},m(r,s){insert(r,n,s)},p(r,s){var _,o;s[0]&161&&t!==(t=hooks.duration((((o=r[85])==null?void 0:o[(_=r[88])==null?void 0:_.name])||0)/(r[88].denom_2_unit||1),r[88].dunit||"milliseconds").humanize()+"")&&set_data(n,t)},i:noop,o:noop,d(r){r&&detach(n)}}}function create_if_block_7(e){var i,l;let t=hooks(((l=e[85])==null?void 0:l[(i=e[88])==null?void 0:i.name])||null).format(e[88].dt_frmt)+"",n;return{c(){n=text(t)},m(r,s){insert(r,n,s)},p(r,s){var _,o;s[0]&161&&t!==(t=hooks(((o=r[85])==null?void 0:o[(_=r[88])==null?void 0:_.name])||null).format(r[88].dt_frmt)+"")&&set_data(n,t)},i:noop,o:noop,d(r){r&&detach(n)}}}function create_else_block_2(e){var r;let t,n=string_ellipsis(e[24]({d:e[85],field:e[88]}),((r=e[88])==null?void 0:r.ellipsis)||30)+"",i,l;return{c(){var s,_;t=element("span"),i=text(n),attr(t,"title",l=e[85][(s=e[88])==null?void 0:s.tooltip]||string_ellipsis_title(e[24]({d:e[85],field:e[88]}),((_=e[88])==null?void 0:_.ellipsis)||30))},m(s,_){insert(s,t,_),append(t,i)},p(s,_){var o,a,c;_[0]&161&&n!==(n=string_ellipsis(s[24]({d:s[85],field:s[88]}),((o=s[88])==null?void 0:o.ellipsis)||30)+"")&&set_data(i,n),_[0]&161&&l!==(l=s[85][(a=s[88])==null?void 0:a.tooltip]||string_ellipsis_title(s[24]({d:s[85],field:s[88]}),((c=s[88])==null?void 0:c.ellipsis)||30))&&attr(t,"title",l)},d(s){s&&detach(t)}}}function create_if_block_11(e){let t=format_number(e[24]({d:e[85],field:e[88]})||"0"," ",0,null)+"",n;return{c(){n=text(t)},m(i,l){insert(i,n,l)},p(i,l){l[0]&161&&t!==(t=format_number(i[24]({d:i[85],field:i[88]})||"0"," ",0,null)+"")&&set_data(n,t)},d(i){i&&detach(n)}}}function create_if_block_10(e){var s;let t,n=string_ellipsis((e[24]({d:e[85],field:e[88]})||"").replace(/^\w+\/|.+\//,""),((s=e[88])==null?void 0:s.ellipsis)||30)+"",i,l,r;return{c(){var _,o,a;t=element("a"),i=text(n),attr(t,"href",l=`${get_upload_api((_=e[9])==null?void 0:_.conf,!0)}/${e[24]({d:e[85],field:e[88]})}`),attr(t,"target","_blank"),attr(t,"class","link link-secondary"),attr(t,"title",r=e[85][(o=e[88])==null?void 0:o.tooltip]||string_ellipsis_title((e[24]({d:e[85],field:e[88]})||"").replace(/^\w+\/|.+\//,""),((a=e[88])==null?void 0:a.ellipsis)||30)),set_style(t,"display",e[24]({d:e[85],field:e[88]})?null:"none")},m(_,o){insert(_,t,o),append(t,i)},p(_,o){var a,c,u,$;o[0]&161&&n!==(n=string_ellipsis((_[24]({d:_[85],field:_[88]})||"").replace(/^\w+\/|.+\//,""),((a=_[88])==null?void 0:a.ellipsis)||30)+"")&&set_data(i,n),o[0]&673&&l!==(l=`${get_upload_api((c=_[9])==null?void 0:c.conf,!0)}/${_[24]({d:_[85],field:_[88]})}`)&&attr(t,"href",l),o[0]&161&&r!==(r=_[85][(u=_[88])==null?void 0:u.tooltip]||string_ellipsis_title((_[24]({d:_[85],field:_[88]})||"").replace(/^\w+\/|.+\//,""),(($=_[88])==null?void 0:$.ellipsis)||30))&&attr(t,"title",r),o[0]&161&&set_style(t,"display",_[24]({d:_[85],field:_[88]})?null:"none")},d(_){_&&detach(t)}}}function create_each_block_2(e){let t,n,i,l;const r=[create_if_block_6,create_if_block_13,create_if_block_14,create_if_block_15,create_if_block_16,create_if_block_17,create_if_block_18,create_else_block_4],s=[];function _(o,a){var c,u,$,f,b,m,k;return((c=o[88])==null?void 0:c.type)==="data"?0:((u=o[88])==null?void 0:u.type)==="link"?1:(($=o[88])==null?void 0:$.type)==="boolean"?2:((f=o[88])==null?void 0:f.type)==="select"?3:((b=o[88])==null?void 0:b.type)==="button"?4:((m=o[88])==null?void 0:m.type)==="file"?5:((k=o[88])==null?void 0:k.type)==="date"?6:7}return t=_(e),n=s[t]=r[t](e),{c(){n.c(),i=empty()},m(o,a){s[t].m(o,a),insert(o,i,a),l=!0},p(o,a){let c=t;t=_(o),t===c?s[t].p(o,a):(group_outros(),transition_out(s[c],1,1,()=>{s[c]=null}),check_outros(),n=s[t],n?n.p(o,a):(n=s[t]=r[t](o),n.c()),transition_in(n,1),n.m(i.parentNode,i))},i(o){l||(transition_in(n),l=!0)},o(o){transition_out(n),l=!1},d(o){o&&detach(i),s[t].d(o)}}}function create_each_block_1(e){let t,n,i,l,r;const s=[create_if_block_5,create_else_block_1],_=[];function o(a,c){var u;return a[85].show_html&&((u=a[85])!=null&&u.html)?0:1}return n=o(e),i=_[n]=s[n](e),{c(){t=element("tr"),i.c(),l=space(),attr(t,"class","hover"),set_style(t,"display",e[85].excluded?"None":null)},m(a,c){insert(a,t,c),_[n].m(t,null),append(t,l),r=!0},p(a,c){let u=n;n=o(a),n===u?_[n].p(a,c):(group_outros(),transition_out(_[u],1,1,()=>{_[u]=null}),check_outros(),i=_[n],i?i.p(a,c):(i=_[n]=s[n](a),i.c()),transition_in(i,1),i.m(t,l)),c[0]&161&&set_style(t,"display",a[85].excluded?"None":null)},i(a){r||(transition_in(i),r=!0)},o(a){transition_out(i),r=!1},d(a){a&&detach(t),_[n].d()}}}function create_each_block(e){var r;let t=e[1]===e[84]&&e[12](((r=e[82])==null?void 0:r.show)||"true",e[82],null,e[0]),n,i,l=t&&create_if_block_3(e);return{c(){l&&l.c(),n=empty()},m(s,_){l&&l.m(s,_),insert(s,n,_),i=!0},p(s,_){var o;_[0]&35&&(t=s[1]===s[84]&&s[12](((o=s[82])==null?void 0:o.show)||"true",s[82],null,s[0])),t?l?(l.p(s,_),_[0]&35&&transition_in(l,1)):(l=create_if_block_3(s),l.c(),transition_in(l,1),l.m(n.parentNode,n)):l&&(group_outros(),transition_out(l,1,1,()=>{l=null}),check_outros())},i(s){i||(transition_in(l),i=!0)},o(s){transition_out(l),i=!1},d(s){s&&detach(n),l&&l.d(s)}}}function create_if_block_2(e){let t,n;return t=new Loadingv2({props:{open:e[4]}}),{c(){create_component(t.$$.fragment)},m(i,l){mount_component(t,i,l),n=!0},p(i,l){const r={};l[0]&16&&(r.open=i[4]),t.$set(r)},i(i){n||(transition_in(t.$$.fragment,i),n=!0)},o(i){transition_out(t.$$.fragment,i),n=!1},d(i){destroy_component(t,i)}}}function create_if_block_1(e){let t,n;return t=new Toast({props:{open:e[2].open,type:e[2].type,msg:e[2].msg,timer:2e4}}),t.$on("dismiss",e[60]),{c(){create_component(t.$$.fragment)},m(i,l){mount_component(t,i,l),n=!0},p(i,l){const r={};l[0]&4&&(r.open=i[2].open),l[0]&4&&(r.type=i[2].type),l[0]&4&&(r.msg=i[2].msg),t.$set(r)},i(i){n||(transition_in(t.$$.fragment,i),n=!0)},o(i){transition_out(t.$$.fragment,i),n=!1},d(i){destroy_component(t,i)}}}function create_if_block(e){let t,n;const i=[e[3]];let l={};for(let r=0;r<i.length;r+=1)l=assign(l,i[r]);return t=new Modal({props:l}),t.$on("dismiss",e[61]),{c(){create_component(t.$$.fragment)},m(r,s){mount_component(t,r,s),n=!0},p(r,s){const _=s[0]&8?get_spread_update(i,[get_spread_object(r[3])]):{};t.$set(_)},i(r){n||(transition_in(t.$$.fragment,r),n=!0)},o(r){transition_out(t.$$.fragment,r),n=!1},d(r){destroy_component(t,r)}}}function create_fragment(e){let t,n,i,l,r,s,_,o,a,c=ensure_array_like(e[5]),u=[];for(let g=0;g<c.length;g+=1)u[g]=create_each_block_6(get_each_context_6(e,c,g));let $=ensure_array_like(e[5]),f=[];for(let g=0;g<$.length;g+=1)f[g]=create_each_block(get_each_context(e,$,g));const b=g=>transition_out(f[g],1,1,()=>{f[g]=null});let m=e[4]&&create_if_block_2(e),k=e[2].open&&create_if_block_1(e),w=e[3].open&&create_if_block(e);return{c(){t=element("div"),n=element("ul");for(let g=0;g<u.length;g+=1)u[g].c();i=space();for(let g=0;g<f.length;g+=1)f[g].c();l=space(),m&&m.c(),r=space(),k&&k.c(),s=space(),w&&w.c(),_=space(),o=element("div"),attr(n,"class","steps w-full p-2"),attr(t,"class","--flex --flex-col"),attr(o,"class","input-primary input-lg"),set_style(o,"display","none")},m(g,p){insert(g,t,p),append(t,n);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(n,null);append(t,i);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null);insert(g,l,p),m&&m.m(g,p),insert(g,r,p),k&&k.m(g,p),insert(g,s,p),w&&w.m(g,p),insert(g,_,p),insert(g,o,p),a=!0},p(g,p){if(p[0]&4131){c=ensure_array_like(g[5]);let h;for(h=0;h<c.length;h+=1){const S=get_each_context_6(g,c,h);u[h]?u[h].p(S,p):(u[h]=create_each_block_6(S),u[h].c(),u[h].m(n,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}if(p[0]&33553395){$=ensure_array_like(g[5]);let h;for(h=0;h<$.length;h+=1){const S=get_each_context(g,$,h);f[h]?(f[h].p(S,p),transition_in(f[h],1)):(f[h]=create_each_block(S),f[h].c(),transition_in(f[h],1),f[h].m(t,null))}for(group_outros(),h=$.length;h<f.length;h+=1)b(h);check_outros()}g[4]?m?(m.p(g,p),p[0]&16&&transition_in(m,1)):(m=create_if_block_2(g),m.c(),transition_in(m,1),m.m(r.parentNode,r)):m&&(group_outros(),transition_out(m,1,1,()=>{m=null}),check_outros()),g[2].open?k?(k.p(g,p),p[0]&4&&transition_in(k,1)):(k=create_if_block_1(g),k.c(),transition_in(k,1),k.m(s.parentNode,s)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()),g[3].open?w?(w.p(g,p),p[0]&8&&transition_in(w,1)):(w=create_if_block(g),w.c(),transition_in(w,1),w.m(_.parentNode,_)):w&&(group_outros(),transition_out(w,1,1,()=>{w=null}),check_outros())},i(g){if(!a){for(let p=0;p<$.length;p+=1)transition_in(f[p]);transition_in(m),transition_in(k),transition_in(w),a=!0}},o(g){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)transition_out(f[p]);transition_out(m),transition_out(k),transition_out(w),a=!1},d(g){g&&(detach(t),detach(l),detach(r),detach(s),detach(_),detach(o)),destroy_each(u,g),destroy_each(f,g),m&&m.d(g),k&&k.d(g),w&&w.d(g)}}}function instance($$self,$$props,$$invalidate){let $i18n,$_global;component_subscribe($$self,i18n,e=>$$invalidate(8,$i18n=e)),component_subscribe($$self,_global,e=>$$invalidate(9,$_global=e));let{table}=$$props,{data}=$$props,{option={}}=$$props,{action={}}=$$props,etlx_conf={},etlx_data={LOGS:[]},tab=0,toast={open:!1,msg:null,type:null},modal_data={open:!1,width:12,heigth:85,header:!0,title:"Dialog Title",header_actions:[],component:null},loading=!1;const etlx_keys=["ETL","DATA_QUALITY","MULTI_QUERIES","EXPORTS","SCRIPTS","ACTIONS","NOTIFY","LOGS"];let steps=[{section:"ETL",label:"ETL",show:"etlx_conf?.ETL",date_ref:hooks().subtract(1,"days").format("YYYY-MM-DD"),run_all_action:"run",fields:[{name:"name",type:"data",label:`${$i18n.t("crud.name")}`,tooltip:"description",ellipsis:30},{name:"table",type:"data",label:`${$i18n.t("crud.table")}`,ellipsis:30},{name:"date_ref",label:`${$i18n.t("crud.date")}`,type:"date",input:!0},{name:"file",label:`${$i18n.t("crud.file")}`,type:"file",input:!0},{name:"num_rows",label:`${$i18n.t("crud.n_rows")}`,type:"data",input:!0,style:"text-align: right"},{name:"skip_extract",label:`${$i18n.t("crud.skip_extract")}`,type:"boolean",input:!0},{name:"skip_transform",label:`${$i18n.t("crud.skip_transform")}`,type:"boolean",input:!0},{name:"skip_load",label:`${$i18n.t("crud.skip_load")}`,type:"boolean",input:!0},{name:"active",label:`${$i18n.t("crud.active")}`,type:"boolean",input:!0},{name:"btn_extract",label:`${$i18n.t("crud.extract")}`,type:"button",input:!0,action:"extract",icon:"play",width:"w-10",disabled:"!d?.active"},{name:"btn_nrows",label:`${$i18n.t("crud.n_rows")}`,type:"button",input:!0,action:"n_rows",icon:"check",width:"w-10"},{name:"btn_delete",label:`${$i18n.t("crud.delete")}`,type:"button",input:!0,action:"delete",icon:"trash",width:"w-10"},{name:"btn_explore",label:`${$i18n.t("crud.explore_db")}`,type:"button",input:!0,action:"explore_db",icon:"table-cells",width:"w-10"},{name:"btn_edit_cnf",label:`${$i18n.t("crud.edit_cnf")}`,type:"button",input:!0,action:"edit_cnf",icon:"cog-8-tooth",width:"w-10",disabled:"!d?.active"}]},{section:"DATA_QUALITY",label:"DATA QUALITY",show:"etlx_conf?.DATA_QUALITY",dates_refs:[hooks().subtract(1,"days").format("YYYY-MM-DD")],run_all_action:"data_quality",pre_filters:["num_erros_check:\\d{1,}","num_erros_fix:\\d{1,}"],fields:[{name:"name",type:"data",label:`${$i18n.t("crud.name")}`,tooltip:"description",ellipsis:30},{name:"description",type:"data",label:`${$i18n.t("crud.description")}`,ellipsis:40},{name:"query",type:"data",label:`${$i18n.t("crud.query")}`,ellipsis:30},{name:"num_erros_check",label:`${$i18n.t("crud.num_erros_check")}`,type:"data",input:!0,style:"text-align: right"},{name:"fix_quality_err",type:"data",label:`${$i18n.t("crud.fix_query")}`,ellipsis:30},{name:"num_erros_fix",label:`${$i18n.t("crud.num_erros_fix")}`,type:"data",input:!0,style:"text-align: right"},{name:"active",label:`${$i18n.t("crud.active")}`,type:"boolean",input:!0},{name:"check_only",label:`${$i18n.t("crud.check")}`,type:"boolean",input:!0},{name:"fix_only",label:`${$i18n.t("crud.fix")}`,type:"boolean",input:!0},{name:"btn_quality",label:`${$i18n.t("crud.execute")}`,type:"button",input:!0,action:"data_quality",icon:"bolt",width:"w-10",disabled:"!d?.active || !d?.query"},{name:"btn_edit_cnf",label:`${$i18n.t("crud.edit_cnf")}`,type:"button",input:!0,action:"edit_cnf",icon:"cog-8-tooth",width:"w-10",disabled:"!d?.active"}]},{section:"MULTI_QUERIES",label:"MULTI QUERIES",show:"etlx_conf?.MULTI_QUERIES",dates_refs:[hooks().subtract(1,"days").format("YYYY-MM-DD")],run_all_action:"queries",fields:[{name:"name",type:"data",label:`${$i18n.t("crud.name")}`,tooltip:"description",ellipsis:30},{name:"description",type:"data",label:`${$i18n.t("crud.description")}`,ellipsis:40},{name:"query",type:"data",label:`${$i18n.t("crud.query")}`,ellipsis:40},{name:"active",label:`${$i18n.t("crud.active")}`,type:"boolean",input:!0},{name:"btn_execute",label:`${$i18n.t("crud.execute")}`,type:"button",input:!0,action:"data_quality_fix",icon:"play",width:"w-10",disabled:"!d?.active || !d?.query"},{name:"btn_edit_cnf",label:`${$i18n.t("crud.edit_cnf")}`,type:"button",input:!0,action:"edit_cnf",icon:"cog-8-tooth",width:"w-10",disabled:"!d?.active"}]},{section:"EXPORTS",label:"EXPORTS",show:"etlx_conf?.EXPORTS",dates_refs:[hooks().subtract(1,"days").format("YYYY-MM-DD")],run_all_action:"run",fields:[{name:"name",label:`${$i18n.t("crud.name")}`,type:"data",tooltip:"description",ellipsis:30},{name:"description",type:"data",label:`${$i18n.t("crud.description")}`,ellipsis:40},{name:"fname",label:`${$i18n.t("crud.file")}`,type:"link",ellipsis:30},{name:"active",label:`${$i18n.t("crud.active")}`,type:"boolean",input:!0},{name:"btn_export",label:`${$i18n.t("crud.execute")}`,type:"button",input:!0,action:"export",icon:"play",width:"w-10",disabled:"!d?.active"},{name:"btn_edit_cnf",label:`${$i18n.t("crud.edit_cnf")}`,type:"button",input:!0,action:"edit_cnf",icon:"cog-8-tooth",width:"w-10",disabled:"!d?.active"}]},{section:"SCRIPTS",label:"SCRIPTS",show:"etlx_conf?.SCRIPTS",dates_refs:[hooks().subtract(1,"days").format("YYYY-MM-DD")],run_all_action:"run",fields:[{name:"name",label:`${$i18n.t("crud.name")}`,type:"data",tooltip:"description",ellipsis:30},{name:"description",type:"data",label:`${$i18n.t("crud.description")}`,ellipsis:40},{name:"active",label:`${$i18n.t("crud.active")}`,type:"boolean",input:!0},{name:"btn_execute",label:`${$i18n.t("crud.execute")}`,type:"button",input:!0,action:"execute",icon:"play",width:"w-10",disabled:"!d?.active"},{name:"btn_edit_cnf",label:`${$i18n.t("crud.edit_cnf")}`,type:"button",input:!0,action:"edit_cnf",icon:"cog-8-tooth",width:"w-10",disabled:"!d?.active"}]},{section:"ACTIONS",label:"ACTIONS",show:"etlx_conf?.ACTIONS",dates_refs:[hooks().subtract(1,"days").format("YYYY-MM-DD")],run_all_action:"run",fields:[{name:"name",label:`${$i18n.t("crud.name")}`,type:"data",tooltip:"description",ellipsis:30},{name:"description",type:"data",label:`${$i18n.t("crud.description")}`,ellipsis:60},{name:"type",label:`${$i18n.t("crud.type")}`,type:"data",ellipsis:30},{name:"active",label:`${$i18n.t("crud.active")}`,type:"boolean",input:!0},{name:"btn_execute",label:`${$i18n.t("crud.execute")}`,type:"button",input:!0,action:"execute",icon:"play",width:"w-10",disabled:"!d?.active"},{name:"btn_edit_cnf",label:`${$i18n.t("crud.edit_cnf")}`,type:"button",input:!0,action:"edit_cnf",icon:"cog-8-tooth",width:"w-10",disabled:"!d?.active"}]},{section:"NOTIFY",label:"NOTIFY",show:"etlx_conf?.NOTIFY",dates_refs:[hooks().subtract(1,"days").format("YYYY-MM-DD")],run_all_action:"run",fields:[{name:"name",label:`${$i18n.t("crud.name")}`,type:"data",tooltip:"description",ellipsis:30},{name:"description",type:"data",label:`${$i18n.t("crud.description")}`,ellipsis:40},{name:"subject",label:`${$i18n.t("crud.subject")}`,type:"data",ellipsis:30},{name:"to",label:`${$i18n.t("crud.to")}`,type:"data",ellipsis:30},{name:"active",label:`${$i18n.t("crud.active")}`,type:"boolean",input:!0},{name:"btn_execute",label:`${$i18n.t("crud.execute")}`,type:"button",input:!0,action:"execute",icon:"play",width:"w-10",disabled:"!d?.active"},{name:"btn_edit_cnf",label:`${$i18n.t("crud.edit_cnf")}`,type:"button",input:!0,action:"edit_cnf",icon:"cog-8-tooth",width:"w-10",disabled:"!d?.active"}]},{section:"LOGS",show:"etlx_conf?.LOGS",label:"LOGS",order_by_field:"start",pre_filters:["success:true","name:ETL","name:EXPORT","name:quality"],fields:[{name:"name",label:`${$i18n.t("crud.name")}`,type:"data",ellipsis:30},{name:"ref",label:`${$i18n.t("crud.ref")}`,type:"data",dt_frmt:`${$i18n.t("fmrt.date")}`,style:"text-align: right"},{name:"start_at",label:`${$i18n.t("crud.start")}`,type:"data",dt_frmt:`${$i18n.t("fmrt.datetime")}`,style:"text-align: right"},{name:"duration",label:`${$i18n.t("crud.timer")}`,type:"data",style:"text-align: right",duration:!0,dunit:"milliseconds",denom_2_unit:1e6},{name:"end_at",label:`${$i18n.t("crud.end")}`,type:"data",dt_frmt:`${$i18n.t("fmrt.datetime")}`,style:"text-align: right"},{name:"success",label:`${$i18n.t("crud.success")}`,type:"data"},{name:"msg",label:`${$i18n.t("crud.msg")}`,type:"data",ellipsis:30},{name:"value",label:`${$i18n.t("crud.value")}`,type:"data",ellipsis:30,check_first:["n_rows","num_rows","nrows","rows","fname","file","filename","errors","fixes","html"]}]}];const drag_start_class={};onMount(async()=>{$i18n.changeLanguage($_global==null?void 0:$_global.lang);try{hooks.locale($_global==null?void 0:$_global.lang)}catch{hooks.locale("en-us")}console.log("ETLX:",{table,data,option}),data==null||data.periodicity_id;try{$$invalidate(0,etlx_conf=lodashExports.cloneDeep(data))}catch(e){console.log(e.message)}(async()=>await get_conf({...data,conf:data.etlx_conf}))()});const dismiss_modal=e=>{$$invalidate(3,modal_data.actions=null,modal_data),$$invalidate(3,modal_data.open=!1,modal_data)},get_conf=async e=>{var n,i,l;const t={class:"etlx",method:"conf",conf:$_global==null?void 0:$_global.conf,token:$_global==null?void 0:$_global.token,app:$_global==null?void 0:$_global.selected_app,data:{...e||{...data,conf:data.etlx_conf}}};$$invalidate(4,loading=!0);try{const r=await gbl_api_call(t);if(r.success===!0){$$invalidate(0,etlx_conf=r.data);for(let s=0;s<((n=(etlx_conf==null?void 0:etlx_conf.__order)||[])==null?void 0:n.length);s++){const _=(i=etlx_conf==null?void 0:etlx_conf.__order)==null?void 0:i[s],o=etlx_conf==null?void 0:etlx_conf[_],a=(l=o==null?void 0:o.metadata)==null?void 0:l.runs_as;if(!etlx_keys.includes(_)){if(etlx_keys.includes(a)){const c=steps==null?void 0:steps.filter($=>(($==null?void 0:$.name)||($==null?void 0:$.section))===_),u=steps==null?void 0:steps.filter($=>($==null?void 0:$.section)===a);if((c==null?void 0:c.length)===0&&(u==null?void 0:u.length)>0){const $={...lodashExports.cloneDeep(u==null?void 0:u[0]),name:_,label:_,section:a,runs_as:a,show:`etlx_conf?.${_}`};steps.push(lodashExports.cloneDeep($))}}}[_,a].includes("LOGS")&&getLogs(_,o)}$$invalidate(5,steps=[...steps]);for(let s=0;s<steps.length;s++){const _=steps[s];if(get_eval(_==null?void 0:_.show,_,null,etlx_conf)){$$invalidate(1,tab=s);break}}}else $$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=r.msg||r.toString(),toast)}catch(r){$$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=`${r==null?void 0:r.message}`,toast)}$$invalidate(4,loading=!1)},handle_pagination=e=>{var t,n,i;steps[e._index].offset||$$invalidate(5,steps[e._index].offset=0,steps),steps[e._index].limit||$$invalidate(5,steps[e._index].limit=10,steps),e.detail.type==="next"?$$invalidate(5,steps[e._index].offset=((t=steps==null?void 0:steps[e._index])==null?void 0:t.offset)+1,steps):e.detail.type==="back"?$$invalidate(5,steps[e._index].offset=((n=steps==null?void 0:steps[e._index])==null?void 0:n.offset)-1,steps):e.detail.type==="first"?$$invalidate(5,steps[e._index].offset=0,steps):e.detail.type==="last"?$$invalidate(5,steps[e._index].offset=Math.ceil(((e==null?void 0:e._length)||steps[e._index].limit)/steps[e._index].limit)-1,steps):e.detail.type==="rows_per_page"&&($$invalidate(5,steps[e._index].limit=((i=e==null?void 0:e.detail)==null?void 0:i.rows_per_page)||10,steps),$$invalidate(5,steps[e._index].offset=0,steps)),$$invalidate(5,steps=[...steps])},_sort=(e,t,n)=>{var i;try{return field_order!=null&&field_order[t==null?void 0:t.section]||(field_order[t==null?void 0:t.section]={}),(i=field_order==null?void 0:field_order[t==null?void 0:t.section])!=null&&i[n==null?void 0:n.name]?field_order[t==null?void 0:t.section][n==null?void 0:n.name]=(field_order[t==null?void 0:t.section][n==null?void 0:n.name]||1)*-1:field_order[t==null?void 0:t.section][n==null?void 0:n.name]=1,e.sort((l,r)=>{let s;return l[n==null?void 0:n.name]>r[n==null?void 0:n.name]?s=1:(r[n==null?void 0:n.name]>l[n==null?void 0:n.name],s=-1),s*field_order[t==null?void 0:t.section][n==null?void 0:n.name]})}catch{return e}},get_step_data=(e,t)=>{var l;let n=[];(e==null?void 0:e.section)==="LOGS"?n=(etlx_data==null?void 0:etlx_data[(e==null?void 0:e.name)||(e==null?void 0:e.section)])||[]:((t==null?void 0:t.__order)||Object.keys(t)).forEach(r=>{var s;["__order","metadata"].includes(r)||n.push({level1:e==null?void 0:e.section,level2:r,name:e==null?void 0:e.name,date_ref:e==null?void 0:e.date_ref,...(s=t==null?void 0:t[r])==null?void 0:s.metadata,etlx:t==null?void 0:t[r]})});const i=(n||[]).filter(r=>{var _;let s=!0;if(e!=null&&e.filter){if(!(((_=e==null?void 0:e.filter)==null?void 0:_.length)<3)){s=!1;let o=e==null?void 0:e.filter;const a=o.split(":");let c=null;a.length>1&&(c=a[0],o=a[1],console.log({_field:c,_filter:o}));try{const u=new RegExp(o,"i");if(c)((r==null?void 0:r[c])||"").toString().match(u)&&(s=!0);else for(let $=0;$<Object.keys(r).length;$++){const f=Object.keys(r)[$];if(r[f]){if(r[f].toString().length<3)continue}else continue;if(r[f].toString().match(u)){s=!0;break}}}catch(u){console.log(u.message)}}}return s});if(e!=null&&e.order_by_field){const r=(l=e==null?void 0:e.fields)==null?void 0:l.filter(s=>(s==null?void 0:s.name)===(e==null?void 0:e.order_by_field))[0];return _sort(i,e,r)}else return i},get_eval=(payload,d,field,etlx_conf)=>{try{return eval(payload)}catch(e){return console.log(payload,d,field,etlx_conf,e.message),!1}},after_save_form=e=>{console.log("after_save_form".toUpperCase(),e)},set_dates=e=>{if((e==null?void 0:e.length)>0){const t=steps;t[tab].dates_refs=lodashExports.cloneDeep(e),$$invalidate(5,steps=[...lodashExports.cloneDeep(t)]),dismiss_modal()}},pick_dates=async e=>{try{$$invalidate(4,loading=!0);const t=(await __vitePreload(async()=>{const{default:n}=await import("./PickDates-Dg1OZM7q.js");return{default:n}},__vite__mapDeps([0,1,2,3]),import.meta.url)).default;$$invalidate(3,modal_data.actions=null,modal_data),$$invalidate(3,modal_data.header=!0,modal_data),$$invalidate(3,modal_data.component=t,modal_data),$$invalidate(3,modal_data.msg=null,modal_data),$$invalidate(3,modal_data.html_msg=null,modal_data),$$invalidate(3,modal_data.header_actions=[],modal_data),$$invalidate(3,modal_data.title=`${$i18n.t("crud.set")} ${$i18n.t("crud.date")}s`,modal_data),$$invalidate(3,modal_data.data={dates_refs:lodashExports.cloneDeep((e==null?void 0:e.dates_refs)||[]),set_dates},modal_data),$$invalidate(3,modal_data.actions=[{type:"btn",icon:"ban",name:"CANCEL",class:"btn-sm text-error",label:$i18n.t("crud.cancel"),action:dismiss_modal},{type:"btn",icon:"trash",name:"CLEAN",class:"btn-sm text-warning",label:$i18n.t("crud.clean")},{type:"btn",icon:"check",name:"SET",class:"btn-sm text-success",label:$i18n.t("crud.set"),action:set_dates}],modal_data),$$invalidate(3,modal_data.width=4,modal_data),$$invalidate(3,modal_data.heigth=null,modal_data),$$invalidate(3,modal_data.open=!0,modal_data),$$invalidate(4,loading=!1)}catch(t){$$invalidate(4,loading=!1),console.log(t.message),$$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=t.message,toast)}},getDatabaseName=e=>{if(!e)return null;if(e.startsWith("duckdb:")||e.startsWith("sqlite:"))return e.slice(7)||":memory:";const t=/^(?:mysql|postgres):\/\/[^\/]+\/([^?]+)/,n=e.match(t);return n?n[1]:e},explore_db=async e=>{var t,n,i,l,r,s,_,o,a,c,u,$,f,b,m,k,w,g,p,h,S;try{const D=((t=etlx_conf==null?void 0:etlx_conf.__order)==null?void 0:t[0])||((n=Object.keys(etlx_conf))==null?void 0:n[0]);console.log(D,e);let N=((_=(s=(r=(l=(i=e==null?void 0:e.data)==null?void 0:i.conf)==null?void 0:l[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:r[e==null?void 0:e.key])==null?void 0:s.metadata)==null?void 0:_.database)||((u=(c=(a=(o=e==null?void 0:e.data)==null?void 0:o.conf)==null?void 0:a[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:c.metadata)==null?void 0:u.database)||((f=($=etlx_conf==null?void 0:etlx_conf[D])==null?void 0:$.metadata)==null?void 0:f.database)||((m=(b=etlx_conf==null?void 0:etlx_conf[D])==null?void 0:b.metadata)==null?void 0:m.conn)||((w=(k=etlx_conf==null?void 0:etlx_conf[D])==null?void 0:k.metadata)==null?void 0:w.connection),Q=`${$i18n.t("crud.explore_db")} - ${getDatabaseName(N)}`,z=((p=(g=etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)][e==null?void 0:e.key])==null?void 0:g.metadata)==null?void 0:p.table)||((S=(h=etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)][e==null?void 0:e.key])==null?void 0:h.metadata)==null?void 0:S.name);$$invalidate(4,loading=!0);const O=(await __vitePreload(async()=>{const{default:I}=await import("./DBExplorer-ivI6VOVv.js");return{default:I}},__vite__mapDeps([4,1,2,3,5]),import.meta.url)).default;$$invalidate(3,modal_data.actions=null,modal_data),$$invalidate(3,modal_data.header=!0,modal_data),$$invalidate(3,modal_data.component=O,modal_data),$$invalidate(3,modal_data.msg=null,modal_data),$$invalidate(3,modal_data.html_msg=null,modal_data),$$invalidate(3,modal_data.header_actions=[{type:"btn",icon:"refresh",name:"REFRESH",class:"btn-sm text-info",label:$i18n.t("crud.refresh"),action:null},{type:"icon",icon:"save",name:"save",label:$i18n.t("crud.save"),action:after_save_form}],modal_data),$$invalidate(3,modal_data.title=Q,modal_data),$$invalidate(3,modal_data.data={data:{manage_query_conf:e!=null&&e.manage_query_conf?JSON.stringify(e==null?void 0:e.manage_query_conf):null,table:z,database:N,etlrb:e==null?void 0:e.etlx_conf,app:$_global==null?void 0:$_global.selected_app}},modal_data),$$invalidate(3,modal_data.width=95,modal_data),$$invalidate(3,modal_data.heigth=95,modal_data),$$invalidate(3,modal_data.open=!0,modal_data),$$invalidate(4,loading=!1)}catch(D){$$invalidate(4,loading=!1),console.log(D.message),$$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=D.message,toast)}},select_file=e=>{try{document.getElementById(e.id).click()}catch(t){console.log(t.message)}},file_upload=async e=>{var t,n,i,l,r,s,_,o,a,c,u,$,f,b,m,k,w;$$invalidate(4,loading=!0);try{change_db_data({...e==null?void 0:e.data,value:(l=(i=(n=(t=e==null?void 0:e.event)==null?void 0:t.currentTarget)==null?void 0:n.files)==null?void 0:i[0])==null?void 0:l.name});let g=!0;Object.prototype.hasOwnProperty.call((r=e==null?void 0:e.data)==null?void 0:r.data,"save_only_temp")?g=(_=(s=e==null?void 0:e.data)==null?void 0:s.data)==null?void 0:_.save_only_temp:Object.prototype.hasOwnProperty.call((o=e==null?void 0:e.data)==null?void 0:o.data,"temp")?g=(c=(a=e==null?void 0:e.data)==null?void 0:a.data)==null?void 0:c.temp:Object.prototype.hasOwnProperty.call((u=e==null?void 0:e.data)==null?void 0:u.data,"tmp")&&(g=(f=($=e==null?void 0:e.data)==null?void 0:$.data)==null?void 0:f.tmp);try{$$invalidate(0,etlx_conf[((b=e==null?void 0:e.data)==null?void 0:b.name)||((m=e==null?void 0:e.data)==null?void 0:m.section)][(k=e==null?void 0:e.data)==null?void 0:k.key].metadata.tmp=g,etlx_conf)}catch{}const p={lang:$_global==null?void 0:$_global.lang,conf:$_global==null?void 0:$_global.conf,token:$_global==null?void 0:$_global.token,file:e.event.currentTarget.files[0],tmp:g,path:null},h=await upload(p);h.success===!0?($$invalidate(25,data[(w=e==null?void 0:e.field)==null?void 0:w.name]=h.file,data),change_db_data({...e==null?void 0:e.data,value:h.file}),$$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="success",toast),$$invalidate(2,toast.msg=h.msg,toast)):($$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=h.msg,toast))}catch(g){console.log(g.message),$$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=g.message,toast)}$$invalidate(4,loading=!1)},drop_file_handler=(e,t)=>{try{e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(file_upload({data:t,event:{currentTarget:{files:e.dataTransfer.files}}}),e.dataTransfer.clearData())}catch(n){console.log(n.message)}},paste_file_handler=(e,t)=>{try{e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&(file_upload({data:t,event:{currentTarget:{files:e.clipboardData.files}}}),e.clipboardData.clearData())}catch(n){console.log(n.message)}},set_entire_col_val=e=>{var t;for(const n in etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)])Object.prototype.hasOwnProperty.call(etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)],n)&&(t=etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)][n])!=null&&t.metadata&&$$invalidate(0,etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)][n].metadata[e==null?void 0:e.field]=e==null?void 0:e.value,etlx_conf);$$invalidate(0,etlx_conf={...etlx_conf})},_set_all=e=>{var n,i,l;const t=steps;if(hooks(e).isValid()){for(let r=0;r<t.length;r++)(n=t[r])!=null&&n.date_ref?t[r].date_ref=hooks(e).clone().format("YYYY-MM-DD"):(i=t[r])!=null&&i.dates_refs&&(t[r].dates_refs=[hooks(e).clone().format("YYYY-MM-DD")]);$$invalidate(5,steps=[...t]);for(const r in etlx_conf)if(Object.prototype.hasOwnProperty.call(etlx_conf,r))for(const s in etlx_conf[r])(l=etlx_conf[r][s])!=null&&l.metadata&&$$invalidate(0,etlx_conf[r][s].metadata.date_ref=hooks(e).clone().format("YYYY-MM-DD"),etlx_conf);$$invalidate(0,etlx_conf={...etlx_conf})}},change_db_data=e=>{var t;try{e!=null&&e.section&&(!(e!=null&&e.key)&&(e!=null&&e.section)&&(etlx_conf!=null&&etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)])?$$invalidate(0,etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)].metadata[e==null?void 0:e.field]=e==null?void 0:e.value,etlx_conf):!Object.prototype.hasOwnProperty.call(etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)],e==null?void 0:e.key)&&typeof(e==null?void 0:e.value)=="object"&&(db_data!=null&&db_data[e==null?void 0:e.section])?$$invalidate(0,etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)][e==null?void 0:e.key].metadata=e==null?void 0:e.value,etlx_conf):Object.prototype.hasOwnProperty.call(etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)],e==null?void 0:e.key)&&(t=etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)][e==null?void 0:e.key])!=null&&t.metadata&&$$invalidate(0,etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)][e==null?void 0:e.key].metadata[e==null?void 0:e.field]=e==null?void 0:e.value,etlx_conf)),$$invalidate(0,etlx_conf={...etlx_conf})}catch(n){console.log(n==null?void 0:n.message,e)}},getLogs=async(e,t)=>{var _,o,a,c,u,$,f,b,m,k,w,g,p;const n=((_=etlx_conf==null?void 0:etlx_conf.__order)==null?void 0:_[0])||((o=Object.keys(etlx_conf))==null?void 0:o[0]);let l=((a=t==null?void 0:t.metadata)==null?void 0:a.conn)||((c=t==null?void 0:t.metadata)==null?void 0:c.connection)||((u=t==null?void 0:t.metadata)==null?void 0:u.database)||((f=($=etlx_conf==null?void 0:etlx_conf[n])==null?void 0:$.metadata)==null?void 0:f.conn)||((m=(b=etlx_conf==null?void 0:etlx_conf[n])==null?void 0:b.metadata)==null?void 0:m.connection)||((w=(k=etlx_conf==null?void 0:etlx_conf[n])==null?void 0:k.metadata)==null?void 0:w.database);const r=`select * from "${((g=t==null?void 0:t.metadata)==null?void 0:g.table)||((p=t==null?void 0:t.metadata)==null?void 0:p.name)}" order by "sart_at" desc`,s={class:"crud",method:"query",conf:$_global==null?void 0:$_global.conf,token:$_global==null?void 0:$_global.token,app:$_global==null?void 0:$_global.selected_app,data:{query:r,db:l}};$$invalidate(4,loading=!0);try{const h=await gbl_api_call(s);console.log("RES LOGS:",e,t,h),h.success===!0?etlx_data={...etlx_data,[e]:[...h==null?void 0:h.data,...(etlx_data==null?void 0:etlx_data[e])||[]]}:($$invalidate(2,toast.open=!1,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=h.msg||h.toString(),toast))}catch(h){$$invalidate(2,toast.open=!1,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=`${h==null?void 0:h.message}`,toast)}return $$invalidate(4,loading=!1),null},run_action=async e=>{var n,i,l,r,s,_,o,a,c,u,$,f,b,m,k,w,g,p,h,S,D,P,N,Q,z;change_db_data({section:((n=e==null?void 0:e.step)==null?void 0:n.section)||(e==null?void 0:e.section),name:((i=e==null?void 0:e.step)==null?void 0:i.name)||(e==null?void 0:e.name),key:e==null?void 0:e.key,field:"loading",value:!0});const t={class:"etlx",method:"run",conf:$_global==null?void 0:$_global.conf,token:$_global==null?void 0:$_global.token,app:$_global==null?void 0:$_global.selected_app,data:{...e.data}};$$invalidate(4,loading=!0);try{const O=await gbl_api_call(t);if(console.log("RES:",O),O.success===!0){(l=e==null?void 0:e.step)!=null&&l.run_all||($$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="success",toast),$$invalidate(2,toast.msg=O.msg,toast));for(const I in O==null?void 0:O.data){const U=(s=(r=O==null?void 0:O.data)==null?void 0:r[I])==null?void 0:s.runs_as;Object.prototype.hasOwnProperty.call(O==null?void 0:O.data,I)&&I!=="LOGS"&&U!=="LOGS"&&((o=(_=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:_.metadata)==null?void 0:o.runs_as)!=="LOGS"&&(etlx_data={...etlx_data,[I]:((c=(a=O==null?void 0:O.data)==null?void 0:a[I])==null?void 0:c.logs)||[]},I==="ETL"||U==="ETL"||(($=(u=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:u.metadata)==null?void 0:$.runs_as)==="ETL"?(f=etlx_data==null?void 0:etlx_data[I])==null||f.forEach(v=>{var M,C;v!=null&&v.rows&&(v!=null&&v.item_key)&&(v!=null&&v.key)&&change_db_data({section:U||((C=(M=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:M.metadata)==null?void 0:C.runs_as)||I,name:I,key:v==null?void 0:v.item_key,field:"num_rows",value:format_number((v==null?void 0:v.rows)||"0"," ",0,null)})}):I==="EXPORTS"||U==="EXPORTS"||((m=(b=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:b.metadata)==null?void 0:m.runs_as)==="EXPORTS"?(k=etlx_data==null?void 0:etlx_data[I])==null||k.forEach(v=>{var M,C;v!=null&&v.fname&&(v!=null&&v.item_key)&&(v!=null&&v.key)&&change_db_data({section:U||((C=(M=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:M.metadata)==null?void 0:C.runs_as)||I,name:I,key:v==null?void 0:v.item_key,field:"fname",value:v==null?void 0:v.fname})}):(I==="DATA_QUALITY"||U==="DATA_QUALITY"||((g=(w=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:w.metadata)==null?void 0:g.runs_as)==="DATA_QUALITY")&&((p=etlx_data==null?void 0:etlx_data[I])==null||p.forEach(v=>{var M,C,R,te;(v!=null&&v.nrows||v!=null&&v.n_rows||v!=null&&v.errors)&&(v!=null&&v.item_key)&&(v!=null&&v.key)&&change_db_data({section:U||((C=(M=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:M.metadata)==null?void 0:C.runs_as)||I,name:I,key:v==null?void 0:v.item_key,field:"num_erros_check",value:format_number((v==null?void 0:v.nrows)||(v==null?void 0:v.n_rows)||(v==null?void 0:v.errors)||"0"," ",0,null)}),v!=null&&v.nrows_fixed&&(v!=null&&v.item_key)&&(v!=null&&v.key)&&change_db_data({section:U||((te=(R=etlx_conf==null?void 0:etlx_conf[I])==null?void 0:R.metadata)==null?void 0:te.runs_as)||I,name:I,key:v==null?void 0:v.item_key,field:"num_erros_fix",value:format_number((v==null?void 0:v.nrows_fixed)||"0"," ",0,null)})})))}if(Array!=null&&Array.isArray(O==null?void 0:O.logs)){if(etlx_conf!=null&&etlx_conf.LOGS)etlx_data={...etlx_data,LOGS:[...O==null?void 0:O.logs,...(etlx_data==null?void 0:etlx_data.LOGS)||[]]};else for(const I in etlx_conf)if(Object.prototype.hasOwnProperty.call(etlx_conf,I)&&((S=(h=etlx_conf[I])==null?void 0:h.metadata)==null?void 0:S.runs_as)==="LOGS"){console.log(I),etlx_data={...etlx_data,[I]:[...O==null?void 0:O.logs,...(etlx_data==null?void 0:etlx_data[I])||[]]};break}}}else(D=e==null?void 0:e.step)!=null&&D.run_all||($$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=O.msg||O.toString(),toast))}catch(O){console.log(O,O==null?void 0:O.message),(P=e==null?void 0:e.step)!=null&&P.run_all||($$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=`${(N=e==null?void 0:e.step)==null?void 0:N.label}/${e==null?void 0:e.action}: ${O==null?void 0:O.message}`,toast))}return $$invalidate(4,loading=!1),change_db_data({section:((Q=e==null?void 0:e.step)==null?void 0:Q.section)||(e==null?void 0:e.section),name:((z=e==null?void 0:e.step)==null?void 0:z.name)||(e==null?void 0:e.name),key:e==null?void 0:e.key,field:"loading",value:!1}),null},btn_action=e=>{var c,u,$,f,b,m,k,w,g,p,h,S,D,P,N,Q,z,O,I,U,v,M,C,R,te,j,L,A,y,ee,V,H,J,W,K,Z,x;if(typeof(etlx_conf==null?void 0:etlx_conf.database)=="string"){if((c=etlx_conf==null?void 0:etlx_conf.database)!=null&&c.toString().match(/\{.*\}/))try{$$invalidate(0,etlx_conf.database=JSON.parse(etlx_conf.database),etlx_conf)}catch{}}let t=(e==null?void 0:e.action)||((u=e==null?void 0:e.field)==null?void 0:u.action);const n={[(e==null?void 0:e._name)||(e==null?void 0:e.section)]:{metadata:{...($=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:$.metadata,active:(m=(b=(f=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:f[e==null?void 0:e.key])==null?void 0:b.metadata)==null?void 0:m.active},[e==null?void 0:e.key]:(k=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:k[e==null?void 0:e.key]},__order:etlx_conf==null?void 0:etlx_conf.__order};if(etlx_conf!=null&&etlx_conf.LOGS)n.LOGS=etlx_conf==null?void 0:etlx_conf.LOGS;else for(const G in etlx_conf)if(Object.prototype.hasOwnProperty.call(etlx_conf,G)&&((g=(w=etlx_conf[G])==null?void 0:w.metadata)==null?void 0:g.runs_as)==="LOGS"){n[G]=etlx_conf[G];break}let i=hooks().subtract(1,"days").format("YYYY-MM-DD");(h=(p=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:p[e==null?void 0:e.key])!=null&&h.date_ref?i=(D=(S=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:S[e==null?void 0:e.key])==null?void 0:D.date_ref:(P=e==null?void 0:e.step)!=null&&P.date_ref?i=(N=e==null?void 0:e.step)==null?void 0:N.date_ref:(Q=e==null?void 0:e.step)!=null&&Q.dates_refs&&((O=(z=e==null?void 0:e.step)==null?void 0:z.dates_refs)==null?void 0:O.length)>0&&(i=(I=e==null?void 0:e.step)==null?void 0:I.dates_refs);let l=!1,r=!1,s=!1,_=[e==null?void 0:e.key],o=[],a=["extract","transform","load"];switch(((M=(v=(U=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:U[e==null?void 0:e.key])==null?void 0:v.metadata)==null?void 0:M.skip_extract)===!0&&(a=a.filter(G=>G!=="extract")),((te=(R=(C=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:C[e==null?void 0:e.key])==null?void 0:R.metadata)==null?void 0:te.skip_transform)===!0&&(a=a.filter(G=>G!=="transform")),((A=(L=(j=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:j[e==null?void 0:e.key])==null?void 0:L.metadata)==null?void 0:A.skip_load)===!0&&(a=a.filter(G=>G!=="load")),t){case"edit":break;case"copy":break;case"extract":run_action({step:e==null?void 0:e.step,section:e==null?void 0:e.section,_name:e==null?void 0:e._name,name:e==null?void 0:e.name,key:e==null?void 0:e.key,data:{conf:n,date_ref:i,clean:l,drop:r,rows:s,only:_,skip:o,steps:a}});break;case"n_rows":s=!0,run_action({step:e==null?void 0:e.step,section:e==null?void 0:e.section,_name:e==null?void 0:e._name,name:e==null?void 0:e.name,key:e==null?void 0:e.key,data:{conf:n,date_ref:i,clean:l,drop:r,rows:s,only:_,skip:o,steps:a}});break;case"explore_db":explore_db({step:e==null?void 0:e.step,section:e==null?void 0:e.section,_name:e==null?void 0:e._name,name:e==null?void 0:e.name,key:e==null?void 0:e.key,data:{conf:n,date_ref:i,clean:l,drop:r,rows:s,only:_,skip:o,steps:a}});break;case"data_reconcilia_preview":e.step.show_html=!e.step.show_html,a=[...a];break;case"details":break;case"err_details":let G=(y=e==null?void 0:e.data)==null?void 0:y.sql_quality_check,F=/,|;|\|/g,X=((V=(ee=e==null?void 0:e.data)==null?void 0:ee.tables)==null?void 0:V.split(F))||[],B=((J=(H=e==null?void 0:e.data)==null?void 0:H.fields)==null?void 0:J.split(F))||[];B.length>0?B=[...B.map(se=>({table:X==null?void 0:X[0],field:se}))]:B=[{table:X==null?void 0:X[0],field:"*"}],F=/COUNT\(\"?.+\"?\).+\"?.+\"?/g,G=G.replace(F,B.length>0?`"${B.map(ne=>ne==null?void 0:ne.field).join('", "')}"`:"*"),F=/\{.*?\}/g;const ie=G.match(F);ie&&ie.forEach(ne=>{var re,_e,ae,oe;const se=ne.replace(/\{|\}/g,""),ue=(oe=(ae=((re=e==null?void 0:e.step)==null?void 0:re.dates_refs)||[(_e=e==null?void 0:e.step)==null?void 0:_e.date_ref])==null?void 0:ae.map(T=>hooks(T).format(se)))==null?void 0:oe[0];G=G.replace(F,ue)});const ce={tables:[...X],selecetd_table:X==null?void 0:X[0],selected_table_fields:[],selected_tab:string_ellipsis((W=e==null?void 0:e.data)==null?void 0:W.etl_rbase_quality),selected_tab_2_prev:string_ellipsis((K=e==null?void 0:e.data)==null?void 0:K.etl_rbase_quality),tabs:{[string_ellipsis((Z=e==null?void 0:e.data)==null?void 0:Z.etl_rbase_quality)]:{label:(x=e==null?void 0:e.data)==null?void 0:x.etl_rbase_quality,fields:[...B],sql:G,show:!0,use:!0,limit:10,offset:0}}};explore_db({...e,manage_query_conf:ce,action:t,etlx_conf});break;case"delete":l=!0,del_dialog({step:e==null?void 0:e.step,section:e==null?void 0:e.section,_name:e==null?void 0:e._name,name:e==null?void 0:e.name,key:e==null?void 0:e.key,data:{conf:n,date_ref:i,clean:l,drop:r,rows:s,only:_,skip:o,steps:a}});break;case"edit_cnf":edit_cnf({step:e==null?void 0:e.step,section:e==null?void 0:e.section,_name:e==null?void 0:e._name,name:e==null?void 0:e.name,key:e==null?void 0:e.key,data:{conf:n,date_ref:i,clean:l,drop:r,rows:s,only:_,skip:o,steps:a}});break;default:run_action({step:e==null?void 0:e.step,section:e==null?void 0:e.section,_name:e==null?void 0:e._name,name:e==null?void 0:e.name,key:e==null?void 0:e.key,data:{conf:n,date_ref:i,clean:l,drop:r,rows:s,only:_,skip:o,steps:a}});break}},run_all=async e=>{const t={...etlx_conf};let n=hooks().subtract(1,"days").format("YYYY-MM-DD");run_action({...e,data:{conf:t,date_ref:n}})},set_conf=e=>{var t,n,i,l,r;try{$$invalidate(0,etlx_conf[((n=(t=e==null?void 0:e.extras)==null?void 0:t.step)==null?void 0:n._name)||((l=(i=e==null?void 0:e.extras)==null?void 0:i.step)==null?void 0:l.section)][(r=e==null?void 0:e.extras)==null?void 0:r.key]=e==null?void 0:e.json_object,etlx_conf)}catch(s){console.log(s==null?void 0:s.message)}dismiss_modal()},edit_cnf=async e=>{var t;try{let n=(t=etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e._name)||(e==null?void 0:e.section)])==null?void 0:t[e==null?void 0:e.key];try{}catch{return null}console.log(e,n),$$invalidate(4,loading=!0);const i=(await __vitePreload(async()=>{const{default:l}=await import("./EditConf-B2sqiuCT.js");return{default:l}},__vite__mapDeps([6,1,2,7,3]),import.meta.url)).default;$$invalidate(3,modal_data.actions=null,modal_data),$$invalidate(3,modal_data.header=!0,modal_data),$$invalidate(3,modal_data.component=i,modal_data),$$invalidate(3,modal_data.msg=null,modal_data),$$invalidate(3,modal_data.html_msg=null,modal_data),$$invalidate(3,modal_data.header_actions=[],modal_data),$$invalidate(3,modal_data.title=`${$i18n.t("crud.edit_cnf")}`,modal_data),$$invalidate(3,modal_data.data={json_object:n,extras:e},modal_data),$$invalidate(3,modal_data.actions=[{type:"btn",icon:"ban",name:"CANCEL",class:"btn-sm text-error",label:$i18n.t("crud.cancel"),action:dismiss_modal},{type:"btn",icon:"code",name:"JSON",class:"btn-sm text-warning",label:$i18n.t("crud.code")},{type:"btn",icon:"check",name:"SET",class:"btn-sm text-success",label:$i18n.t("crud.set"),action:set_conf}],modal_data),$$invalidate(3,modal_data.width=8,modal_data),$$invalidate(3,modal_data.heigth=null,modal_data),$$invalidate(3,modal_data.open=!0,modal_data),console.log({modal_data}),$$invalidate(4,loading=!1)}catch(n){$$invalidate(4,loading=!1),console.log(n.message),$$invalidate(2,toast.open=!0,toast),$$invalidate(2,toast.type="error",toast),$$invalidate(2,toast.msg=n.message,toast)}},del_dialog=e=>{var n;const t=$i18n.t("crud.del_etl_alert",{item:e==null?void 0:e.name,len:e==null?void 0:e.items,s:(e==null?void 0:e.items)>1?"s":"",name:(e==null?void 0:e.label)||((n=e==null?void 0:e.step)==null?void 0:n.name)});$$invalidate(3,modal_data.actions=null,modal_data),$$invalidate(3,modal_data.component=null,modal_data),$$invalidate(3,modal_data.msg=null,modal_data),$$invalidate(3,modal_data.html_msg=`<span class="m-2 text-lg">${t}</span>`,modal_data),$$invalidate(3,modal_data.open=!0,modal_data),$$invalidate(3,modal_data.header=!1,modal_data),$$invalidate(3,modal_data.data=e,modal_data),$$invalidate(3,modal_data.actions=[{type:"btn",icon:"ban",name:"NO",class:"btn-sm text-error",label:$i18n.t("crud.no"),action:dismiss_modal},{type:"btn",icon:"check",name:"YES",class:"btn-sm text-success",label:$i18n.t("crud.yes"),action:deletion_confirm}],modal_data),$$invalidate(3,modal_data.width=4,modal_data),$$invalidate(3,modal_data.heigth=null,modal_data)},deletion_confirm=e=>{var t;console.log("deletion_confirm:",e==null?void 0:e.data),dismiss_modal(),(t=e==null?void 0:e.data)!=null&&t.is_step?run_section(e):run_action(e==null?void 0:e.data)},run_section=async e=>{var i,l,r,s,_,o,a,c;const t={[(e==null?void 0:e.name)||(e==null?void 0:e.section)]:{...etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)]},__order:etlx_conf==null?void 0:etlx_conf.__order};if(etlx_conf!=null&&etlx_conf.LOGS)t.LOGS=etlx_conf==null?void 0:etlx_conf.LOGS;else for(const u in etlx_conf)if(Object.prototype.hasOwnProperty.call(etlx_conf,u)&&((l=(i=etlx_conf[u])==null?void 0:i.metadata)==null?void 0:l.runs_as)==="LOGS"){t[u]=etlx_conf[u];break}let n=hooks().subtract(1,"days").format("YYYY-MM-DD");(r=e==null?void 0:e.step)!=null&&r.date_ref?n=(s=e==null?void 0:e.step)==null?void 0:s.date_ref:(_=e==null?void 0:e.step)!=null&&_.dates_refs&&((a=(o=e==null?void 0:e.step)==null?void 0:o.dates_refs)==null?void 0:a.length)>0&&(n=(c=e==null?void 0:e.step)==null?void 0:c.dates_refs),run_action({payload:e,section:e==null?void 0:e.section,data:{conf:t,date_ref:n}})},_get_value=e=>{var t,n,i,l,r,s,_,o;if(((n=(t=e==null?void 0:e.field)==null?void 0:t.check_first)==null?void 0:n.length)>0)for(let a=0;a<((i=e==null?void 0:e.field)==null?void 0:i.check_first.length);a++){const c=(l=e==null?void 0:e.field)==null?void 0:l.check_first[a];if((r=e==null?void 0:e.d)!=null&&r[c])return(s=e==null?void 0:e.d)==null?void 0:s[c]}return(o=e==null?void 0:e.d)==null?void 0:o[(_=e==null?void 0:e.field)==null?void 0:_.name]},click_handler=e=>{$$invalidate(1,tab=e)};function input_input_handler(e,t){e[t].date_ref=this.value,$$invalidate(5,steps)}const change_handler=(e,t)=>{var n;set_entire_col_val({value:(n=t.target)==null?void 0:n.value,field:t.target.name,section:(e==null?void 0:e.name)||(e==null?void 0:e.section)})},click_handler_1=(e,t)=>{_set_all(e.date_ref)};function input_input_handler_1(e,t){e[t].filter=this.value,$$invalidate(5,steps)}const click_handler_2=e=>pick_dates(e),func=e=>hooks(e).format($i18n.t("fmrt.date")),func_1=e=>hooks(e).format($i18n.t("fmrt.date")),focus_handler=e=>pick_dates(e),click_handler_3=e=>run_section({...e,step:e,run_all_action:"delete",run_all:!0}),click_handler_4=e=>run_section({...e,step:e,run_all:!0}),click_handler_5=e=>{console.log("EXPORT STEP DATA","PDF","EXCEL",e)},click_handler_6=e=>explore_db(e);function input_change_handler(e,t,n){t[n][e==null?void 0:e.name]=this.checked,$$invalidate(5,steps)}const change_handler_1=(e,t,n)=>{var i;set_entire_col_val({value:(i=n.target)==null?void 0:i.checked,field:e==null?void 0:e.name,section:(t==null?void 0:t.name)||(t==null?void 0:t.section)})},click_handler_7=(e,t,n)=>{$$invalidate(7,t[n].show_html=!e.show_html,get_step_data,$$invalidate(5,steps),$$invalidate(0,etlx_conf))},change_handler_2=(e,t,n,i)=>{var l;return change_db_data({value:(l=i==null?void 0:i.target)==null?void 0:l.checked,field:e==null?void 0:e.name,section:t==null?void 0:t.section,name:t==null?void 0:t.name,key:n.level2,data:n,step:t})},change_handler_3=(e,t,n,i)=>{var l;return change_db_data({value:(l=i==null?void 0:i.target)==null?void 0:l.value,field:e==null?void 0:e.name,section:t==null?void 0:t.section,name:t==null?void 0:t.name,key:n.level2,data:n,step:t})},click_handler_8=(e,t,n)=>{var i,l;return btn_action({field:e,data:t,section:n==null?void 0:n.section,_name:n==null?void 0:n.name,key:t==null?void 0:t.level2,step:n,name:t[(l=(i=n==null?void 0:n.fields)==null?void 0:i[0])==null?void 0:l.name]})},change_handler_4=(e,t,n,i)=>{var l;return change_db_data({value:(l=i==null?void 0:i.target)==null?void 0:l.value,field:e==null?void 0:e.name,section:t==null?void 0:t.section,name:t==null?void 0:t.name,key:n.level2,data:n,step:t})},drop_handler=(e,t,n,i)=>{var l,r;drop_file_handler(i,{field:e==null?void 0:e.name,name:t==null?void 0:t.name,section:t==null?void 0:t.section,key:n==null?void 0:n.level2,data:n}),delete drag_start_class[`${e.name}_${n[(r=(l=t==null?void 0:t.fields)==null?void 0:l[0])==null?void 0:r.name]}`]},dragexit_handler=(e,t,n,i)=>{var l,r;delete drag_start_class[`${e.name}_${t[(r=(l=n==null?void 0:n.fields)==null?void 0:l[0])==null?void 0:r.name]}`]},dragend_handler=(e,t,n,i)=>{var l,r;delete drag_start_class[`${e.name}_${t[(r=(l=n==null?void 0:n.fields)==null?void 0:l[0])==null?void 0:r.name]}`]},dragleave_handler=(e,t,n,i)=>{var l,r;delete drag_start_class[`${e.name}_${t[(r=(l=n==null?void 0:n.fields)==null?void 0:l[0])==null?void 0:r.name]}`]},dragenter_handler=(e,t,n,i)=>{var l,r;console.log("DRAG ENTER DO THE STYLING"),$$invalidate(6,drag_start_class[`${e.name}_${t[(r=(l=n==null?void 0:n.fields)==null?void 0:l[0])==null?void 0:r.name]}`]="input-bordered border border-dashed border-gray-600",drag_start_class)},paste_handler=(e,t,n,i)=>{paste_file_handler(i,{field:e==null?void 0:e.name,name:t==null?void 0:t.name,section:t==null?void 0:t.section,key:n==null?void 0:n.level2,data:n})},click_handler_9=(e,t,n,i,l,r)=>select_file({field:e,id:`${t==null?void 0:t.section}-${e.name}-${n}-${(i==null?void 0:i.index)||l}-file`}),change_handler_5=(e,t,n,i)=>file_upload({event:i,data:{field:e==null?void 0:e.name,section:t==null?void 0:t.section,name:t==null?void 0:t.name,key:n.level2,data:n,step:t}}),change_handler_6=(e,t,n,i)=>{var l;return change_db_data({value:(l=i==null?void 0:i.target)==null?void 0:l.value,field:e==null?void 0:e.name,section:t==null?void 0:t.section,name:t==null?void 0:t.name,key:n.level2,data:n,step:t})},change_handler_7=(e,t,n,i)=>{var l;return change_db_data({value:(l=i==null?void 0:i.target)==null?void 0:l.value,field:e==null?void 0:e.name,section:t==null?void 0:t.section,name:t==null?void 0:t.name,key:n.level2,data:n,step:t})},pageChange_handler=(e,t,n)=>{var i;return handle_pagination({detail:n.detail,data:e,_index:t,_length:(i=get_step_data(e,etlx_conf==null?void 0:etlx_conf[(e==null?void 0:e.name)||(e==null?void 0:e.section)]))==null?void 0:i.length})},dismiss_handler=e=>{$$invalidate(2,toast.open=!1,toast)},dismiss_handler_1=e=>dismiss_modal(e.detail);return $$self.$$set=e=>{"table"in e&&$$invalidate(26,table=e.table),"data"in e&&$$invalidate(25,data=e.data),"option"in e&&$$invalidate(27,option=e.option),"action"in e&&$$invalidate(28,action=e.action)},$$self.$$.update=()=>{$$self.$$.dirty[0]&268435456&&((action==null?void 0:action.name)=="CANCEL"&&(action==null||action.action()),(action==null?void 0:action.name)=="SAVE"&&console.log(action),(action==null?void 0:action.name)=="REFRESH"&&get_conf(null),(action==null?void 0:action.name)=="RUN_ALL"&&run_all(null))},[etlx_conf,tab,toast,modal_data,loading,steps,drag_start_class,get_step_data,$i18n,$_global,dismiss_modal,handle_pagination,get_eval,pick_dates,explore_db,select_file,file_upload,drop_file_handler,paste_file_handler,set_entire_col_val,_set_all,change_db_data,btn_action,run_section,_get_value,data,table,option,action,click_handler,input_input_handler,change_handler,click_handler_1,input_input_handler_1,click_handler_2,func,func_1,focus_handler,click_handler_3,click_handler_4,click_handler_5,click_handler_6,input_change_handler,change_handler_1,click_handler_7,change_handler_2,change_handler_3,click_handler_8,change_handler_4,drop_handler,dragexit_handler,dragend_handler,dragleave_handler,dragenter_handler,paste_handler,click_handler_9,change_handler_5,change_handler_6,change_handler_7,pageChange_handler,dismiss_handler,dismiss_handler_1]}class ETLX extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{table:26,data:25,option:27,action:28},null,[-1,-1,-1,-1])}}export{ETLX as default};
