const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Crud-BtICLPxo.js","./index-BysdLT3L.js","./index-uB0_zdoO.css","./pt-BRCtfDCP.js","./Pagination-Cdv30_Fs.js","./Dialog-B96ECL-B.js","./AdminApps-wN9C9wK7.js","./Calendar-DDIjhZRH.js","./DBExplorer-mcf4PoOt.js","./DCJS-CM7EfNZt.js","./Dashboard-CXAiYvnn.js","./DataViz-BHACBUqy.js","./DataTable-xP2JbgD-.js","./EChartsEngine-RLLpDKWy.js","./index-Da4b5_QG.js","./ETLReportBase-D7DEoPhV.js","./ETLX-Dn0oQfGl.js","./EditConf-u3rKr_A7.js","./ObjectEditor-XFib57F0.js","./EditDashboardItem-jBjb9ooY.js","./EvidenceDash-Do054gdO.js","./EvidenceDash-d5owLGyg.css","./GaugeJS-DwZnK2uY.js","./ImportFields-BitnsBcr.js","./ManageDBTable-CBj5pOgj.js","./MiniStat-CAIKSb6v.js","./ObjectEditorGPT-iLKg-lzM.js","./ObjectEditorGPT-C8ph-MjK.css","./PickDates-Bzwpsuk2.js","./RowLevelAccess-DFnqrEha.js","./TranslateDBTable-CCznBaeY.js","./UserRowLevelAccess-BvRPiO_5.js"])))=>i.map(i=>d[i]);
import{S as Ce,i as Be,s as Se,T as Je,a as V,b as M,c as F,F as ke,d as E,g as S,h as P,m as U,o as g,p as j,q as T,r as G,u as J,v as K,y as oe,z as Ne,A as He,C as Me,Q as p,l as Y,U as je,J as Z,af as ae,e as Q,w as te,G as se,t as Ge,H as re,k as w,E as ee,n as qe,x as ze,a4 as _e,f as x,K as ue,N as Fe,I as De}from"./index-BysdLT3L.js";function fe(n,e,t){const a=n.slice();return a[37]=e[t],a[39]=t,a}function ce(n,e,t){const a=n.slice();return a[37]=e[t],a[40]=e,a[39]=t,a}function me(n,e,t){const a=n.slice();return a[41]=e[t],a}function de(n){let e,t,a,r,f=Q(n[3]),o=[];for(let i=0;i<f.length;i+=1)o[i]=ge(ce(n,f,i));const m=i=>T(o[i],1,1,()=>{o[i]=null});return{c(){e=V("div");for(let i=0;i<o.length;i+=1)o[i].c();t=M(),a=V("div"),a.innerHTML="<b></b>",E(a,"role","tab"),E(a,"class","tab text-md grow"),E(e,"role","tablist"),E(e,"class","tabs tabs-lifted w-full flex")},m(i,_){S(i,e,_);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null);P(e,t),P(e,a),r=!0},p(i,_){if(_[0]&124){f=Q(i[3]);let l;for(l=0;l<f.length;l+=1){const c=ce(i,f,l);o[l]?(o[l].p(c,_),g(o[l],1)):(o[l]=ge(c),o[l].c(),g(o[l],1),o[l].m(e,t))}for(j(),l=f.length;l<o.length;l+=1)m(l);G()}},i(i){if(!r){for(let _=0;_<f.length;_+=1)g(o[_]);r=!0}},o(i){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)T(o[_]);r=!1},d(i){i&&J(e),te(o,i)}}}function he(n){let e,t,a,r,f,o,m,i;r=new De({props:{type:"outline",icon:n[41].icon||"hashtag",path:"icons"}});function _(...l){return n[23](n[37],n[41],...l)}return{c(){e=V("div"),t=V("button"),a=V("span"),F(r.$$.fragment),E(a,"class","w-5 h-5"),E(t,"class","btn btn-sm btn-circle btn-ghost"),E(e,"class","tooltip tooltip-left"),E(e,"data-tip",f=n[5].t(`${n[41].label}`)),x(e,"display",n[2]===n[39]?null:"none")},m(l,c){S(l,e,c),P(e,t),P(t,a),U(r,a,null),o=!0,m||(i=w(t,"click",_),m=!0)},p(l,c){n=l;const y={};c[0]&8&&(y.icon=n[41].icon||"hashtag"),r.$set(y),(!o||c[0]&40&&f!==(f=n[5].t(`${n[41].label}`)))&&E(e,"data-tip",f),c[0]&4&&x(e,"display",n[2]===n[39]?null:"none")},i(l){o||(g(r.$$.fragment,l),o=!0)},o(l){T(r.$$.fragment,l),o=!1},d(l){l&&J(e),K(r),m=!1,i()}}}function be(n){let e,t,a,r,f,o,m,i;r=new De({props:{type:"outline",icon:"x",path:"icons"}});function _(...l){return n[24](n[39],...l)}return{c(){e=V("div"),t=V("button"),a=V("span"),F(r.$$.fragment),E(a,"class","w-5 h-5"),E(t,"class","btn btn-sm btn-circle btn-ghost"),E(e,"class","tooltip tooltip-left"),E(e,"data-tip",f=n[5].t("crud.close"))},m(l,c){S(l,e,c),P(e,t),P(t,a),U(r,a,null),o=!0,m||(i=w(t,"click",ee(_)),m=!0)},p(l,c){n=l,(!o||c[0]&32&&f!==(f=n[5].t("crud.close")))&&E(e,"data-tip",f)},i(l){o||(g(r.$$.fragment,l),o=!0)},o(l){T(r.$$.fragment,l),o=!1},d(l){l&&J(e),K(r),m=!1,i()}}}function ge(n){var q;let e,t,a=se(n[37].label,30)+"",r,f,o,m,i,_,l,c,y,R=Q(((q=n[37])==null?void 0:q.header_actions)||[]),u=[];for(let v=0;v<R.length;v+=1)u[v]=he(me(n,R,v));const h=v=>T(u[v],1,1,()=>{u[v]=null});let b=n[37].show_top_close&&be(n);function N(){return n[25](n[39])}function H(...v){return n[26](n[37],n[40],n[39],...v)}return{c(){e=V("div"),t=V("b"),r=Ge(a),f=M();for(let v=0;v<u.length;v+=1)u[v].c();o=M(),b&&b.c(),m=M(),E(t,"class","pr-2"),E(e,"role","tab"),E(e,"class",i="tab text-md "+(n[2]===n[39]?"tab-active active":"")+" flex flex-row"),E(e,"title",_=re(n[37].label,30))},m(v,k){S(v,e,k),P(e,t),P(t,r),P(e,f);for(let O=0;O<u.length;O+=1)u[O]&&u[O].m(e,null);P(e,o),b&&b.m(e,null),P(e,m),l=!0,c||(y=[w(e,"click",ee(N)),w(e,"contextmenu",ee(H))],c=!0)},p(v,k){var O;if(n=v,(!l||k[0]&8)&&a!==(a=se(n[37].label,30)+"")&&qe(r,a),k[0]&60){R=Q(((O=n[37])==null?void 0:O.header_actions)||[]);let L;for(L=0;L<R.length;L+=1){const C=me(n,R,L);u[L]?(u[L].p(C,k),g(u[L],1)):(u[L]=he(C),u[L].c(),g(u[L],1),u[L].m(e,o))}for(j(),L=R.length;L<u.length;L+=1)h(L);G()}n[37].show_top_close?b?(b.p(n,k),k[0]&8&&g(b,1)):(b=be(n),b.c(),g(b,1),b.m(e,m)):b&&(j(),T(b,1,1,()=>{b=null}),G()),(!l||k[0]&4&&i!==(i="tab text-md "+(n[2]===n[39]?"tab-active active":"")+" flex flex-row"))&&E(e,"class",i),(!l||k[0]&8&&_!==(_=re(n[37].label,30)))&&E(e,"title",_)},i(v){if(!l){for(let k=0;k<R.length;k+=1)g(u[k]);g(b),l=!0}},o(v){u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)T(u[k]);T(b),l=!1},d(v){v&&J(e),te(u,v),b&&b.d(),c=!1,ze(y)}}}function ve(n){let e,t,a=Q(n[3]),r=[];for(let o=0;o<a.length;o+=1)r[o]=pe(fe(n,a,o));const f=o=>T(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=ke()},m(o,m){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,m);S(o,e,m),t=!0},p(o,m){if(m[0]&28){a=Q(o[3]);let i;for(i=0;i<a.length;i+=1){const _=fe(o,a,i);r[i]?(r[i].p(_,m),g(r[i],1)):(r[i]=pe(_),r[i].c(),g(r[i],1),r[i].m(e.parentNode,e))}for(j(),i=a.length;i<r.length;i+=1)f(i);G()}},i(o){if(!t){for(let m=0;m<a.length;m+=1)g(r[m]);t=!0}},o(o){r=r.filter(Boolean);for(let m=0;m<r.length;m+=1)T(r[m]);t=!1},d(o){o&&J(e),te(r,o)}}}function pe(n){let e,t,a,r;const f=[{...n[37].data,n_tabs:n[3].length},{action:n[4][n[37].label]}];var o=n[37].component;function m(i,_){let l={};for(let c=0;c<f.length;c+=1)l=Z(l,f[c]);return _!==void 0&&_[0]&24&&(l=Z(l,ue(f,[_[0]&8&&{...i[37].data,n_tabs:i[3].length},{action:i[4][i[37].label]}]))),{props:l}}return o&&(t=_e(o,m(n))),{c(){e=V("div"),t&&F(t.$$.fragment),a=M(),E(e,"class","w-full"),x(e,"display",n[2]===n[39]?null:"none")},m(i,_){S(i,e,_),t&&U(t,e,null),P(e,a),r=!0},p(i,_){if(_[0]&8&&o!==(o=i[37].component)){if(t){j();const l=t;T(l.$$.fragment,1,0,()=>{K(l,1)}),G()}o?(t=_e(o,m(i,_)),F(t.$$.fragment),g(t.$$.fragment,1),U(t,e,a)):t=null}else if(o){const l=_[0]&24?ue(f,[_[0]&8&&{...i[37].data,n_tabs:i[3].length},{action:i[4][i[37].label]}]):{};t.$set(l)}(!r||_[0]&4)&&x(e,"display",i[2]===i[39]?null:"none")},i(i){r||(t&&g(t.$$.fragment,i),r=!0)},o(i){t&&T(t.$$.fragment,i),r=!1},d(i){i&&J(e),t&&K(t)}}}function Ee(n){let e,t;return e=new Fe({props:{open:n[1]}}),{c(){F(e.$$.fragment)},m(a,r){U(e,a,r),t=!0},p(a,r){const f={};r[0]&2&&(f.open=a[1]),e.$set(f)},i(a){t||(g(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){K(e,a)}}}function Ue(n){var y,R;let e,t,a,r,f,o,m,i,_=((y=n[3])==null?void 0:y.length)>1&&de(n),l=((R=n[3])==null?void 0:R.length)>0&&ve(n);f=new Je({props:{open:n[0].open,type:n[0].type,msg:n[0].msg,timer:2e4}}),f.$on("dismiss",n[27]);let c=n[1]&&Ee(n);return{c(){e=V("div"),_&&_.c(),t=M(),a=V("div"),l&&l.c(),r=M(),F(f.$$.fragment),o=M(),c&&c.c(),m=ke(),E(a,"class","w-full grow overflow-x-hidden overflow-y-auto"),E(e,"class","p-0 overflow-hidden flex flex-col")},m(u,h){S(u,e,h),_&&_.m(e,null),P(e,t),P(e,a),l&&l.m(a,null),S(u,r,h),U(f,u,h),S(u,o,h),c&&c.m(u,h),S(u,m,h),i=!0},p(u,h){var N,H;((N=u[3])==null?void 0:N.length)>1?_?(_.p(u,h),h[0]&8&&g(_,1)):(_=de(u),_.c(),g(_,1),_.m(e,t)):_&&(j(),T(_,1,1,()=>{_=null}),G()),((H=u[3])==null?void 0:H.length)>0?l?(l.p(u,h),h[0]&8&&g(l,1)):(l=ve(u),l.c(),g(l,1),l.m(a,null)):l&&(j(),T(l,1,1,()=>{l=null}),G());const b={};h[0]&1&&(b.open=u[0].open),h[0]&1&&(b.type=u[0].type),h[0]&1&&(b.msg=u[0].msg),f.$set(b),u[1]?c?(c.p(u,h),h[0]&2&&g(c,1)):(c=Ee(u),c.c(),g(c,1),c.m(m.parentNode,m)):c&&(j(),T(c,1,1,()=>{c=null}),G())},i(u){i||(g(_),g(l),g(f.$$.fragment,u),g(c),i=!0)},o(u){T(_),T(l),T(f.$$.fragment,u),T(c),i=!1},d(u){u&&(J(e),J(r),J(o),J(m)),_&&_.d(),l&&l.d(),K(f,u),c&&c.d(u)}}}function Ke(n,e,t){let a,r;oe(n,Ne,s=>t(31,a=s)),oe(n,He,s=>t(5,r=s));let{table:f}=e,{data:o={}}=e,{menu:m={}}=e,{is_fk:i=!1}=e,{main_pk_id:_=null}=e,{main_table:l=null}=e,{label:c=null}=e,{limit:y=10}=e,{is_subform:R=!1}=e,{is_submenu:u=!1}=e,{actions:h={}}=e,{has_actions:b=!0}=e,{has_numbering:N=!1}=e,{has_check:H=!0}=e,{opts:q=null}=e,{populate_subform:v=null}=e,k,O={open:!1,msg:null,type:null},L=!1,C,D=[],X={},B=null;const Te=s=>{var A;try{const d=D.map((I,W)=>(I.index=W,I)).filter(I=>I.label===s.label);try{delete X[s.label]}catch{}if(d.length>0&&s.data){try{$((A=d[0])==null?void 0:A.index)}catch(I){console.log(I.message)}setTimeout(()=>{t(3,D=[...D,Y.cloneDeep(s)]),t(2,C=D.length-1)},10)}else t(3,D=[...D,Y.cloneDeep(s)]),t(2,C=D.length-1);console.log(D,C)}catch(d){console.log(d.message)}},$=s=>{try{if(D.length>1){try{delete X[D[s].label]}catch{}D.splice(s,1),t(3,D=[...D]),t(2,C=0)}console.log({payload:s},D)}catch(A){console.log(A.message)}},le=s=>{var d,I;const A=`${((I=(d=a==null?void 0:a.tables)==null?void 0:d[s])==null?void 0:I.comment)||s}`;t(3,D=[{component:k,label:A,data:{label:A||c,table:s,has_actions:b,has_check:H,has_numbering:N,aux_data:o,menu:m,is_fk:i,main_pk_id:_,is_subform:R,is_submenu:u,main_table:l,limit:y,populate_subform:v,actions:{show_in_tabs:Te,dismiss_modal:h==null?void 0:h.dismiss_modal,fk_table_item_selected:h==null?void 0:h.fk_table_item_selected},intercepted:B==null?void 0:B[0],opts:q}}]),t(2,C=0),console.log(C,D)};let z=[];const Le=s=>{var A,d,I,W,ne,ie;if((I=(d=(A=a==null?void 0:a.tables)==null?void 0:A[s])==null?void 0:d.custom_table)!=null&&I.config)try{return JSON.parse((ie=(ne=(W=a==null?void 0:a.tables)==null?void 0:W[s])==null?void 0:ne.custom_table)==null?void 0:ie.config)}catch(ye){return console.log(ye.message),{}}};Me(async()=>{r.changeLanguage(a==null?void 0:a.lang),(async()=>{var A;t(1,L=!0),k=(await p(async()=>{const{default:d}=await import("./Crud-BtICLPxo.js");return{default:d}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)).default;let s=Le(f);if(z=Y.cloneDeep((s==null?void 0:s.extra_options)||[]),z.forEach(d=>{try{typeof(d==null?void 0:d.data)=="string"&&(d.data=JSON.parse(d==null?void 0:d.data))}catch(I){console.log(I.message)}}),B=z==null?void 0:z.filter(d=>d==null?void 0:d.intercept_r),console.log({table:f,extra_options:z,_is_intercepted:B}),(B==null?void 0:B.length)>0)try{k=(await je(Object.assign({"../dyn/AdminApps.svelte":()=>p(()=>import("./AdminApps-wN9C9wK7.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url),"../dyn/Calendar.svelte":()=>p(()=>import("./Calendar-DDIjhZRH.js"),__vite__mapDeps([7,1,2,3,5]),import.meta.url),"../dyn/DBExplorer.svelte":()=>p(()=>import("./DBExplorer-mcf4PoOt.js"),__vite__mapDeps([8,1,2,3,4]),import.meta.url),"../dyn/DCJS.svelte":()=>p(()=>import("./DCJS-CM7EfNZt.js"),__vite__mapDeps([9,1,2,3]),import.meta.url),"../dyn/Dashboard.svelte":()=>p(()=>import("./Dashboard-CXAiYvnn.js"),__vite__mapDeps([10,1,2,3,11]),import.meta.url),"../dyn/DataTable.svelte":()=>p(()=>import("./DataTable-xP2JbgD-.js"),__vite__mapDeps([12,1,2,3]),import.meta.url),"../dyn/DataViz.svelte":()=>p(()=>import("./DataViz-BHACBUqy.js"),__vite__mapDeps([11,1,2]),import.meta.url),"../dyn/EChartsEngine.svelte":()=>p(()=>import("./EChartsEngine-RLLpDKWy.js"),__vite__mapDeps([13,1,2,3,14]),import.meta.url),"../dyn/ETLReportBase.svelte":()=>p(()=>import("./ETLReportBase-D7DEoPhV.js"),__vite__mapDeps([15,1,2,3,4]),import.meta.url),"../dyn/ETLX.svelte":()=>p(()=>import("./ETLX-Dn0oQfGl.js"),__vite__mapDeps([16,1,2,3,4]),import.meta.url),"../dyn/EditConf.svelte":()=>p(()=>import("./EditConf-u3rKr_A7.js"),__vite__mapDeps([17,1,2,18,3]),import.meta.url),"../dyn/EditDashboardItem.svelte":()=>p(()=>import("./EditDashboardItem-jBjb9ooY.js"),__vite__mapDeps([19,1,2,3,18]),import.meta.url),"../dyn/EvidenceDash.svelte":()=>p(()=>import("./EvidenceDash-Do054gdO.js").then(d=>d.r),__vite__mapDeps([20,1,2,3,14,21]),import.meta.url),"../dyn/GaugeJS.svelte":()=>p(()=>import("./GaugeJS-DwZnK2uY.js"),__vite__mapDeps([22,1,2,3]),import.meta.url),"../dyn/ImportFields.svelte":()=>p(()=>import("./ImportFields-BitnsBcr.js"),__vite__mapDeps([23,1,2,3,4]),import.meta.url),"../dyn/ManageDBTable.svelte":()=>p(()=>import("./ManageDBTable-CBj5pOgj.js"),__vite__mapDeps([24,1,2,3,4]),import.meta.url),"../dyn/MiniStat.svelte":()=>p(()=>import("./MiniStat-CAIKSb6v.js"),__vite__mapDeps([25,1,2,3]),import.meta.url),"../dyn/ObjectEditor.svelte":()=>p(()=>import("./ObjectEditor-XFib57F0.js"),__vite__mapDeps([18,1,2]),import.meta.url),"../dyn/ObjectEditorGPT.svelte":()=>p(()=>import("./ObjectEditorGPT-iLKg-lzM.js"),__vite__mapDeps([26,1,2,27]),import.meta.url),"../dyn/PickDates.svelte":()=>p(()=>import("./PickDates-Bzwpsuk2.js"),__vite__mapDeps([28,1,2,3]),import.meta.url),"../dyn/RowLevelAccess.svelte":()=>p(()=>import("./RowLevelAccess-DFnqrEha.js"),__vite__mapDeps([29,1,2,3,4]),import.meta.url),"../dyn/TranslateDBTable.svelte":()=>p(()=>import("./TranslateDBTable-CCznBaeY.js"),__vite__mapDeps([30,1,2,3,4]),import.meta.url),"../dyn/UserRowLevelAccess.svelte":()=>p(()=>import("./UserRowLevelAccess-BvRPiO_5.js"),__vite__mapDeps([31,1,2,3,4]),import.meta.url)}),`../dyn/${(A=B==null?void 0:B[0])==null?void 0:A.component}.svelte`,3)).default}catch(d){t(0,O.msg=d==null?void 0:d.message,O),t(0,O.type="danger",O),t(0,O.open=!0,O)}le(f),t(1,L=!1)})()});const Ae=s=>{(D==null?void 0:D.length)<=1&&le(s)},Ie=(s,A,d)=>{try{t(4,X={...X,[s.label]:Y.cloneDeep(A)})}catch(I){console.log(I.message)}},Oe=(s,A)=>$(s),Re=s=>{t(2,C=s)},Pe=(s,A,d,I)=>{t(3,A[d].context_menu=!1,D)},Ve=s=>{t(0,O.open=!1,O)};return n.$$set=s=>{t(36,e=Z(Z({},e),ae(s))),"table"in s&&t(7,f=s.table),"data"in s&&t(8,o=s.data),"menu"in s&&t(9,m=s.menu),"is_fk"in s&&t(10,i=s.is_fk),"main_pk_id"in s&&t(11,_=s.main_pk_id),"main_table"in s&&t(12,l=s.main_table),"label"in s&&t(13,c=s.label),"limit"in s&&t(14,y=s.limit),"is_subform"in s&&t(15,R=s.is_subform),"is_submenu"in s&&t(16,u=s.is_submenu),"actions"in s&&t(17,h=s.actions),"has_actions"in s&&t(18,b=s.has_actions),"has_numbering"in s&&t(19,N=s.has_numbering),"has_check"in s&&t(20,H=s.has_check),"opts"in s&&t(21,q=s.opts),"populate_subform"in s&&t(22,v=s.populate_subform)},n.$$.update=()=>{Ae(e==null?void 0:e.table)},e=ae(e),[O,L,C,D,X,r,$,f,o,m,i,_,l,c,y,R,u,h,b,N,H,q,v,Ie,Oe,Re,Pe,Ve]}class Xe extends Ce{constructor(e){super(),Be(this,e,Ke,Ue,Se,{table:7,data:8,menu:9,is_fk:10,main_pk_id:11,main_table:12,label:13,limit:14,is_subform:15,is_submenu:16,actions:17,has_actions:18,has_numbering:19,has_check:20,opts:21,populate_subform:22},null,[-1,-1])}}export{Xe as default};
