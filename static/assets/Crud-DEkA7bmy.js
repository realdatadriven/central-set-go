const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableCustomization-CozvkMK8.js","./index-e7pn43aD.js","./index-C05jt-3d.css","./pt-D4E-OZuv.js","./Pagination-CqxQbQBp.js","./GlobalForm-Bc29ldck.js","./ObjectEditor-CII2MLKg.js","./AdvancedSearch-D9oZmShc.js","./Export-GpDrdwQe.js","./Import-CH3P2dFa.js","./CrudHandler-7W4IdyLN.js","./AdminApps-By6A6Aha.js","./Calendar-BRrlDVkW.js","./Dialog-Bn1sEgSo.js","./DBExplorer-CBSsb0E7.js","./DCJS-BTDeSRAF.js","./Dashboard-K79qaTtq.js","./DataViz-y2-KD00Y.js","./DataTable-BCprVXTc.js","./EChartsEngine-fbbz1Ezy.js","./index-Da4b5_QG.js","./ETLReportBase-DjrGu8sR.js","./ETLX-DaBrYgVm.js","./EditConf-CHy3zxxk.js","./EditDashboardItem-GmI9Gr1O.js","./EvidenceDash-C7wLTucd.js","./EvidenceDash-V-dQB2v8.css","./GaugeJS-DQwSV7DP.js","./ImportFields-D0E1uzTt.js","./ManageDBTable-Cq1BVVFn.js","./MiniStat-B5qO05o8.js","./ObjectEditorGPT-l1uIl9SO.js","./ObjectEditorGPT-C8ph-MjK.css","./PickDates-NDES-7LM.js","./RowLevelAccess-Dc8b8cbh.js","./TranslateDBTable-C89NqW8o.js","./UserRowLevelAccess-Tg2fQYyJ.js"])))=>i.map(i=>d[i]);
import{S as hn,i as bn,s as pn,I as Ee,e as p,a as H,c as ae,t as Se,b as m,d as S,f as h,m as me,l as re,g as v,h as Oe,j as C,k as Le,n as Be,o as B,p as de,q as el,_ as fl,r as gn,u as kn,v as Ce,w as dt,x as wt,y as ge,z as at,A as mt,T as Ln,B as Gt,C as cl,D as xt,E as al,F as Tn,G as ul,H as ol,J as wn,M as An,K as En,L as vn,N as Rn,O as Pn,P as In,Q,R as Vn,U as ml,V as _l,W as Cn,X as Nn,Y as dl,Z as hl,$ as bl}from"./index-e7pn43aD.js";import"./pt-D4E-OZuv.js";import{P as Mn}from"./Pagination-CqxQbQBp.js";import{D as jn}from"./Dialog-Bn1sEgSo.js";function pl(l,n,e){const i=l.slice();return i[17]=n[e],i}function gl(l,n,e){const i=l.slice();return i[20]=n[e],i}function kl(l){let n,e,i,t,_,o=l[12].t("crud.clone")+"",u,r,c,f;return t=new Ee({props:{type:"outline",icon:"duplicate",path:"icons"}}),{c(){n=p("li"),e=p("a"),i=p("span"),ae(t.$$.fragment),_=H(),u=Se(o),m(i,"class","w-5 h-5")},m(d,b){S(d,n,b),h(n,e),h(e,i),me(t,i,null),h(e,_),h(e,u),r=!0,c||(f=re(e,"click",l[13]),c=!0)},p(d,b){(!r||b&4096)&&o!==(o=d[12].t("crud.clone")+"")&&Be(u,o)},i(d){r||(v(t.$$.fragment,d),r=!0)},o(d){C(t.$$.fragment,d),r=!1},d(d){d&&B(n),de(t),c=!1,f()}}}function wl(l){let n,e,i=Ce(l[2]),t=[];for(let o=0;o<i.length;o+=1)t[o]=El(gl(l,i,o));const _=o=>C(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=dt()},m(o,u){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(o,u);S(o,n,u),e=!0},p(o,u){if(u&4119){i=Ce(o[2]);let r;for(r=0;r<i.length;r+=1){const c=gl(o,i,r);t[r]?(t[r].p(c,u),v(t[r],1)):(t[r]=El(c),t[r].c(),v(t[r],1),t[r].m(n.parentNode,n))}for(Oe(),r=i.length;r<t.length;r+=1)_(r);Le()}},i(o){if(!e){for(let u=0;u<i.length;u+=1)v(t[u]);e=!0}},o(o){t=t.filter(Boolean);for(let u=0;u<t.length;u+=1)C(t[u]);e=!1},d(o){o&&B(n),wt(t,o)}}}function zn(l){let n,e,i,t,_,o=at(l[12].t(`crud.${l[20].label}`),30)+"",u,r,c,f,d,b;t=new Ee({props:{type:"outline",icon:l[20].icon||"table",path:"icons"}});function E(){return l[14](l[20])}return{c(){n=p("li"),e=p("a"),i=p("span"),ae(t.$$.fragment),_=H(),u=Se(o),r=H(),m(i,"class","w-5 h-5"),m(n,"title",c=mt(l[12].t(`crud.${l[20].label}`),30))},m(O,I){S(O,n,I),h(n,e),h(e,i),me(t,i,null),h(e,_),h(e,u),h(n,r),f=!0,d||(b=re(e,"click",E),d=!0)},p(O,I){l=O;const w={};I&4&&(w.icon=l[20].icon||"table"),t.$set(w),(!f||I&4100)&&o!==(o=at(l[12].t(`crud.${l[20].label}`),30)+"")&&Be(u,o),(!f||I&4100&&c!==(c=mt(l[12].t(`crud.${l[20].label}`),30)))&&m(n,"title",c)},i(O){f||(v(t.$$.fragment,O),f=!0)},o(O){C(t.$$.fragment,O),f=!1},d(O){O&&B(n),de(t),d=!1,b()}}}function El(l){let n,e,i=zn(l);return{c(){i.c(),n=dt()},m(t,_){i.m(t,_),S(t,n,_),e=!0},p(t,_){i.p(t,_)},i(t){e||(v(i),e=!0)},o(t){C(i),e=!1},d(t){t&&B(n),i.d(t)}}}function vl(l){let n,e,i=Ce(l[3]),t=[];for(let o=0;o<i.length;o+=1)t[o]=Ol(pl(l,i,o));const _=o=>C(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=dt()},m(o,u){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(o,u);S(o,n,u),e=!0},p(o,u){if(u&2923){i=Ce(o[3]);let r;for(r=0;r<i.length;r+=1){const c=pl(o,i,r);t[r]?(t[r].p(c,u),v(t[r],1)):(t[r]=Ol(c),t[r].c(),v(t[r],1),t[r].m(n.parentNode,n))}for(Oe(),r=i.length;r<t.length;r+=1)_(r);Le()}},i(o){if(!e){for(let u=0;u<i.length;u+=1)v(t[u]);e=!0}},o(o){t=t.filter(Boolean);for(let u=0;u<t.length;u+=1)C(t[u]);e=!1},d(o){o&&B(n),wt(t,o)}}}function Dl(l){var O,I,w,T;let n,e,i,t,_,o=at((T=(w=(O=l[11])==null?void 0:O.tables)==null?void 0:w[(I=l[17])==null?void 0:I.table])==null?void 0:T.comment,30)+"",u,r,c,f,d,b;t=new Ee({props:{type:"outline",icon:"table",path:"icons"}});function E(){return l[15](l[17])}return{c(){var A,P,R,G;n=p("li"),e=p("a"),i=p("span"),ae(t.$$.fragment),_=H(),u=Se(o),r=H(),m(i,"class","w-5 h-5"),m(n,"title",c=mt((G=(R=(A=l[11])==null?void 0:A.tables)==null?void 0:R[(P=l[17])==null?void 0:P.table])==null?void 0:G.comment,30))},m(A,P){S(A,n,P),h(n,e),h(e,i),me(t,i,null),h(e,_),h(e,u),h(n,r),f=!0,d||(b=re(e,"click",E),d=!0)},p(A,P){var R,G,W,q,le,k,Z,g;l=A,(!f||P&2056)&&o!==(o=at((q=(W=(R=l[11])==null?void 0:R.tables)==null?void 0:W[(G=l[17])==null?void 0:G.table])==null?void 0:q.comment,30)+"")&&Be(u,o),(!f||P&2056&&c!==(c=mt((g=(Z=(le=l[11])==null?void 0:le.tables)==null?void 0:Z[(k=l[17])==null?void 0:k.table])==null?void 0:g.comment,30)))&&m(n,"title",c)},i(A){f||(v(t.$$.fragment,A),f=!0)},o(A){C(t.$$.fragment,A),f=!1},d(A){A&&B(n),de(t),d=!1,b()}}}function Ol(l){var _,o,u,r,c;let n=l[5](l[8],(_=l[17])==null?void 0:_.table)&&l[9]((o=l[11])==null?void 0:o.user,(c=(r=(u=l[11])==null?void 0:u.tables)==null?void 0:r[l[0]])==null?void 0:c.permissions,"read"),e,i,t=n&&Dl(l);return{c(){t&&t.c(),e=dt()},m(f,d){t&&t.m(f,d),S(f,e,d),i=!0},p(f,d){var b,E,O,I,w;d&2857&&(n=f[5](f[8],(b=f[17])==null?void 0:b.table)&&f[9]((E=f[11])==null?void 0:E.user,(w=(I=(O=f[11])==null?void 0:O.tables)==null?void 0:I[f[0]])==null?void 0:w.permissions,"read")),n?t?(t.p(f,d),d&2857&&v(t,1)):(t=Dl(f),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(Oe(),C(t,1,1,()=>{t=null}),Le())},i(f){i||(v(t),i=!0)},o(f){C(t),i=!1},d(f){f&&B(e),t&&t.d(f)}}}function Sn(l){var P,R,G,W,q,le;let n,e=l[9]((P=l[11])==null?void 0:P.user,(W=(G=(R=l[11])==null?void 0:R.tables)==null?void 0:G[l[0]])==null?void 0:W.permissions,"create"),i,t,_,o,u,r,c,f,d=l[12].t("crud.close")+"",b,E,O,I,w=e&&kl(l),T=((q=l[2])==null?void 0:q.length)>0&&wl(l),A=((le=l[3])==null?void 0:le.length)>0&&vl(l);return c=new Ee({props:{type:"outline",icon:"ban",path:"icons"}}),{c(){n=p("ul"),w&&w.c(),i=H(),T&&T.c(),t=H(),A&&A.c(),_=H(),o=p("li"),u=p("a"),r=p("span"),ae(c.$$.fragment),f=H(),b=Se(d),m(r,"class","w-5 h-5"),m(n,"tabindex","0"),m(n,"class","mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-full z-[1]")},m(k,Z){S(k,n,Z),w&&w.m(n,null),h(n,i),T&&T.m(n,null),h(n,t),A&&A.m(n,null),h(n,_),h(n,o),h(o,u),h(u,r),me(c,r,null),h(u,f),h(u,b),E=!0,O||(I=re(u,"click",l[16]),O=!0)},p(k,[Z]){var g,Te,X,$,V,j;Z&2561&&(e=k[9]((g=k[11])==null?void 0:g.user,($=(X=(Te=k[11])==null?void 0:Te.tables)==null?void 0:X[k[0]])==null?void 0:$.permissions,"create")),e?w?(w.p(k,Z),Z&2561&&v(w,1)):(w=kl(k),w.c(),v(w,1),w.m(n,i)):w&&(Oe(),C(w,1,1,()=>{w=null}),Le()),((V=k[2])==null?void 0:V.length)>0?T?(T.p(k,Z),Z&4&&v(T,1)):(T=wl(k),T.c(),v(T,1),T.m(n,t)):T&&(Oe(),C(T,1,1,()=>{T=null}),Le()),((j=k[3])==null?void 0:j.length)>0?A?(A.p(k,Z),Z&8&&v(A,1)):(A=vl(k),A.c(),v(A,1),A.m(n,_)):A&&(Oe(),C(A,1,1,()=>{A=null}),Le()),(!E||Z&4096)&&d!==(d=k[12].t("crud.close")+"")&&Be(b,d)},i(k){E||(v(w),v(T),v(A),v(c.$$.fragment,k),E=!0)},o(k){C(w),C(T),C(A),C(c.$$.fragment,k),E=!1},d(k){k&&B(n),w&&w.d(),T&&T.d(),A&&A.d(),de(c),O=!1,I()}}}function Bn(l,n,e){let i,t;el(l,fl,R=>e(11,i=R)),el(l,gn,R=>e(12,t=R));let{table:_}=n,{data:o}=n,{extra_options:u=[]}=n,{submenu_candidates:r=[]}=n,{e_options:c}=n,{display_in_submenu:f}=n,{submenu:d}=n,{get_form:b}=n,{custom_table_config:E}=n,{has_permissions:O}=n,{dismiss_modal:I}=n;kn(()=>{console.log({table:_,data:o})});const w=()=>{var R,G;O(i==null?void 0:i.user,(G=(R=i==null?void 0:i.tables)==null?void 0:R[_])==null?void 0:G.permissions,"create")?b({table:_,data:o,clone:!0,closeModal:!0}):I()},T=R=>{c({table:_,e:ge.cloneDeep(R),data:ge.cloneDeep(o),closeModal:!0})},A=R=>{d({table:R==null?void 0:R.table,aux:ge.cloneDeep(R),data:ge.cloneDeep(o),closeModal:!0})},P=()=>I();return l.$$set=R=>{"table"in R&&e(0,_=R.table),"data"in R&&e(1,o=R.data),"extra_options"in R&&e(2,u=R.extra_options),"submenu_candidates"in R&&e(3,r=R.submenu_candidates),"e_options"in R&&e(4,c=R.e_options),"display_in_submenu"in R&&e(5,f=R.display_in_submenu),"submenu"in R&&e(6,d=R.submenu),"get_form"in R&&e(7,b=R.get_form),"custom_table_config"in R&&e(8,E=R.custom_table_config),"has_permissions"in R&&e(9,O=R.has_permissions),"dismiss_modal"in R&&e(10,I=R.dismiss_modal)},[_,o,u,r,c,f,d,b,E,O,I,i,t,w,T,A,P]}class Hn extends hn{constructor(n){super(),bn(this,n,Bn,Sn,pn,{table:0,data:1,extra_options:2,submenu_candidates:3,e_options:4,display_in_submenu:5,submenu:6,get_form:7,custom_table_config:8,has_permissions:9,dismiss_modal:10})}}function Ll(l,n,e){const i=l.slice();return i[120]=n[e],i[121]=n,i[122]=e,i}function Tl(l,n,e){const i=l.slice();return i[123]=n[e],i}function Al(l,n,e){const i=l.slice();return i[117]=n[e],i[119]=e,i}function Rl(l,n,e){const i=l.slice();return i[114]=n[e],i}function Pl(l,n,e){const i=l.slice();return i[117]=n[e],i[119]=e,i}function Il(l,n,e){const i=l.slice();return i[123]=n[e],i}function Vl(l,n,e){const i=l.slice();return i[117]=n[e],i[119]=e,i}function Cl(l,n,e){const i=l.slice();return i[130]=n[e],i}function Nl(l,n,e){const i=l.slice();return i[123]=n[e],i}function Ml(l,n,e){const i=l.slice();return i[123]=n[e],i}function jl(l,n,e){const i=l.slice();return i[123]=n[e],i}function zl(l){let n,e,i,t,_,o,u,r,c,f,d,b,E,O,I=l[26].t("crud.open_in_pop_up")+"",w,T,A,P,R,G,W,q=l[26].t("crud.open_in_tab")+"",le,k,Z,g,Te;return t=new Ee({props:{type:"outline",icon:"plus",path:"icons"}}),E=new Ee({props:{type:"outline",icon:"plus",path:"icons"}}),G=new Ee({props:{type:"outline",icon:"plus",path:"icons"}}),{c(){var X,$,V,j;n=p("div"),e=p("button"),i=p("span"),ae(t.$$.fragment),u=H(),r=p("div"),c=p("ul"),f=p("li"),d=p("a"),b=p("span"),ae(E.$$.fragment),O=H(),w=Se(I),T=H(),A=p("li"),P=p("a"),R=p("span"),ae(G.$$.fragment),W=H(),le=Se(q),m(i,"class","w-6"),m(e,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),e.disabled=_=!l[46]((X=l[25])==null?void 0:X.user,(j=(V=($=l[25])==null?void 0:$.tables)==null?void 0:V[l[3]])==null?void 0:j.permissions,"create"),m(n,"class","tooltip tooltip-left"),m(n,"data-tip",o=l[26].t("crud.add")),m(b,"class","w-4 h-4"),m(f,"class","w-full"),m(R,"class","w-4 h-4"),m(A,"class","w-full"),m(c,"tabindex","0"),m(c,"class","dropdown-content menu p-1 shadow bg-base-100 menu-compact rounded-box w-44 z-[1] --w-auto max-w-52"),m(r,"class",k="dropdown "+(l[14].add===!0?"dropdown-open":"")+" dropdown-end")},m(X,$){S(X,n,$),h(n,e),h(e,i),me(t,i,null),S(X,u,$),S(X,r,$),h(r,c),h(c,f),h(f,d),h(d,b),me(E,b,null),h(d,O),h(d,w),h(c,T),h(c,A),h(A,P),h(P,R),me(G,R,null),h(P,W),h(P,le),Z=!0,g||(Te=[re(e,"click",l[59]),re(e,"contextmenu",ol(l[60])),re(d,"click",l[61]),re(P,"click",l[62])],g=!0)},p(X,$){var V,j,a,U;(!Z||$[0]&33554440&&_!==(_=!X[46]((V=X[25])==null?void 0:V.user,(U=(a=(j=X[25])==null?void 0:j.tables)==null?void 0:a[X[3]])==null?void 0:U.permissions,"create")))&&(e.disabled=_),(!Z||$[0]&67108864&&o!==(o=X[26].t("crud.add")))&&m(n,"data-tip",o),(!Z||$[0]&67108864)&&I!==(I=X[26].t("crud.open_in_pop_up")+"")&&Be(w,I),(!Z||$[0]&67108864)&&q!==(q=X[26].t("crud.open_in_tab")+"")&&Be(le,q),(!Z||$[0]&16384&&k!==(k="dropdown "+(X[14].add===!0?"dropdown-open":"")+" dropdown-end"))&&m(r,"class",k)},i(X){Z||(v(t.$$.fragment,X),v(E.$$.fragment,X),v(G.$$.fragment,X),Z=!0)},o(X){C(t.$$.fragment,X),C(E.$$.fragment,X),C(G.$$.fragment,X),Z=!1},d(X){X&&(B(n),B(u),B(r)),de(t),de(E),de(G),g=!1,xt(Te)}}}function Sl(l){let n,e,i,t,_,o,u,r,c,f,d,b,E,O,I=l[26].t("crud.open_in_pop_up")+"",w,T,A,P,R,G,W,q=l[26].t("crud.open_in_tab")+"",le,k,Z,g,Te,X,$,V,j,a,U,F,K,x,Qe,oe,He,We=l[26].t("crud.open_in_pop_up")+"",J,ne,ue,Ue,Ve,Ae,_t,tt=l[26].t("crud.open_in_tab")+"",Ze,ct,fe,rt,ye,ut,Ne,Je,Et,Re,we,he,ke,vt,Me,De,ot,Xe=l[26].t("crud.delete")+"",Dt,$e,xe,lt,Ye,pt,nt,Vt=l[26].t("crud.permanent_delete")+"",je,ze,qe,Ct,Fe,Yt,Wt;t=new Ee({props:{type:"outline",icon:"pencil-alt",path:"icons"}}),E=new Ee({props:{type:"outline",icon:"pencil-alt",path:"icons"}}),G=new Ee({props:{type:"outline",icon:"pencil-alt",path:"icons"}}),$=new Ee({props:{type:"outline",icon:"duplicate",path:"icons"}}),oe=new Ee({props:{type:"outline",icon:"pencil-alt",path:"icons"}}),Ae=new Ee({props:{type:"outline",icon:"pencil-alt",path:"icons"}}),Ne=new Ee({props:{type:"outline",icon:"trash",path:"icons"}}),De=new Ee({props:{type:"outline",icon:"trash",path:"icons"}}),pt=new Ee({props:{type:"outline",icon:"trash",path:"icons"}});let Ot=Ce(l[24]),Pe=[];for(let M=0;M<Ot.length;M+=1)Pe[M]=Hl(jl(l,Ot,M));const $t=M=>C(Pe[M],1,1,()=>{Pe[M]=null});return{c(){var M,y,ht,Nt,Mt,L,Y,ve,ft,Ge,jt,zt,St,Bt,Ht,Jt,qt;n=p("div"),e=p("button"),i=p("span"),ae(t.$$.fragment),u=H(),r=p("div"),c=p("ul"),f=p("li"),d=p("a"),b=p("span"),ae(E.$$.fragment),O=H(),w=Se(I),T=H(),A=p("li"),P=p("a"),R=p("span"),ae(G.$$.fragment),W=H(),le=Se(q),Z=H(),g=p("div"),Te=p("button"),X=p("span"),ae($.$$.fragment),a=H(),U=p("div"),F=p("ul"),K=p("li"),x=p("a"),Qe=p("span"),ae(oe.$$.fragment),He=H(),J=Se(We),ne=H(),ue=p("li"),Ue=p("a"),Ve=p("span"),ae(Ae.$$.fragment),_t=H(),Ze=Se(tt),fe=H(),rt=p("div"),ye=p("button"),ut=p("span"),ae(Ne.$$.fragment),Re=H(),we=p("div"),he=p("ul"),ke=p("li"),vt=p("a"),Me=p("span"),ae(De.$$.fragment),ot=H(),Dt=Se(Xe),$e=H(),xe=p("li"),lt=p("a"),Ye=p("span"),ae(pt.$$.fragment),nt=H(),je=Se(Vt),qe=H();for(let Tt=0;Tt<Pe.length;Tt+=1)Pe[Tt].c();Ct=dt(),m(i,"class","w-6"),m(e,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),e.disabled=_=!l[46]((M=l[25])==null?void 0:M.user,(Nt=(ht=(y=l[25])==null?void 0:y.tables)==null?void 0:ht[l[3]])==null?void 0:Nt.permissions,"update",(L=l[37]((Mt=l[16])==null?void 0:Mt.data))==null?void 0:L[0]),Gt(e,"display",l[37]((Y=l[16])==null?void 0:Y.data).length===1?null:"none"),m(n,"class","tooltip tooltip-left"),m(n,"data-tip",o=l[26].t("crud.edit")),m(b,"class","w-4 h-4"),m(f,"class","w-full"),m(R,"class","w-4 h-4"),m(A,"class","w-full"),m(c,"tabindex","0"),m(c,"class","dropdown-content menu p-1 shadow bg-base-100 menu-compact rounded-box w-44 --w-auto max-w-52 z-[1]"),m(r,"class",k="dropdown "+(l[14].edit===!0?"dropdown-open":"")+" dropdown-end"),m(X,"class","w-6"),m(Te,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),Te.disabled=V=!l[46]((ve=l[25])==null?void 0:ve.user,(jt=(Ge=(ft=l[25])==null?void 0:ft.tables)==null?void 0:Ge[l[3]])==null?void 0:jt.permissions,"create"),Gt(Te,"display",l[37]((zt=l[16])==null?void 0:zt.data).length===1?null:"none"),m(g,"class","tooltip tooltip-left"),m(g,"data-tip",j=l[26].t("crud.clone")),m(Qe,"class","w-4 h-4"),m(K,"class","w-full"),m(Ve,"class","w-4 h-4"),m(ue,"class","w-full"),m(F,"tabindex","0"),m(F,"class","dropdown-content menu p-1 shadow bg-base-100 menu-compact rounded-box w-44 --w-auto max-w-52 z-[1]"),m(U,"class",ct="dropdown "+(l[14].clone===!0?"dropdown-open":"")+" dropdown-end"),m(ut,"class","w-6"),m(ye,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),ye.disabled=Je=!l[46]((St=l[25])==null?void 0:St.user,(Jt=(Ht=(Bt=l[25])==null?void 0:Bt.tables)==null?void 0:Ht[l[3]])==null?void 0:Jt.permissions,"delete",l[37]((qt=l[16])==null?void 0:qt.data)),m(rt,"class","tooltip tooltip-left"),m(rt,"data-tip",Et=l[26].t("crud.delete")),m(Me,"class","w-4 h-4"),m(ke,"class","w-full"),m(Ye,"class","w-4 h-4"),m(xe,"class","w-full"),m(he,"tabindex","0"),m(he,"class","dropdown-content menu p-1 shadow bg-base-100 menu-compact rounded-box w-44 --w-auto max-w-52 z-[1]"),m(we,"class",ze="dropdown "+(l[14].del===!0?"dropdown-open":"")+" dropdown-end")},m(M,y){S(M,n,y),h(n,e),h(e,i),me(t,i,null),S(M,u,y),S(M,r,y),h(r,c),h(c,f),h(f,d),h(d,b),me(E,b,null),h(d,O),h(d,w),h(c,T),h(c,A),h(A,P),h(P,R),me(G,R,null),h(P,W),h(P,le),S(M,Z,y),S(M,g,y),h(g,Te),h(Te,X),me($,X,null),S(M,a,y),S(M,U,y),h(U,F),h(F,K),h(K,x),h(x,Qe),me(oe,Qe,null),h(x,He),h(x,J),h(F,ne),h(F,ue),h(ue,Ue),h(Ue,Ve),me(Ae,Ve,null),h(Ue,_t),h(Ue,Ze),S(M,fe,y),S(M,rt,y),h(rt,ye),h(ye,ut),me(Ne,ut,null),S(M,Re,y),S(M,we,y),h(we,he),h(he,ke),h(ke,vt),h(vt,Me),me(De,Me,null),h(vt,ot),h(vt,Dt),h(he,$e),h(he,xe),h(xe,lt),h(lt,Ye),me(pt,Ye,null),h(lt,nt),h(lt,je),S(M,qe,y);for(let ht=0;ht<Pe.length;ht+=1)Pe[ht]&&Pe[ht].m(M,y);S(M,Ct,y),Fe=!0,Yt||(Wt=[re(e,"click",l[63]),re(e,"contextmenu",ol(l[64])),re(d,"click",l[65]),re(P,"click",l[66]),re(Te,"click",l[67]),re(Te,"contextmenu",ol(l[68])),re(x,"click",l[69]),re(Ue,"click",l[70]),re(ye,"click",l[71]),re(ye,"contextmenu",ol(l[72])),re(vt,"click",l[73]),re(lt,"click",l[74])],Yt=!0)},p(M,y){var ht,Nt,Mt,L,Y,ve,ft,Ge,jt,zt,St,Bt,Ht,Jt,qt,Tt,Zt;if((!Fe||y[0]&33619976&&_!==(_=!M[46]((ht=M[25])==null?void 0:ht.user,(L=(Mt=(Nt=M[25])==null?void 0:Nt.tables)==null?void 0:Mt[M[3]])==null?void 0:L.permissions,"update",(ve=M[37]((Y=M[16])==null?void 0:Y.data))==null?void 0:ve[0])))&&(e.disabled=_),y[0]&65536&&Gt(e,"display",M[37]((ft=M[16])==null?void 0:ft.data).length===1?null:"none"),(!Fe||y[0]&67108864&&o!==(o=M[26].t("crud.edit")))&&m(n,"data-tip",o),(!Fe||y[0]&67108864)&&I!==(I=M[26].t("crud.open_in_pop_up")+"")&&Be(w,I),(!Fe||y[0]&67108864)&&q!==(q=M[26].t("crud.open_in_tab")+"")&&Be(le,q),(!Fe||y[0]&16384&&k!==(k="dropdown "+(M[14].edit===!0?"dropdown-open":"")+" dropdown-end"))&&m(r,"class",k),(!Fe||y[0]&33554440&&V!==(V=!M[46]((Ge=M[25])==null?void 0:Ge.user,(St=(zt=(jt=M[25])==null?void 0:jt.tables)==null?void 0:zt[M[3]])==null?void 0:St.permissions,"create")))&&(Te.disabled=V),y[0]&65536&&Gt(Te,"display",M[37]((Bt=M[16])==null?void 0:Bt.data).length===1?null:"none"),(!Fe||y[0]&67108864&&j!==(j=M[26].t("crud.clone")))&&m(g,"data-tip",j),(!Fe||y[0]&67108864)&&We!==(We=M[26].t("crud.open_in_pop_up")+"")&&Be(J,We),(!Fe||y[0]&67108864)&&tt!==(tt=M[26].t("crud.open_in_tab")+"")&&Be(Ze,tt),(!Fe||y[0]&16384&&ct!==(ct="dropdown "+(M[14].clone===!0?"dropdown-open":"")+" dropdown-end"))&&m(U,"class",ct),(!Fe||y[0]&33619976&&Je!==(Je=!M[46]((Ht=M[25])==null?void 0:Ht.user,(Tt=(qt=(Jt=M[25])==null?void 0:Jt.tables)==null?void 0:qt[M[3]])==null?void 0:Tt.permissions,"delete",M[37]((Zt=M[16])==null?void 0:Zt.data))))&&(ye.disabled=Je),(!Fe||y[0]&67108864&&Et!==(Et=M[26].t("crud.delete")))&&m(rt,"data-tip",Et),(!Fe||y[0]&67108864)&&Xe!==(Xe=M[26].t("crud.delete")+"")&&Be(Dt,Xe),(!Fe||y[0]&67108864)&&Vt!==(Vt=M[26].t("crud.permanent_delete")+"")&&Be(je,Vt),(!Fe||y[0]&16384&&ze!==(ze="dropdown "+(M[14].del===!0?"dropdown-open":"")+" dropdown-end"))&&m(we,"class",ze),y[0]&117506056|y[1]&41024){Ot=Ce(M[24]);let et;for(et=0;et<Ot.length;et+=1){const yt=jl(M,Ot,et);Pe[et]?(Pe[et].p(yt,y),v(Pe[et],1)):(Pe[et]=Hl(yt),Pe[et].c(),v(Pe[et],1),Pe[et].m(Ct.parentNode,Ct))}for(Oe(),et=Ot.length;et<Pe.length;et+=1)$t(et);Le()}},i(M){if(!Fe){v(t.$$.fragment,M),v(E.$$.fragment,M),v(G.$$.fragment,M),v($.$$.fragment,M),v(oe.$$.fragment,M),v(Ae.$$.fragment,M),v(Ne.$$.fragment,M),v(De.$$.fragment,M),v(pt.$$.fragment,M);for(let y=0;y<Ot.length;y+=1)v(Pe[y]);Fe=!0}},o(M){C(t.$$.fragment,M),C(E.$$.fragment,M),C(G.$$.fragment,M),C($.$$.fragment,M),C(oe.$$.fragment,M),C(Ae.$$.fragment,M),C(Ne.$$.fragment,M),C(De.$$.fragment,M),C(pt.$$.fragment,M),Pe=Pe.filter(Boolean);for(let y=0;y<Pe.length;y+=1)C(Pe[y]);Fe=!1},d(M){M&&(B(n),B(u),B(r),B(Z),B(g),B(a),B(U),B(fe),B(rt),B(Re),B(we),B(qe),B(Ct)),de(t),de(E),de(G),de($),de(oe),de(Ae),de(Ne),de(De),de(pt),wt(Pe,M),Yt=!1,xt(Wt)}}}function Bl(l){let n,e,i,t,_,o,u,r,c,f;t=new Ee({props:{type:"outline",icon:l[123].icon||"table",path:"icons"}});function d(){return l[75](l[123])}return{c(){var b,E,O,I;n=p("div"),e=p("button"),i=p("span"),ae(t.$$.fragment),o=H(),m(i,"class","w-6"),m(e,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),e.disabled=_=!l[46]((b=l[25])==null?void 0:b.user,(I=(O=(E=l[25])==null?void 0:E.tables)==null?void 0:O[l[3]])==null?void 0:I.permissions,"read"),m(n,"class","tooltip tooltip-left"),m(n,"data-tip",u=l[26].t(`crud.${l[123].label}`))},m(b,E){S(b,n,E),h(n,e),h(e,i),me(t,i,null),h(n,o),r=!0,c||(f=re(e,"click",d),c=!0)},p(b,E){var I,w,T,A;l=b;const O={};E[0]&16777216&&(O.icon=l[123].icon||"table"),t.$set(O),(!r||E[0]&33554440&&_!==(_=!l[46]((I=l[25])==null?void 0:I.user,(A=(T=(w=l[25])==null?void 0:w.tables)==null?void 0:T[l[3]])==null?void 0:A.permissions,"read")))&&(e.disabled=_),(!r||E[0]&83886080&&u!==(u=l[26].t(`crud.${l[123].label}`)))&&m(n,"data-tip",u)},i(b){r||(v(t.$$.fragment,b),r=!0)},o(b){C(t.$$.fragment,b),r=!1},d(b){b&&B(n),de(t),c=!1,f()}}}function Hl(l){let n,e,i=l[123].main&&Bl(l);return{c(){i&&i.c(),n=dt()},m(t,_){i&&i.m(t,_),S(t,n,_),e=!0},p(t,_){t[123].main?i?(i.p(t,_),_[0]&16777216&&v(i,1)):(i=Bl(t),i.c(),v(i,1),i.m(n.parentNode,n)):i&&(Oe(),C(i,1,1,()=>{i=null}),Le())},i(t){e||(v(i),e=!0)},o(t){C(i),e=!1},d(t){t&&B(n),i&&i.d(t)}}}function Jl(l){let n,e,i,t,_,o,u,r,c;t=new Ee({props:{type:"outline",icon:l[123].icon||"table",path:"icons"}});function f(){return l[76](l[123])}return{c(){var d,b,E,O;n=p("div"),e=p("button"),i=p("span"),ae(t.$$.fragment),m(i,"class","w-6"),m(e,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),e.disabled=_=!l[46]((d=l[25])==null?void 0:d.user,(O=(E=(b=l[25])==null?void 0:b.tables)==null?void 0:E[l[3]])==null?void 0:O.permissions,"read"),m(n,"class","tooltip tooltip-left"),m(n,"data-tip",o=l[26].t(`crud.${l[123].label}`))},m(d,b){S(d,n,b),h(n,e),h(e,i),me(t,i,null),u=!0,r||(c=re(e,"click",f),r=!0)},p(d,b){var O,I,w,T;l=d;const E={};b[0]&16777216&&(E.icon=l[123].icon||"table"),t.$set(E),(!u||b[0]&33554440&&_!==(_=!l[46]((O=l[25])==null?void 0:O.user,(T=(w=(I=l[25])==null?void 0:I.tables)==null?void 0:w[l[3]])==null?void 0:T.permissions,"read")))&&(e.disabled=_),(!u||b[0]&83886080&&o!==(o=l[26].t(`crud.${l[123].label}`)))&&m(n,"data-tip",o)},i(d){u||(v(t.$$.fragment,d),u=!0)},o(d){C(t.$$.fragment,d),u=!1},d(d){d&&B(n),de(t),r=!1,c()}}}function ql(l){let n,e,i=l[123].main&&l[123].not_row_centred&&Jl(l);return{c(){i&&i.c(),n=dt()},m(t,_){i&&i.m(t,_),S(t,n,_),e=!0},p(t,_){t[123].main&&t[123].not_row_centred?i?(i.p(t,_),_[0]&16777216&&v(i,1)):(i=Jl(t),i.c(),v(i,1),i.m(n.parentNode,n)):i&&(Oe(),C(i,1,1,()=>{i=null}),Le())},i(t){e||(v(i),e=!0)},o(t){C(i),e=!1},d(t){t&&B(n),i&&i.d(t)}}}function Fl(l){var Qe,oe,He,We;let n,e,i,t,_,o,u,r,c,f,d,b,E,O,I,w,T,A,P,R,G,W,q,le,k,Z,g,Te,X,$=((Qe=l[24])==null?void 0:Qe.length)>0&&l[37]((oe=l[16])==null?void 0:oe.data).length>0,V,j=((He=l[23])==null?void 0:He.length)>0&&l[37]((We=l[16])==null?void 0:We.data).length>0,a,U,F;t=new Ee({props:{type:"outline",icon:"upload",path:"icons"}}),d=new Ee({props:{type:"outline",icon:"download",path:"icons"}}),A=new Ee({props:{type:"outline",icon:"cog-8-tooth",path:"icons"}}),Z=new Ee({props:{type:"outline",icon:"dots-vertical",path:"icons"}});let K=$&&Gl(l),x=j&&Xl(l);return{c(){var J,ne,ue,Ue,Ve,Ae,_t,tt,Ze,ct,fe,rt,ye,ut,Ne;n=p("div"),e=p("button"),i=p("span"),ae(t.$$.fragment),u=H(),r=p("div"),c=p("button"),f=p("span"),ae(d.$$.fragment),O=H(),I=p("div"),w=p("button"),T=p("span"),ae(A.$$.fragment),G=H(),W=p("div"),q=p("div"),le=p("button"),k=p("span"),ae(Z.$$.fragment),Te=H(),X=p("ul"),K&&K.c(),V=H(),x&&x.c(),m(i,"class","w-6"),m(e,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),e.disabled=_=!l[46]((J=l[25])==null?void 0:J.user,(Ue=(ue=(ne=l[25])==null?void 0:ne.tables)==null?void 0:ue[l[3]])==null?void 0:Ue.permissions,"create"),m(n,"class","tooltip tooltip-left"),m(n,"data-tip",o=l[26].t("crud.import")),Gt(n,"display",((Ae=(Ve=l[21])==null?void 0:Ve.layout)==null?void 0:Ae.allow_import)===!0?null:"none"),m(f,"class","w-6"),m(c,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),c.disabled=b=!l[46]((_t=l[25])==null?void 0:_t.user,(ct=(Ze=(tt=l[25])==null?void 0:tt.tables)==null?void 0:Ze[l[3]])==null?void 0:ct.permissions,"read"),m(r,"class","tooltip tooltip-left"),m(r,"data-tip",E=l[26].t("crud.export")),m(T,"class","w-6"),m(w,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),w.disabled=P=!l[46]((fe=l[25])==null?void 0:fe.user,(ut=(ye=(rt=l[25])==null?void 0:rt.tables)==null?void 0:ye.custom_table)==null?void 0:ut.permissions,"update"),m(I,"class","tooltip tooltip-left"),m(I,"data-tip",R=l[26].t("crud.config")),m(k,"class","w-6 h-6"),m(le,"class","btn btn-circle btn-ghost btn-sm"),m(q,"class","tooltip tooltip-left"),m(q,"data-tip",g=l[26].t("crud.more")),m(X,"tabindex","0"),m(X,"class","mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-60 z-[1]"),m(W,"class","dropdown dropdown-end"),Gt(W,"display",l[37]((Ne=l[16])==null?void 0:Ne.data).length>0?null:"none")},m(J,ne){S(J,n,ne),h(n,e),h(e,i),me(t,i,null),S(J,u,ne),S(J,r,ne),h(r,c),h(c,f),me(d,f,null),S(J,O,ne),S(J,I,ne),h(I,w),h(w,T),me(A,T,null),S(J,G,ne),S(J,W,ne),h(W,q),h(q,le),h(le,k),me(Z,k,null),h(W,Te),h(W,X),K&&K.m(X,null),h(X,V),x&&x.m(X,null),a=!0,U||(F=[re(e,"click",l[77]),re(c,"click",l[78]),re(w,"click",l[79])],U=!0)},p(J,ne){var ue,Ue,Ve,Ae,_t,tt,Ze,ct,fe,rt,ye,ut,Ne,Je,Et,Re,we,he,ke;(!a||ne[0]&33554440&&_!==(_=!J[46]((ue=J[25])==null?void 0:ue.user,(Ae=(Ve=(Ue=J[25])==null?void 0:Ue.tables)==null?void 0:Ve[J[3]])==null?void 0:Ae.permissions,"create")))&&(e.disabled=_),(!a||ne[0]&67108864&&o!==(o=J[26].t("crud.import")))&&m(n,"data-tip",o),ne[0]&2097152&&Gt(n,"display",((tt=(_t=J[21])==null?void 0:_t.layout)==null?void 0:tt.allow_import)===!0?null:"none"),(!a||ne[0]&33554440&&b!==(b=!J[46]((Ze=J[25])==null?void 0:Ze.user,(rt=(fe=(ct=J[25])==null?void 0:ct.tables)==null?void 0:fe[J[3]])==null?void 0:rt.permissions,"read")))&&(c.disabled=b),(!a||ne[0]&67108864&&E!==(E=J[26].t("crud.export")))&&m(r,"data-tip",E),(!a||ne[0]&33554432&&P!==(P=!J[46]((ye=J[25])==null?void 0:ye.user,(Je=(Ne=(ut=J[25])==null?void 0:ut.tables)==null?void 0:Ne.custom_table)==null?void 0:Je.permissions,"update")))&&(w.disabled=P),(!a||ne[0]&67108864&&R!==(R=J[26].t("crud.config")))&&m(I,"data-tip",R),(!a||ne[0]&67108864&&g!==(g=J[26].t("crud.more")))&&m(q,"data-tip",g),ne[0]&16842752&&($=((Et=J[24])==null?void 0:Et.length)>0&&J[37]((Re=J[16])==null?void 0:Re.data).length>0),$?K?(K.p(J,ne),ne[0]&16842752&&v(K,1)):(K=Gl(J),K.c(),v(K,1),K.m(X,V)):K&&(Oe(),C(K,1,1,()=>{K=null}),Le()),ne[0]&8454144&&(j=((we=J[23])==null?void 0:we.length)>0&&J[37]((he=J[16])==null?void 0:he.data).length>0),j?x?(x.p(J,ne),ne[0]&8454144&&v(x,1)):(x=Xl(J),x.c(),v(x,1),x.m(X,null)):x&&(Oe(),C(x,1,1,()=>{x=null}),Le()),ne[0]&65536&&Gt(W,"display",J[37]((ke=J[16])==null?void 0:ke.data).length>0?null:"none")},i(J){a||(v(t.$$.fragment,J),v(d.$$.fragment,J),v(A.$$.fragment,J),v(Z.$$.fragment,J),v(K),v(x),a=!0)},o(J){C(t.$$.fragment,J),C(d.$$.fragment,J),C(A.$$.fragment,J),C(Z.$$.fragment,J),C(K),C(x),a=!1},d(J){J&&(B(n),B(u),B(r),B(O),B(I),B(G),B(W)),de(t),de(d),de(A),de(Z),K&&K.d(),x&&x.d(),U=!1,xt(F)}}}function Gl(l){let n,e,i=Ce(l[24]),t=[];for(let o=0;o<i.length;o+=1)t[o]=Ul(Nl(l,i,o));const _=o=>C(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=dt()},m(o,u){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(o,u);S(o,n,u),e=!0},p(o,u){if(u[0]&83951624|u[1]&8256){i=Ce(o[24]);let r;for(r=0;r<i.length;r+=1){const c=Nl(o,i,r);t[r]?(t[r].p(c,u),v(t[r],1)):(t[r]=Ul(c),t[r].c(),v(t[r],1),t[r].m(n.parentNode,n))}for(Oe(),r=i.length;r<t.length;r+=1)_(r);Le()}},i(o){if(!e){for(let u=0;u<i.length;u+=1)v(t[u]);e=!0}},o(o){t=t.filter(Boolean);for(let u=0;u<t.length;u+=1)C(t[u]);e=!1},d(o){o&&B(n),wt(t,o)}}}function Yl(l){let n,e,i,t,_,o=at(l[26].t(`crud.${l[123].label}`),30)+"",u,r,c,f,d,b;t=new Ee({props:{type:"outline",icon:l[123].icon||"table",path:"icons"}});function E(){return l[80](l[123])}return{c(){n=p("li"),e=p("a"),i=p("span"),ae(t.$$.fragment),_=H(),u=Se(o),r=H(),m(i,"class","w-5 h-5"),m(n,"title",c=mt(l[26].t(`crud.${l[123].label}`),30))},m(O,I){S(O,n,I),h(n,e),h(e,i),me(t,i,null),h(e,_),h(e,u),h(n,r),f=!0,d||(b=re(e,"click",E),d=!0)},p(O,I){l=O;const w={};I[0]&16777216&&(w.icon=l[123].icon||"table"),t.$set(w),(!f||I[0]&83886080)&&o!==(o=at(l[26].t(`crud.${l[123].label}`),30)+"")&&Be(u,o),(!f||I[0]&83886080&&c!==(c=mt(l[26].t(`crud.${l[123].label}`),30)))&&m(n,"title",c)},i(O){f||(v(t.$$.fragment,O),f=!0)},o(O){C(t.$$.fragment,O),f=!1},d(O){O&&B(n),de(t),d=!1,b()}}}function Ul(l){let n,e,i=!l[123].main&&Yl(l);return{c(){i&&i.c(),n=dt()},m(t,_){i&&i.m(t,_),S(t,n,_),e=!0},p(t,_){t[123].main?i&&(Oe(),C(i,1,1,()=>{i=null}),Le()):i?(i.p(t,_),_[0]&16777216&&v(i,1)):(i=Yl(t),i.c(),v(i,1),i.m(n.parentNode,n))},i(t){e||(v(i),e=!0)},o(t){C(i),e=!1},d(t){t&&B(n),i&&i.d(t)}}}function Xl(l){let n,e,i=Ce(l[23]),t=[];for(let o=0;o<i.length;o+=1)t[o]=Ql(Cl(l,i,o));const _=o=>C(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=dt()},m(o,u){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(o,u);S(o,n,u),e=!0},p(o,u){if(u[0]&44105736|u[1]&53312){i=Ce(o[23]);let r;for(r=0;r<i.length;r+=1){const c=Cl(o,i,r);t[r]?(t[r].p(c,u),v(t[r],1)):(t[r]=Ql(c),t[r].c(),v(t[r],1),t[r].m(n.parentNode,n))}for(Oe(),r=i.length;r<t.length;r+=1)_(r);Le()}},i(o){if(!e){for(let u=0;u<i.length;u+=1)v(t[u]);e=!0}},o(o){t=t.filter(Boolean);for(let u=0;u<t.length;u+=1)C(t[u]);e=!1},d(o){o&&B(n),wt(t,o)}}}function Kl(l){var O,I,w,T;let n,e,i,t,_,o=at((T=(w=(O=l[25])==null?void 0:O.tables)==null?void 0:w[(I=l[130])==null?void 0:I.table])==null?void 0:T.comment,30)+"",u,r,c,f,d,b;t=new Ee({props:{type:"outline",icon:"table",path:"icons"}});function E(){return l[81](l[130])}return{c(){var A,P,R,G;n=p("li"),e=p("a"),i=p("span"),ae(t.$$.fragment),_=H(),u=Se(o),r=H(),m(i,"class","w-5 h-5"),m(n,"title",c=mt((G=(R=(A=l[25])==null?void 0:A.tables)==null?void 0:R[(P=l[130])==null?void 0:P.table])==null?void 0:G.comment,30))},m(A,P){S(A,n,P),h(n,e),h(e,i),me(t,i,null),h(e,_),h(e,u),h(n,r),f=!0,d||(b=re(e,"click",E),d=!0)},p(A,P){var R,G,W,q,le,k,Z,g;l=A,(!f||P[0]&41943040)&&o!==(o=at((q=(W=(R=l[25])==null?void 0:R.tables)==null?void 0:W[(G=l[130])==null?void 0:G.table])==null?void 0:q.comment,30)+"")&&Be(u,o),(!f||P[0]&41943040&&c!==(c=mt((g=(Z=(le=l[25])==null?void 0:le.tables)==null?void 0:Z[(k=l[130])==null?void 0:k.table])==null?void 0:g.comment,30)))&&m(n,"title",c)},i(A){f||(v(t.$$.fragment,A),f=!0)},o(A){C(t.$$.fragment,A),f=!1},d(A){A&&B(n),de(t),d=!1,b()}}}function Ql(l){var _,o,u,r,c;let n=l[45](l[21],(_=l[130])==null?void 0:_.table)&&l[46]((o=l[25])==null?void 0:o.user,(c=(r=(u=l[25])==null?void 0:u.tables)==null?void 0:r[l[3]])==null?void 0:c.permissions,"read"),e,i,t=n&&Kl(l);return{c(){t&&t.c(),e=dt()},m(f,d){t&&t.m(f,d),S(f,e,d),i=!0},p(f,d){var b,E,O,I,w;d[0]&44040200&&(n=f[45](f[21],(b=f[130])==null?void 0:b.table)&&f[46]((E=f[25])==null?void 0:E.user,(w=(I=(O=f[25])==null?void 0:O.tables)==null?void 0:I[f[3]])==null?void 0:w.permissions,"read")),n?t?(t.p(f,d),d[0]&44040200&&v(t,1)):(t=Kl(f),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(Oe(),C(t,1,1,()=>{t=null}),Le())},i(f){i||(v(t),i=!0)},o(f){C(t),i=!1},d(f){f&&B(e),t&&t.d(f)}}}function Wl(l){let n,e,i,t,_,o,u,r;return t=new Ee({props:{type:"outline",icon:"x",path:"icons"}}),{c(){n=p("div"),e=p("button"),i=p("span"),ae(t.$$.fragment),m(i,"class","w-6"),m(e,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),m(n,"class","tooltip tooltip-left"),m(n,"data-tip",_=l[26].t("crud.close"))},m(c,f){S(c,n,f),h(n,e),h(e,i),me(t,i,null),o=!0,u||(r=re(e,"click",l[82]),u=!0)},p(c,f){(!o||f[0]&67108864&&_!==(_=c[26].t("crud.close")))&&m(n,"data-tip",_)},i(c){o||(v(t.$$.fragment,c),o=!0)},o(c){C(t.$$.fragment,c),o=!1},d(c){c&&B(n),de(t),u=!1,r()}}}function Zl(l){let n;return{c(){n=p("th")},m(e,i){S(e,n,i)},d(e){e&&B(n)}}}function yl(l){let n,e,i,t,_,o;return{c(){var u,r,c,f,d,b,E;n=p("th"),e=p("input"),m(e,"type","checkbox"),m(e,"class","checkbox checkbox-sm checkbox-primary"),e.checked=i=((r=(u=l[16])==null?void 0:u.data)==null?void 0:r.length)===l[37]((c=l[16])==null?void 0:c.data).length,e.indeterminate=t=((d=(f=l[16])==null?void 0:f.data)==null?void 0:d.length)!==l[37]((b=l[16])==null?void 0:b.data).length&&l[37]((E=l[16])==null?void 0:E.data).length>0},m(u,r){S(u,n,r),h(n,e),_||(o=re(e,"change",l[83]),_=!0)},p(u,r){var c,f,d,b,E,O,I;r[0]&65536&&i!==(i=((f=(c=u[16])==null?void 0:c.data)==null?void 0:f.length)===u[37]((d=u[16])==null?void 0:d.data).length)&&(e.checked=i),r[0]&65536&&t!==(t=((E=(b=u[16])==null?void 0:b.data)==null?void 0:E.length)!==u[37]((O=u[16])==null?void 0:O.data).length&&u[37]((I=u[16])==null?void 0:I.data).length>0)&&(e.indeterminate=t)},d(u){u&&B(n),_=!1,o()}}}function $l(l){var u,r,c;let n,e,i=at(l[117].use_label&&l[117].label?l[117].label:((u=l[117])==null?void 0:u.comment)||((r=l[117])==null?void 0:r.name),((c=l[117])==null?void 0:c.ellipsis)||30)+"",t,_,o;return{c(){var f,d,b,E,O;n=p("th"),e=p("span"),t=Se(i),m(e,"title",_=mt(l[117].use_label&&l[117].label?l[117].label:((f=l[117])==null?void 0:f.comment)||((d=l[117])==null?void 0:d.name),((b=l[117])==null?void 0:b.ellipsis)||30)),m(n,"class",o="normal-case "+(["int","integer","float","decimal","real","date","datetime","time"].indexOf((O=(E=l[117])==null?void 0:E.type)==null?void 0:O.toLowerCase())!==-1&&!l[117].fk?"text-right":""))},m(f,d){S(f,n,d),h(n,e),h(e,t)},p(f,d){var b,E,O,I,w,T,A,P;d[0]&35717128&&i!==(i=at(f[117].use_label&&f[117].label?f[117].label:((b=f[117])==null?void 0:b.comment)||((E=f[117])==null?void 0:E.name),((O=f[117])==null?void 0:O.ellipsis)||30)+"")&&Be(t,i),d[0]&35717128&&_!==(_=mt(f[117].use_label&&f[117].label?f[117].label:((I=f[117])==null?void 0:I.comment)||((w=f[117])==null?void 0:w.name),((T=f[117])==null?void 0:T.ellipsis)||30))&&m(e,"title",_),d[0]&35717128&&o!==(o="normal-case "+(["int","integer","float","decimal","real","date","datetime","time"].indexOf((P=(A=f[117])==null?void 0:A.type)==null?void 0:P.toLowerCase())!==-1&&!f[117].fk?"text-right":""))&&m(n,"class",o)},d(f){f&&B(n)}}}function xl(l){let n;return{c(){n=p("th"),m(n,"colspan",3)},m(e,i){S(e,n,i)},d(e){e&&B(n)}}}function en(l){let n;return{c(){n=p("th")},m(e,i){S(e,n,i)},d(e){e&&B(n)}}}function tn(l){let n,e=l[123].main&&en();return{c(){e&&e.c(),n=dt()},m(i,t){e&&e.m(i,t),S(i,n,t)},p(i,t){i[123].main?e||(e=en(),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(i){i&&B(n),e&&e.d(i)}}}function Jn(l){var o;let n,e,i=Ce(((o=l[16])==null?void 0:o.data)||[]),t=[];for(let u=0;u<i.length;u+=1)t[u]=fn(Ll(l,i,u));const _=u=>C(t[u],1,1,()=>{t[u]=null});return{c(){for(let u=0;u<t.length;u+=1)t[u].c();n=dt()},m(u,r){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(u,r);S(u,n,r),e=!0},p(u,r){var c;if(r[0]&388038888|r[1]&44082){i=Ce(((c=u[16])==null?void 0:c.data)||[]);let f;for(f=0;f<i.length;f+=1){const d=Ll(u,i,f);t[f]?(t[f].p(d,r),v(t[f],1)):(t[f]=fn(d),t[f].c(),v(t[f],1),t[f].m(n.parentNode,n))}for(Oe(),f=i.length;f<t.length;f+=1)_(f);Le()}},i(u){if(!e){for(let r=0;r<i.length;r+=1)v(t[r]);e=!0}},o(u){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)C(t[r]);e=!1},d(u){u&&B(n),wt(t,u)}}}function qn(l){let n,e=Ce(Array(l[0]===-1?10:l[0]||10).fill(0)),i=[];for(let t=0;t<e.length;t+=1)i[t]=cn(Rl(l,e,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=dt()},m(t,_){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,_);S(t,n,_)},p(t,_){if(_[0]&304152585){e=Ce(Array(t[0]===-1?10:t[0]||10).fill(0));let o;for(o=0;o<e.length;o+=1){const u=Rl(t,e,o);i[o]?i[o].p(u,_):(i[o]=cn(u),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},i:_l,o:_l,d(t){t&&B(n),wt(i,t)}}}function ln(l){let n;return{c(){n=p("th"),n.textContent=`${l[122]+1}`},m(e,i){S(e,n,i)},d(e){e&&B(n)}}}function nn(l){let n,e,i,t;function _(){l[84].call(e,l[121],l[122])}function o(...u){return l[85](l[120],...u)}return{c(){n=p("th"),e=p("input"),m(e,"type","checkbox"),m(e,"class","checkbox checkbox-sm mt-0 p-0 checkbox-primary"),m(n,"class","align-middle")},m(u,r){S(u,n,r),h(n,e),e.checked=l[120].selected,i||(t=[re(e,"change",_),re(e,"change",o)],i=!0)},p(u,r){l=u,r[0]&65536&&(e.checked=l[120].selected)},d(u){u&&B(n),i=!1,xt(t)}}}function Fn(l){var _,o,u,r,c;let n,e=((o=l[120])!=null&&o[(_=l[117])==null?void 0:_.name]?at((r=l[120])==null?void 0:r[(u=l[117])==null?void 0:u.name],((c=l[117])==null?void 0:c.ellipsis)||30):"")+"",i,t;return{c(){var f,d,b;n=p("span"),i=Se(e),m(n,"title",t=mt((d=l[120])==null?void 0:d[(f=l[117])==null?void 0:f.name],((b=l[117])==null?void 0:b.ellipsis)||30))},m(f,d){S(f,n,d),h(n,i)},p(f,d){var b,E,O,I,w,T,A,P;d[0]&35717128&&e!==(e=((E=f[120])!=null&&E[(b=f[117])==null?void 0:b.name]?at((I=f[120])==null?void 0:I[(O=f[117])==null?void 0:O.name],((w=f[117])==null?void 0:w.ellipsis)||30):"")+"")&&Be(i,e),d[0]&35717128&&t!==(t=mt((A=f[120])==null?void 0:A[(T=f[117])==null?void 0:T.name],((P=f[117])==null?void 0:P.ellipsis)||30))&&m(n,"title",t)},d(f){f&&B(n)}}}function Gn(l){var o,u,r;let n,e=at((u=l[120])==null?void 0:u[(o=l[117])==null?void 0:o.name],((r=l[117])==null?void 0:r.ellipsis)||30)+"",i,t,_;return{c(){var c,f,d,b,E;n=p("a"),i=Se(e),m(n,"href",t=`${(f=l[120])==null?void 0:f[(c=l[117])==null?void 0:c.name]}`),m(n,"target","_blank"),m(n,"class","link link-secondary"),m(n,"title",_=mt((b=l[120])==null?void 0:b[(d=l[117])==null?void 0:d.name],((E=l[117])==null?void 0:E.ellipsis)||30))},m(c,f){S(c,n,f),h(n,i)},p(c,f){var d,b,E,O,I,w,T,A;f[0]&35717128&&e!==(e=at((b=c[120])==null?void 0:b[(d=c[117])==null?void 0:d.name],((E=c[117])==null?void 0:E.ellipsis)||30)+"")&&Be(i,e),f[0]&35717128&&t!==(t=`${(I=c[120])==null?void 0:I[(O=c[117])==null?void 0:O.name]}`)&&m(n,"href",t),f[0]&35717128&&_!==(_=mt((T=c[120])==null?void 0:T[(w=c[117])==null?void 0:w.name],((A=c[117])==null?void 0:A.ellipsis)||30))&&m(n,"title",_)},d(c){c&&B(n)}}}function Yn(l){let n,e,i;function t(u,r){return u[117].preview?Zn:Wn}let _=t(l),o=_(l);return{c(){var u,r,c,f,d;n=p("a"),o.c(),m(n,"href",e=`${l[36](!0)}/${(r=l[120])==null?void 0:r[(u=l[117])==null?void 0:u.name]}`),m(n,"target","_blank"),m(n,"class","link link-secondary"),m(n,"title",i=mt((f=l[120])==null?void 0:f[(c=l[117])==null?void 0:c.name],((d=l[117])==null?void 0:d.ellipsis)||30))},m(u,r){S(u,n,r),o.m(n,null)},p(u,r){var c,f,d,b,E;_===(_=t(u))&&o?o.p(u,r):(o.d(1),o=_(u),o&&(o.c(),o.m(n,null))),r[0]&35717128&&e!==(e=`${u[36](!0)}/${(f=u[120])==null?void 0:f[(c=u[117])==null?void 0:c.name]}`)&&m(n,"href",e),r[0]&35717128&&i!==(i=mt((b=u[120])==null?void 0:b[(d=u[117])==null?void 0:d.name],((E=u[117])==null?void 0:E.ellipsis)||30))&&m(n,"title",i)},d(u){u&&B(n),o.d()}}}function Un(l){let n,e;function i(o,u){var r,c,f,d;return u[0]&35717128&&(n=null),n==null&&(n=!!(!((c=o[120])!=null&&c[(r=o[117])==null?void 0:r.name])||[0,!1,"False","FALSE","0","false"].includes((d=o[120])==null?void 0:d[(f=o[117])==null?void 0:f.name]))),n?$n:yn}let t=i(l,[-1,-1,-1,-1,-1]),_=t(l);return{c(){_.c(),e=dt()},m(o,u){_.m(o,u),S(o,e,u)},p(o,u){t===(t=i(o,u))&&_?_.p(o,u):(_.d(1),_=t(o),_&&(_.c(),_.m(e.parentNode,e)))},d(o){o&&B(e),_.d(o)}}}function Xn(l){var i,t;let n=dl((t=l[120])==null?void 0:t[(i=l[117])==null?void 0:i.name],l[117].tous_sep||",",l[117].dec_places||2)+"",e;return{c(){e=Se(n)},m(_,o){S(_,e,o)},p(_,o){var u,r;o[0]&35717128&&n!==(n=dl((r=_[120])==null?void 0:r[(u=_[117])==null?void 0:u.name],_[117].tous_sep||",",_[117].dec_places||2)+"")&&Be(e,n)},d(_){_&&B(e)}}}function Kn(l){var i,t,_;let n=hl((i=l[25])==null?void 0:i.lang,l[117].intl_nformat,(_=l[120])==null?void 0:_[(t=l[117])==null?void 0:t.name])+"",e;return{c(){e=Se(n)},m(o,u){S(o,e,u)},p(o,u){var r,c,f;u[0]&35717128&&n!==(n=hl((r=o[25])==null?void 0:r.lang,o[117].intl_nformat,(f=o[120])==null?void 0:f[(c=o[117])==null?void 0:c.name])+"")&&Be(e,n)},d(o){o&&B(e)}}}function Qn(l){var i,t,_,o;let n=ul((t=l[120])==null?void 0:t[(i=l[117])==null?void 0:i.name]).format(l[117].date_format||l[26].t(`fmrt.${(o=(_=l[117])==null?void 0:_.type)==null?void 0:o.toLowerCase()}`))+"",e;return{c(){e=Se(n)},m(u,r){S(u,e,r)},p(u,r){var c,f,d,b;r[0]&102825992&&n!==(n=ul((f=u[120])==null?void 0:f[(c=u[117])==null?void 0:c.name]).format(u[117].date_format||u[26].t(`fmrt.${(b=(d=u[117])==null?void 0:d.type)==null?void 0:b.toLowerCase()}`))+"")&&Be(e,n)},d(u){u&&B(e)}}}function Wn(l){var i,t,_;let n=at((t=l[120])==null?void 0:t[(i=l[117])==null?void 0:i.name],((_=l[117])==null?void 0:_.ellipsis)||30)+"",e;return{c(){e=Se(n)},m(o,u){S(o,e,u)},p(o,u){var r,c,f;u[0]&35717128&&n!==(n=at((c=o[120])==null?void 0:c[(r=o[117])==null?void 0:r.name],((f=o[117])==null?void 0:f.ellipsis)||30)+"")&&Be(e,n)},d(o){o&&B(e)}}}function Zn(l){let n,e,i,t,_;return{c(){var o,u;n=p("div"),e=p("div"),i=p("img"),bl(i.src,t=`${l[36](!0)}/${(u=l[120])==null?void 0:u[(o=l[117])==null?void 0:o.name]}`)||m(i,"src",t),m(i,"alt",_=l[117].comment||l[117].name),m(e,"class","w-10 rounded-full"),m(n,"class","avatar w-14")},m(o,u){S(o,n,u),h(n,e),h(e,i)},p(o,u){var r,c;u[0]&35717128&&!bl(i.src,t=`${o[36](!0)}/${(c=o[120])==null?void 0:c[(r=o[117])==null?void 0:r.name]}`)&&m(i,"src",t),u[0]&35717128&&_!==(_=o[117].comment||o[117].name)&&m(i,"alt",_)},d(o){o&&B(n)}}}function yn(l){let n=l[26].t("crud.yes")+"",e;return{c(){e=Se(n)},m(i,t){S(i,e,t)},p(i,t){t[0]&67108864&&n!==(n=i[26].t("crud.yes")+"")&&Be(e,n)},d(i){i&&B(e)}}}function $n(l){let n=l[26].t("crud.no")+"",e;return{c(){e=Se(n)},m(i,t){S(i,e,t)},p(i,t){t[0]&67108864&&n!==(n=i[26].t("crud.no")+"")&&Be(e,n)},d(i){i&&B(e)}}}function sn(l){let n,e,i,t,_,o;function u(f,d){var b,E,O,I,w,T,A,P,R,G,W,q,le,k;return d[0]&35717128&&(e=null),d[0]&35717128&&(i=null),d[0]&35717128&&(t=null),d[0]&35717128&&(_=null),e==null&&(e=!!((["date","datetime","time"].includes((E=(b=f[117])==null?void 0:b.type)==null?void 0:E.toLowerCase())||f[117].date)&&((I=f[120])!=null&&I[(O=f[117])==null?void 0:O.name]))),e?Qn:f[117].number&&f[117].intl_nformat&&((T=f[120])!=null&&T[(w=f[117])==null?void 0:w.name])?Kn:f[117].number&&f[117].tous_sep&&((P=f[120])!=null&&P[(A=f[117])==null?void 0:A.name])?Xn:(i==null&&(i=!!["bool","boolean"].includes((G=(R=f[117])==null?void 0:R.type)==null?void 0:G.toLowerCase())),i?Un:(t==null&&(t=!!((f[117].att||f[117].name.toLowerCase().substring(0,7)==="attach_")&&((q=f[120])!=null&&q[(W=f[117])==null?void 0:W.name]))),t?Yn:(_==null&&(_=!!((f[117].link||f[117].name.toLowerCase().substring(0,5)==="link_")&&((k=f[120])!=null&&k[(le=f[117])==null?void 0:le.name]))),_?Gn:Fn)))}let r=u(l,[-1,-1,-1,-1,-1]),c=r(l);return{c(){var f,d;n=p("td"),c.c(),m(n,"class",o=["int","integer","float","decimal","real","date","datetime","time"].indexOf((d=(f=l[117])==null?void 0:f.type)==null?void 0:d.toLowerCase())!==-1&&!l[117].fk?"text-right":"")},m(f,d){S(f,n,d),c.m(n,null)},p(f,d){var b,E;r===(r=u(f,d))&&c?c.p(f,d):(c.d(1),c=r(f),c&&(c.c(),c.m(n,null))),d[0]&35717128&&o!==(o=["int","integer","float","decimal","real","date","datetime","time"].indexOf((E=(b=f[117])==null?void 0:b.type)==null?void 0:E.toLowerCase())!==-1&&!f[117].fk?"text-right":"")&&m(n,"class",o)},d(f){f&&B(n),c.d()}}}function rn(l){let n,e,i,t,_,o,u,r,c,f,d,b,E,O,I,w,T,A,P,R,G,W,q,le,k,Z,g;_=new Ee({props:{type:"outline",icon:"pencil-alt",path:"icons"}});function Te(){return l[86](l[120])}E=new Ee({props:{type:"outline",icon:"trash",path:"icons"}});function X(){return l[87](l[120])}let $=Ce(l[24]),V=[];for(let U=0;U<$.length;U+=1)V[U]=un(Tl(l,$,U));const j=U=>C(V[U],1,1,()=>{V[U]=null});q=new Ee({props:{type:"outline",icon:"dots-vertical",path:"icons"}});function a(){return l[89](l[120])}return{c(){var U,F,K,x,Qe,oe,He,We;n=p("td"),e=p("div"),i=p("button"),t=p("span"),ae(_.$$.fragment),r=H(),c=p("td"),f=p("div"),d=p("button"),b=p("span"),ae(E.$$.fragment),w=H();for(let J=0;J<V.length;J+=1)V[J].c();T=H(),A=p("td"),P=p("div"),R=p("div"),G=p("button"),W=p("span"),ae(q.$$.fragment),m(t,"class","w-5"),m(i,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),i.disabled=o=!l[46]((U=l[25])==null?void 0:U.user,(x=(K=(F=l[25])==null?void 0:F.tables)==null?void 0:K[l[3]])==null?void 0:x.permissions,"update",l[120]),m(e,"class","tooltip"),m(e,"data-tip",u=l[26].t("crud.edit")),m(n,"class","text-center w-8 p-0.5"),m(b,"class","w-5"),m(d,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),d.disabled=O=!l[46]((Qe=l[25])==null?void 0:Qe.user,(We=(He=(oe=l[25])==null?void 0:oe.tables)==null?void 0:He[l[3]])==null?void 0:We.permissions,"delete",l[120]),m(f,"class","tooltip"),m(f,"data-tip",I=l[26].t("crud.delete")),m(c,"class","text-center w-8 p-0.5"),m(W,"class","w-5 h-5"),m(G,"class","btn btn-circle btn-ghost btn-sm"),m(R,"class","tooltip tooltip-left"),m(R,"data-tip",le=l[26].t("crud.more")),m(P,"class","dropdown dropdown-end"),m(A,"class","text-center w-8 p-0.5")},m(U,F){S(U,n,F),h(n,e),h(e,i),h(i,t),me(_,t,null),S(U,r,F),S(U,c,F),h(c,f),h(f,d),h(d,b),me(E,b,null),S(U,w,F);for(let K=0;K<V.length;K+=1)V[K]&&V[K].m(U,F);S(U,T,F),S(U,A,F),h(A,P),h(P,R),h(R,G),h(G,W),me(q,W,null),k=!0,Z||(g=[re(i,"click",Te),re(d,"click",X),re(G,"click",a)],Z=!0)},p(U,F){var K,x,Qe,oe,He,We,J,ne;if(l=U,(!k||F[0]&33619976&&o!==(o=!l[46]((K=l[25])==null?void 0:K.user,(oe=(Qe=(x=l[25])==null?void 0:x.tables)==null?void 0:Qe[l[3]])==null?void 0:oe.permissions,"update",l[120])))&&(i.disabled=o),(!k||F[0]&67108864&&u!==(u=l[26].t("crud.edit")))&&m(e,"data-tip",u),(!k||F[0]&33619976&&O!==(O=!l[46]((He=l[25])==null?void 0:He.user,(ne=(J=(We=l[25])==null?void 0:We.tables)==null?void 0:J[l[3]])==null?void 0:ne.permissions,"delete",l[120])))&&(d.disabled=O),(!k||F[0]&67108864&&I!==(I=l[26].t("crud.delete")))&&m(f,"data-tip",I),F[0]&117506056|F[1]&40960){$=Ce(l[24]);let ue;for(ue=0;ue<$.length;ue+=1){const Ue=Tl(l,$,ue);V[ue]?(V[ue].p(Ue,F),v(V[ue],1)):(V[ue]=un(Ue),V[ue].c(),v(V[ue],1),V[ue].m(T.parentNode,T))}for(Oe(),ue=$.length;ue<V.length;ue+=1)j(ue);Le()}(!k||F[0]&67108864&&le!==(le=l[26].t("crud.more")))&&m(R,"data-tip",le)},i(U){if(!k){v(_.$$.fragment,U),v(E.$$.fragment,U);for(let F=0;F<$.length;F+=1)v(V[F]);v(q.$$.fragment,U),k=!0}},o(U){C(_.$$.fragment,U),C(E.$$.fragment,U),V=V.filter(Boolean);for(let F=0;F<V.length;F+=1)C(V[F]);C(q.$$.fragment,U),k=!1},d(U){U&&(B(n),B(r),B(c),B(w),B(T),B(A)),de(_),de(E),wt(V,U),de(q),Z=!1,xt(g)}}}function on(l){let n,e,i,t,_,o,u,r,c,f;_=new Ee({props:{type:"outline",icon:l[123].icon||"table",path:"icons"}});function d(){return l[88](l[123],l[120])}return{c(){var b,E,O,I;n=p("td"),e=p("div"),i=p("button"),t=p("span"),ae(_.$$.fragment),m(t,"class","w-5"),m(i,"class","btn btn-circle btn-ghost btn-sm m-0 text-xs"),i.disabled=o=!l[46]((b=l[25])==null?void 0:b.user,(I=(O=(E=l[25])==null?void 0:E.tables)==null?void 0:O[l[3]])==null?void 0:I.permissions,"read"),m(e,"class","tooltip"),m(e,"data-tip",u=l[26].t(`crud.${l[123].label}`)),m(n,"class","text-center w-8 p-0.5")},m(b,E){S(b,n,E),h(n,e),h(e,i),h(i,t),me(_,t,null),r=!0,c||(f=re(i,"click",d),c=!0)},p(b,E){var I,w,T,A;l=b;const O={};E[0]&16777216&&(O.icon=l[123].icon||"table"),_.$set(O),(!r||E[0]&33554440&&o!==(o=!l[46]((I=l[25])==null?void 0:I.user,(A=(T=(w=l[25])==null?void 0:w.tables)==null?void 0:T[l[3]])==null?void 0:A.permissions,"read")))&&(i.disabled=o),(!r||E[0]&83886080&&u!==(u=l[26].t(`crud.${l[123].label}`)))&&m(e,"data-tip",u)},i(b){r||(v(_.$$.fragment,b),r=!0)},o(b){C(_.$$.fragment,b),r=!1},d(b){b&&B(n),de(_),c=!1,f()}}}function un(l){let n,e,i=!l[123].not_row_centred&&on(l);return{c(){i&&i.c(),n=dt()},m(t,_){i&&i.m(t,_),S(t,n,_),e=!0},p(t,_){t[123].not_row_centred?i&&(Oe(),C(i,1,1,()=>{i=null}),Le()):i?(i.p(t,_),_[0]&16777216&&v(i,1)):(i=on(t),i.c(),v(i,1),i.m(n.parentNode,n))},i(t){e||(v(i),e=!0)},o(t){C(i),e=!1},d(t){t&&B(n),i&&i.d(t)}}}function fn(l){var E,O,I,w;let n,e,i,t,_,o,u,r=l[6]&&ln(l),c=l[5]&&nn(l),f=Ce(l[28](ge.cloneDeep((O=(E=l[25])==null?void 0:E.tables)==null?void 0:O[l[3]])||((w=(I=l[16])==null?void 0:I.data)==null?void 0:w[0])||{},l[21]||{})),d=[];for(let T=0;T<f.length;T+=1)d[T]=sn(Al(l,f,T));let b=l[7]&&rn(l);return{c(){n=p("tr"),r&&r.c(),e=H(),c&&c.c(),i=H();for(let T=0;T<d.length;T+=1)d[T].c();t=H(),b&&b.c(),_=H(),m(n,"class",o="hover "+(l[120].selected?"active":""))},m(T,A){S(T,n,A),r&&r.m(n,null),h(n,e),c&&c.m(n,null),h(n,i);for(let P=0;P<d.length;P+=1)d[P]&&d[P].m(n,null);h(n,t),b&&b.m(n,null),h(n,_),u=!0},p(T,A){var P,R,G,W;if(T[6]?r||(r=ln(T),r.c(),r.m(n,e)):r&&(r.d(1),r=null),T[5]?c?c.p(T,A):(c=nn(T),c.c(),c.m(n,i)):c&&(c.d(1),c=null),A[0]&371261448|A[1]&32){f=Ce(T[28](ge.cloneDeep((R=(P=T[25])==null?void 0:P.tables)==null?void 0:R[T[3]])||((W=(G=T[16])==null?void 0:G.data)==null?void 0:W[0])||{},T[21]||{}));let q;for(q=0;q<f.length;q+=1){const le=Al(T,f,q);d[q]?d[q].p(le,A):(d[q]=sn(le),d[q].c(),d[q].m(n,t))}for(;q<d.length;q+=1)d[q].d(1);d.length=f.length}T[7]?b?(b.p(T,A),A[0]&128&&v(b,1)):(b=rn(T),b.c(),v(b,1),b.m(n,_)):b&&(Oe(),C(b,1,1,()=>{b=null}),Le()),(!u||A[0]&65536&&o!==(o="hover "+(T[120].selected?"active":"")))&&m(n,"class",o)},i(T){u||(v(b),u=!0)},o(T){C(b),u=!1},d(T){T&&B(n),r&&r.d(),c&&c.d(),wt(d,T),b&&b.d()}}}function _n(l){let n;return{c(){n=p("td"),n.innerHTML='<div class="h-6 w-full bg-base-200 rounded"></div>'},m(e,i){S(e,n,i)},p:_l,d(e){e&&B(n)}}}function cn(l){var I,w,T,A;let n,e,i,t,_,o,u,r,c,f,d,b,E=Ce(l[28](ge.cloneDeep((w=(I=l[25])==null?void 0:I.tables)==null?void 0:w[l[3]])||((A=(T=l[16])==null?void 0:T.data)==null?void 0:A[0])||{},l[21]||{})),O=[];for(let P=0;P<E.length;P+=1)O[P]=_n(Pl(l,E,P));return{c(){n=p("tr"),e=p("th"),e.innerHTML='<div class="rounded bg-base-200 h-6 w-6"></div>',i=H(),t=p("th"),t.innerHTML='<div class="rounded bg-base-200 h-6 w-6"></div>',_=H();for(let P=0;P<O.length;P+=1)O[P].c();o=H(),u=p("th"),u.innerHTML='<div class="rounded-full bg-base-200 h-6 w-6"></div>',r=H(),c=p("th"),c.innerHTML='<div class="rounded-full bg-base-200 h-6 w-6"></div>',f=H(),d=p("th"),d.innerHTML='<div class="rounded-full bg-base-200 h-6 w-6"></div>',b=H(),m(n,"class","animate-pulse")},m(P,R){S(P,n,R),h(n,e),h(n,i),h(n,t),h(n,_);for(let G=0;G<O.length;G+=1)O[G]&&O[G].m(n,null);h(n,o),h(n,u),h(n,r),h(n,c),h(n,f),h(n,d),h(n,b)},p(P,R){var G,W,q,le;if(R[0]&35717128){E=Ce(P[28](ge.cloneDeep((W=(G=P[25])==null?void 0:G.tables)==null?void 0:W[P[3]])||((le=(q=P[16])==null?void 0:q.data)==null?void 0:le[0])||{},P[21]||{}));let k;for(k=0;k<E.length;k+=1){const Z=Pl(P,E,k);O[k]?O[k].p(Z,R):(O[k]=_n(),O[k].c(),O[k].m(n,o))}for(;k<O.length;k+=1)O[k].d(1);O.length=E.length}},d(P){P&&B(n),wt(O,P)}}}function an(l){let n,e;const i=[l[18]];let t={};for(let _=0;_<i.length;_+=1)t=wn(t,i[_]);return n=new An({props:t}),n.$on("dismiss",l[92]),{c(){ae(n.$$.fragment)},m(_,o){me(n,_,o),e=!0},p(_,o){const u=o[0]&262144?En(i,[vn(_[18])]):{};n.$set(u)},i(_){e||(v(n.$$.fragment,_),e=!0)},o(_){C(n.$$.fragment,_),e=!1},d(_){de(n,_)}}}function mn(l){let n,e;const i=[l[18]];let t={};for(let _=0;_<i.length;_+=1)t=wn(t,i[_]);return n=new jn({props:t}),n.$on("dismiss",l[93]),{c(){ae(n.$$.fragment)},m(_,o){me(n,_,o),e=!0},p(_,o){const u=o[0]&262144?En(i,[vn(_[18])]):{};n.$set(u)},i(_){e||(v(n.$$.fragment,_),e=!0)},o(_){C(n.$$.fragment,_),e=!1},d(_){de(n,_)}}}function dn(l){let n,e;return n=new Rn({props:{open:l[20]}}),{c(){ae(n.$$.fragment)},m(i,t){me(n,i,t),e=!0},p(i,t){const _={};t[0]&1048576&&(_.open=i[20]),n.$set(_)},i(i){e||(v(n.$$.fragment,i),e=!0)},o(i){C(n.$$.fragment,i),e=!1},d(i){de(n,i)}}}function xn(l){var Ct,Fe,Yt,Wt,Ot,Pe,$t,M,y,ht,Nt,Mt;let n,e,i,t=(l[13]>1?"":l[2]||((Yt=(Fe=(Ct=l[25])==null?void 0:Ct.tables)==null?void 0:Fe[l[3]])==null?void 0:Yt.comment)||l[3])+"",_,o,u,r,c,f,d,b,E=((Wt=l[22])==null?void 0:Wt.length)+"",O,I,w,T,A,P,R,G,W,q,le,k,Z,g,Te=l[37]((Ot=l[16])==null?void 0:Ot.data).length>0,X,$,V,j,a,U,F,K,x,Qe,oe,He,We,J,ne,ue,Ue,Ve,Ae,_t,tt,Ze,ct,fe,rt,ye,ut,Ne,Je,Et;T=new Ee({props:{type:"outline",icon:"adjustments",path:"icons"}}),k=new Ee({props:{type:"outline",icon:"refresh",path:"icons"}});let Re=l[7]&&zl(l),we=Te&&Sl(l),he=Ce(l[24]),ke=[];for(let L=0;L<he.length;L+=1)ke[L]=ql(Ml(l,he,L));const vt=L=>C(ke[L],1,1,()=>{ke[L]=null});let Me=l[7]&&Fl(l),De=(l[10]||l[12])&&((Pe=l[4])==null?void 0:Pe.dismiss_modal)&&Wl(l),ot=l[6]&&Zl(),Xe=l[5]&&yl(l),Dt=Ce(l[28](ge.cloneDeep((M=($t=l[25])==null?void 0:$t.tables)==null?void 0:M[l[3]])||((ht=(y=l[16])==null?void 0:y.data)==null?void 0:ht[0])||{},l[21]||{})),$e=[];for(let L=0;L<Dt.length;L+=1)$e[L]=$l(Vl(l,Dt,L));let xe=l[7]&&xl(),lt=Ce(l[24]),Ye=[];for(let L=0;L<lt.length;L+=1)Ye[L]=tn(Il(l,lt,L));const pt=[qn,Jn],nt=[];function Vt(L,Y){return L[19]?0:1}Ve=Vt(l),Ae=nt[Ve]=pt[Ve](l),Ze=new Mn({props:{lang:(Nt=l[25])==null?void 0:Nt.lang,conf:(Mt=l[25])==null?void 0:Mt.conf,rows_per_page:l[0],page:l[1],total_rows:l[16].total}}),Ze.$on("pageChange",l[90]),fe=new Ln({props:{open:l[17].open,type:l[17].type,msg:l[17].msg,timer:2e4}}),fe.$on("dismiss",l[91]);let je=l[18].open&&an(l),ze=l[18].open_dialog&&mn(l),qe=l[20]&&dn(l);return{c(){var L,Y,ve,ft;n=p("div"),e=p("div"),i=p("div"),_=Se(t),o=H(),u=p("div"),r=H(),c=p("div"),f=p("div"),d=p("button"),b=p("div"),O=Se(E),I=H(),w=p("span"),ae(T.$$.fragment),P=H(),R=p("input"),W=H(),q=p("button"),le=p("span"),ae(k.$$.fragment),Z=H(),Re&&Re.c(),g=H(),we&&we.c(),X=H();for(let Ge=0;Ge<ke.length;Ge+=1)ke[Ge].c();$=H(),Me&&Me.c(),V=H(),De&&De.c(),j=H(),a=p("div"),U=H(),F=p("div"),K=p("div"),x=p("table"),Qe=p("thead"),oe=p("tr"),ot&&ot.c(),He=H(),Xe&&Xe.c(),We=H();for(let Ge=0;Ge<$e.length;Ge+=1)$e[Ge].c();J=H(),xe&&xe.c(),ne=H();for(let Ge=0;Ge<Ye.length;Ge+=1)Ye[Ge].c();ue=H(),Ue=p("tbody"),Ae.c(),tt=H(),ae(Ze.$$.fragment),ct=H(),ae(fe.$$.fragment),rt=H(),je&&je.c(),ye=H(),ze&&ze.c(),ut=H(),qe&&qe.c(),m(i,"class","flex-none"),m(u,"class","flex-1"),m(b,"class","badge badge-info badge-xs text-xs absolute -top-1 -right-1 z-[1]"),Gt(b,"display",((L=l[22])==null?void 0:L.length)>0?null:"none"),m(w,"class","w-5 h-5"),m(d,"class","btn btn-square btn-ghost btn-sm -mr-8 z-[1] relative"),m(d,"title",A=`${l[26].t("crud.advanced_search")}`),m(R,"type","text"),m(R,"placeholder",G=`${l[26].t("crud.search")} - ${((ft=(ve=(Y=l[25])==null?void 0:Y.tables)==null?void 0:ve[l[3]])==null?void 0:ft.comment)||l[3]}`),m(R,"class","input input-sm input-bordered w-full pl-8 pr-8"),m(le,"class","w-5 h-5"),m(q,"class","btn btn-square btn-ghost btn-sm -ml-8 z-[1]"),m(f,"class","w-72 flex flex-row"),m(c,"class","flex-none gap-2"),m(e,"class","navbar w-full p-2 min-h-0"),m(a,"class","divider p-0 m-0 h-0.5"),m(x,"class",_t="table table-zebra w-[98%] m-0 normal-case "+(l[8]?"table-xs":"")),m(K,"class","overflow-x-auto"),m(F,"class","w-full p-2 grow overflow-x-hidden overflow-y-auto"),m(n,"class","w-full flex flex-col")},m(L,Y){S(L,n,Y),h(n,e),h(e,i),h(i,_),h(e,o),h(e,u),h(e,r),h(e,c),h(c,f),h(f,d),h(d,b),h(b,O),h(d,I),h(d,w),me(T,w,null),h(f,P),h(f,R),cl(R,l[15]),h(f,W),h(f,q),h(q,le),me(k,le,null),h(c,Z),Re&&Re.m(c,null),h(c,g),we&&we.m(c,null),h(c,X);for(let ve=0;ve<ke.length;ve+=1)ke[ve]&&ke[ve].m(c,null);h(c,$),Me&&Me.m(c,null),h(c,V),De&&De.m(c,null),h(n,j),h(n,a),h(n,U),h(n,F),h(F,K),h(K,x),h(x,Qe),h(Qe,oe),ot&&ot.m(oe,null),h(oe,He),Xe&&Xe.m(oe,null),h(oe,We);for(let ve=0;ve<$e.length;ve+=1)$e[ve]&&$e[ve].m(oe,null);h(oe,J),xe&&xe.m(oe,null),h(oe,ne);for(let ve=0;ve<Ye.length;ve+=1)Ye[ve]&&Ye[ve].m(oe,null);h(x,ue),h(x,Ue),nt[Ve].m(Ue,null),h(F,tt),me(Ze,F,null),h(n,ct),me(fe,n,null),h(n,rt),je&&je.m(n,null),h(n,ye),ze&&ze.m(n,null),h(n,ut),qe&&qe.m(n,null),Ne=!0,Je||(Et=[re(d,"click",l[55]),re(R,"input",l[56]),re(R,"keyup",l[57]),re(q,"click",l[58])],Je=!0)},p(L,Y){var jt,zt,St,Bt,Ht,Jt,qt,Tt,Zt,et,yt,tl,ll,nl,sl,il;if((!Ne||Y[0]&33562636)&&t!==(t=(L[13]>1?"":L[2]||((St=(zt=(jt=L[25])==null?void 0:jt.tables)==null?void 0:zt[L[3]])==null?void 0:St.comment)||L[3])+"")&&Be(_,t),(!Ne||Y[0]&4194304)&&E!==(E=((Bt=L[22])==null?void 0:Bt.length)+"")&&Be(O,E),Y[0]&4194304&&Gt(b,"display",((Ht=L[22])==null?void 0:Ht.length)>0?null:"none"),(!Ne||Y[0]&67108864&&A!==(A=`${L[26].t("crud.advanced_search")}`))&&m(d,"title",A),(!Ne||Y[0]&100663304&&G!==(G=`${L[26].t("crud.search")} - ${((Tt=(qt=(Jt=L[25])==null?void 0:Jt.tables)==null?void 0:qt[L[3]])==null?void 0:Tt.comment)||L[3]}`))&&m(R,"placeholder",G),Y[0]&32768&&R.value!==L[15]&&cl(R,L[15]),L[7]?Re?(Re.p(L,Y),Y[0]&128&&v(Re,1)):(Re=zl(L),Re.c(),v(Re,1),Re.m(c,g)):Re&&(Oe(),C(Re,1,1,()=>{Re=null}),Le()),Y[0]&65536&&(Te=L[37]((Zt=L[16])==null?void 0:Zt.data).length>0),Te?we?(we.p(L,Y),Y[0]&65536&&v(we,1)):(we=Sl(L),we.c(),v(we,1),we.m(c,X)):we&&(Oe(),C(we,1,1,()=>{we=null}),Le()),Y[0]&117508616|Y[1]&41024){he=Ce(L[24]);let se;for(se=0;se<he.length;se+=1){const Ft=Ml(L,he,se);ke[se]?(ke[se].p(Ft,Y),v(ke[se],1)):(ke[se]=ql(Ft),ke[se].c(),v(ke[se],1),ke[se].m(c,$))}for(Oe(),se=he.length;se<ke.length;se+=1)vt(se);Le()}if(L[7]?Me?(Me.p(L,Y),Y[0]&128&&v(Me,1)):(Me=Fl(L),Me.c(),v(Me,1),Me.m(c,V)):Me&&(Oe(),C(Me,1,1,()=>{Me=null}),Le()),(L[10]||L[12])&&((et=L[4])!=null&&et.dismiss_modal)?De?(De.p(L,Y),Y[0]&5136&&v(De,1)):(De=Wl(L),De.c(),v(De,1),De.m(c,null)):De&&(Oe(),C(De,1,1,()=>{De=null}),Le()),L[6]?ot||(ot=Zl(),ot.c(),ot.m(oe,He)):ot&&(ot.d(1),ot=null),L[5]?Xe?Xe.p(L,Y):(Xe=yl(L),Xe.c(),Xe.m(oe,We)):Xe&&(Xe.d(1),Xe=null),Y[0]&304152584){Dt=Ce(L[28](ge.cloneDeep((tl=(yt=L[25])==null?void 0:yt.tables)==null?void 0:tl[L[3]])||((nl=(ll=L[16])==null?void 0:ll.data)==null?void 0:nl[0])||{},L[21]||{}));let se;for(se=0;se<Dt.length;se+=1){const Ft=Vl(L,Dt,se);$e[se]?$e[se].p(Ft,Y):($e[se]=$l(Ft),$e[se].c(),$e[se].m(oe,J))}for(;se<$e.length;se+=1)$e[se].d(1);$e.length=Dt.length}if(L[7]?xe||(xe=xl(),xe.c(),xe.m(oe,ne)):xe&&(xe.d(1),xe=null),Y[0]&16777216){lt=Ce(L[24]);let se;for(se=0;se<lt.length;se+=1){const Ft=Il(L,lt,se);Ye[se]?Ye[se].p(Ft,Y):(Ye[se]=tn(Ft),Ye[se].c(),Ye[se].m(oe,null))}for(;se<Ye.length;se+=1)Ye[se].d(1);Ye.length=lt.length}let ve=Ve;Ve=Vt(L),Ve===ve?nt[Ve].p(L,Y):(Oe(),C(nt[ve],1,1,()=>{nt[ve]=null}),Le(),Ae=nt[Ve],Ae?Ae.p(L,Y):(Ae=nt[Ve]=pt[Ve](L),Ae.c()),v(Ae,1),Ae.m(Ue,null)),(!Ne||Y[0]&256&&_t!==(_t="table table-zebra w-[98%] m-0 normal-case "+(L[8]?"table-xs":"")))&&m(x,"class",_t);const ft={};Y[0]&33554432&&(ft.lang=(sl=L[25])==null?void 0:sl.lang),Y[0]&33554432&&(ft.conf=(il=L[25])==null?void 0:il.conf),Y[0]&1&&(ft.rows_per_page=L[0]),Y[0]&2&&(ft.page=L[1]),Y[0]&65536&&(ft.total_rows=L[16].total),Ze.$set(ft);const Ge={};Y[0]&131072&&(Ge.open=L[17].open),Y[0]&131072&&(Ge.type=L[17].type),Y[0]&131072&&(Ge.msg=L[17].msg),fe.$set(Ge),L[18].open?je?(je.p(L,Y),Y[0]&262144&&v(je,1)):(je=an(L),je.c(),v(je,1),je.m(n,ye)):je&&(Oe(),C(je,1,1,()=>{je=null}),Le()),L[18].open_dialog?ze?(ze.p(L,Y),Y[0]&262144&&v(ze,1)):(ze=mn(L),ze.c(),v(ze,1),ze.m(n,ut)):ze&&(Oe(),C(ze,1,1,()=>{ze=null}),Le()),L[20]?qe?(qe.p(L,Y),Y[0]&1048576&&v(qe,1)):(qe=dn(L),qe.c(),v(qe,1),qe.m(n,null)):qe&&(Oe(),C(qe,1,1,()=>{qe=null}),Le())},i(L){if(!Ne){v(T.$$.fragment,L),v(k.$$.fragment,L),v(Re),v(we);for(let Y=0;Y<he.length;Y+=1)v(ke[Y]);v(Me),v(De),v(Ae),v(Ze.$$.fragment,L),v(fe.$$.fragment,L),v(je),v(ze),v(qe),Ne=!0}},o(L){C(T.$$.fragment,L),C(k.$$.fragment,L),C(Re),C(we),ke=ke.filter(Boolean);for(let Y=0;Y<ke.length;Y+=1)C(ke[Y]);C(Me),C(De),C(Ae),C(Ze.$$.fragment,L),C(fe.$$.fragment,L),C(je),C(ze),C(qe),Ne=!1},d(L){L&&B(n),de(T),de(k),Re&&Re.d(),we&&we.d(),wt(ke,L),Me&&Me.d(),De&&De.d(),ot&&ot.d(),Xe&&Xe.d(),wt($e,L),xe&&xe.d(),wt(Ye,L),nt[Ve].d(),de(Ze),de(fe),je&&je.d(),ze&&ze.d(),qe&&qe.d(),Je=!1,xt(Et)}}}function es(l,n,e){let i,t,_;el(l,al,s=>e(54,i=s)),el(l,fl,s=>e(25,t=s)),el(l,gn,s=>e(26,_=s)),Tn();let{_id:o=null}=n,{label:u=null}=n,{table:r}=n,{menu:c={}}=n,{actions:f={}}=n,{action:d={}}=n,{has_check:b=!0}=n,{has_numbering:E=!1}=n,{has_actions:O=!0}=n,{table_compact:I=!0}=n,{aux_data:w={}}=n,{is_fk:T=!1}=n,{main_pk_id:A=null}=n,{main_table:P=null}=n,{is_subform:R=!1}=n,{is_submenu:G=!1}=n,{limit:W=10}=n,{offset:q=0}=n,{n_tabs:le=1}=n,{opts:k}=n,{populate_subform:Z=void 0}=n,g={};const Te=`key_${Math.floor(Math.random()*Date.now())}`;let X,$="",V={},j={open:!1,msg:null,type:null},a={open:!1,width:12,heigth:85,header:!0,title:"Dialog Title",header_actions:[],component:null},U=!1,F=!1,K={},x={},Qe=[],oe=[],He=[],We=[],J={format:"csv",name:"export",compress:!1,compress_format:"gz",display_fields:"interface_fields",records:"all_records",column_names:"comments"},ne=[];const ue=async s=>{var z,ee,ie,_e,pe;s.no_loding||e(19,U=!0);const D={lang:t==null?void 0:t.lang,conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,app:t==null?void 0:t.selected_app,table:s.table||r,limit:(k==null?void 0:k.limit)||(s==null?void 0:s.limit)||W,offset:(s.offset||q)*(s.limit||W),pattern:(k==null?void 0:k.pattern)||s.pattern||$,order_by:(k==null?void 0:k.order_by)||s.order_by||(Qe.length>0?Qe:(z=K==null?void 0:K.layout)==null?void 0:z.default_order),filters:(k==null?void 0:k.filters)||s.filters||(oe.length>0?oe:null),fields:(k!=null&&k.fields?typeof(k==null?void 0:k.fields)=="string"?k==null?void 0:k.fields.split(";"):k==null?void 0:k.fields:null)||s.fields,distinct:(k==null?void 0:k.distinct)||s.distinct,database:(k==null?void 0:k.database)||s.database};if((He==null?void 0:He.length)>0&&(D.filters=[...D.filters||[],...He.filter(be=>!be.deactivate)]),s.return_params)return D;if(!(D!=null&&D.table))return null;const N=await Pn(D);if(console.log("read data:",N),N.success===!0&&N.data){e(16,V=N),((ee=N==null?void 0:N.data)==null?void 0:ee.length)===0&&((ie=Z||[])==null?void 0:ie.length)>0&&e(16,V={...N,data:Z});const be=[];if((_e=t==null?void 0:t.tables)!=null&&_e.custom_table||be.push("custom_table"),(pe=t==null?void 0:t.tables)!=null&&pe.custom_form||be.push("custom_form"),be.length>0){const ce=await Ue({table:be,app:{app_id:1,app:"ADMIN"}});fl.set({...t,tables:{...t==null?void 0:t.tables,...ce}})}}else e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=N.msg,j);e(19,U=!1)},Ue=async s=>{e(19,U=!0);try{const D={lang:s.lang||(t==null?void 0:t.lang),conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,app:s.app||(t==null?void 0:t.selected_app),table:s.table},N=await In(D);if(e(19,U=!1),N.success===!0&&N.data)return N.data;e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=N.msg,j)}catch(D){e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=D.message,j)}e(19,U=!1)},Ve=s=>{var z,ee,ie,_e,pe,be,ce,st,it,gt,At,Ke,kt,Rt,Pt,It,bt,Ut,Xt,Kt,Ie;const D=[],N=Object.keys(s);if((z=t==null?void 0:t.tables)!=null&&z[r])for(const te in s){if(k!=null&&k.fields){if(((ie=k==null?void 0:k.fields)==null?void 0:ie.indexOf(te))===-1)continue}if(Object.hasOwnProperty.call(s,te)){if(s[te].pk)continue;if(s[te].fk){if(N.includes((pe=(_e=s[te])==null?void 0:_e.ref)==null?void 0:pe.referred_columns_desc))continue;D.push(Object.assign(s[te],{org_name:te,name:(ce=(be=s[te])==null?void 0:be.ref)==null?void 0:ce.referred_columns_desc,referred_table:((it=(st=s[te])==null?void 0:st.ref)==null?void 0:it.referred_table)||((gt=s[te])==null?void 0:gt.referred_table),comment:(Xt=(Ut=(Pt=(Rt=t==null?void 0:t.tables)==null?void 0:Rt[((Ke=(At=s[te])==null?void 0:At.ref)==null?void 0:Ke.referred_table)||((kt=s[te])==null?void 0:kt.referred_table)])==null?void 0:Pt.fields)==null?void 0:Ut[(bt=(It=s[te])==null?void 0:It.ref)==null?void 0:bt.referred_columns_desc])==null?void 0:Xt.comment,referred_column:(Ie=(Kt=s[te])==null?void 0:Kt.ref)==null?void 0:Ie.referred_column}))}else D.push(s[te])}}else for(const te in s){if(console.log(te,k==null?void 0:k.fields),k!=null&&k.fields){if(((ee=k==null?void 0:k.fields)==null?void 0:ee.indexOf(te))===-1)continue}D.push({name:te})}return D},Ae=(s,D)=>{var ee,ie,_e,pe,be,ce,st,it,gt,At,Ke,kt,Rt,Pt,It,bt,Ut,Xt,Kt;let N={};((ee=s==null?void 0:s.fields_order)==null?void 0:ee.length)>0&&(s!=null&&s.fields)?s==null||s.fields_order.forEach(Ie=>{var te;N[Ie]=(te=s==null?void 0:s.fields)==null?void 0:te[Ie]}):s!=null&&s.fields?N=s==null?void 0:s.fields:N=s;let z=[];if(D!=null&&D.fields){const Ie={};Ve(N).forEach(te=>{Ie[te.name]=te});for(const te in D.fields)if(Object.hasOwnProperty.call(D.fields,te)&&(Ie!=null&&Ie[te])){if((ie=Ie==null?void 0:Ie[te])!=null&&ie.pk)continue;if(D.fields[te].display){const Lt=Object.assign(D.fields[te],Ie[te]);(_e=Ie==null?void 0:Ie[te])!=null&&_e.fk?z.push(Object.assign(Lt,{org_name:te,name:(be=(pe=Ie[te])==null?void 0:pe.ref)==null?void 0:be.referred_columns_desc,referred_table:((st=(ce=Ie[te])==null?void 0:ce.ref)==null?void 0:st.referred_table)||((it=Ie[te])==null?void 0:it.referred_table),comment:(Ut=(bt=(Rt=(kt=t==null?void 0:t.tables)==null?void 0:kt[((At=(gt=Ie[te])==null?void 0:gt.ref)==null?void 0:At.referred_table)||((Ke=Ie[te])==null?void 0:Ke.referred_table)])==null?void 0:Rt.fields)==null?void 0:bt[(It=(Pt=Ie[te])==null?void 0:Pt.ref)==null?void 0:It.referred_columns_desc])==null?void 0:Ut.comment,referred_column:(Kt=(Xt=Ie[te])==null?void 0:Xt.ref)==null?void 0:Kt.referred_column})):z.push(Object.assign({},Lt))}else continue}}else z=Ve(N);return z},_t=s=>{console.log(s),s.type==="next"?e(1,q+=1):s.type==="back"?e(1,q-=1):s.type==="first"?e(1,q=0):s.type==="last"?e(1,q=Math.ceil(((V==null?void 0:V.total)||0)/(W||1))-1):s.type==="rows_per_page"&&(e(0,W=s.rows_per_page),e(1,q=0))},tt=(s,D)=>{X&&(console.log("clearing the timer",X,s,D),clearTimeout(X)),X=setTimeout(()=>{ue({table:r,limit:W,offset:q,pattern:s})},D||1e3)},Ze=s=>{e(16,V.data=((V==null?void 0:V.data)||[]).map(D=>(D.selected=s,D)),V)},ct=s=>{f!=null&&f.fk_table_item_selected&&T&&(console.log(s,f),f==null||f.fk_table_item_selected({data:s,field:w.field}))},fe=s=>{e(18,a={})},rt=s=>{console.log("custom_table_config:",s),s&&e(21,K=Object.assign({},s))},ye=async s=>{var D,N;try{console.log({payload:s}),e(20,F=!0),e(18,a.header_actions=[{type:"icon",icon:"save",name:"save",label:_.t("crud.save"),action:rt}],a),e(18,a.actions=null,a),e(18,a.msg=null,a),e(18,a.html_msg=null,a),e(18,a.component=(await Q(async()=>{const{default:z}=await import("./TableCustomization-CozvkMK8.js");return{default:z}},__vite__mapDeps([0,1,2,3,4]),import.meta.url)).default,a),e(18,a.title=`${_.t("crud.table_customization")} - ${(N=(D=t==null?void 0:t.tables)==null?void 0:D[r])==null?void 0:N.comment}`,a),e(18,a.data={table:r},a),e(18,a.width=10,a),e(18,a.open=!0,a),e(20,F=!1)}catch(z){e(20,F=!1),console.log(z.message),e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=z.message,j)}},ut=s=>{console.log("after_save_form:",s),tt($,1),fe()},Ne=s=>{console.log("custom_form_config:",s),s&&(x=Object.assign({},s))},Je=async s=>{var D,N,z,ee,ie,_e,pe,be,ce,st,it,gt,At;try{s.closeModal===!0&&fe();const Ke=ge.cloneDeep(s.data||{});s.clone===!0&&(Ke._original_pk=Ke[(N=(D=t==null?void 0:t.tables)==null?void 0:D[r])==null?void 0:N.pk],delete Ke[(ee=(z=t==null?void 0:t.tables)==null?void 0:z[r])==null?void 0:ee.pk],Ke.clone=!0),R===!0&&P&&!(s!=null&&s.open_in_tab)&&(s.open_in_pop_up=!0);let kt=`${_.t("crud.add")} - ${(_e=(ie=t==null?void 0:t.tables)==null?void 0:ie[s.table])==null?void 0:_e.comment}`,Rt="intercept_c";Ke!=null&&Ke[(be=(pe=t==null?void 0:t.tables)==null?void 0:pe[r])==null?void 0:be.pk]&&(kt=`${_.t("crud.edit")} - ${(st=(ce=t==null?void 0:t.tables)==null?void 0:ce[s.table])==null?void 0:st.comment}`,Rt="intercept_u");const Pt=ne.filter(bt=>bt==null?void 0:bt[Rt]);if(Pt.length>0)return nt({table:r,e:ge.cloneDeep(Pt[0]),data:Ke}),null;e(20,F=!0);const It=(await Q(async()=>{const{default:bt}=await import("./GlobalForm-Bc29ldck.js");return{default:bt}},__vite__mapDeps([5,1,2,3,6]),import.meta.url)).default;!((it=t==null?void 0:t.conf)!=null&&it.forms_in_tab)&&!(f!=null&&f.show_in_tabs)&&!((gt=x==null?void 0:x.layout)!=null&&gt.form_in_popup)||s.open_in_pop_up||!(f!=null&&f.show_in_tabs)?(e(18,a.actions=null,a),e(18,a.component=It,a),e(18,a.msg=null,a),e(18,a.html_msg=null,a),e(18,a.header_actions=[{type:"icon",icon:"cog-8-tooth",name:"form_customization",label:_.t("crud.form_customization"),action:Ne},{type:"icon",icon:"save",name:"save",label:_.t("crud.save"),action:ut}],a),e(18,a.title=kt,a),e(18,a.data={table:(s==null?void 0:s.table)||r,data:Ke,aux_data:ge.cloneDeep(w==null?void 0:w.data),main_table:P},a),e(18,a.width=((At=x==null?void 0:x.layout)==null?void 0:At.size)||10,a),e(18,a.heigth=99,a),e(18,a.open=!0,a)):f.show_in_tabs({component:It,label:kt,header_actions:[{type:"icon",icon:"cog-8-tooth",name:"form_customization",label:_.t("crud.form_customization"),action:Ne},{type:"icon",icon:"save",name:"save",label:_.t("crud.save"),action:ut}],show_top_close:!0,data:{label:kt,table:s.table||r,data:Ke,aux_data:ge.cloneDeep(w==null?void 0:w.data),main_table:P,mode:"tab"}}),e(20,F=!1)}catch(Ke){e(20,F=!1),console.log(Ke.message),e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=Ke.message,j)}},Et=s=>{var D,N,z,ee,ie,_e;if((z=(N=(D=t==null?void 0:t.tables)==null?void 0:D[s])==null?void 0:N.custom_table)!=null&&z.config)try{return JSON.parse((_e=(ie=(ee=t==null?void 0:t.tables)==null?void 0:ee[s])==null?void 0:ie.custom_table)==null?void 0:_e.config)}catch(pe){return console.log(pe.message),{}}},Re=s=>{var D,N,z,ee,ie,_e;if((z=(N=(D=t==null?void 0:t.tables)==null?void 0:D[s])==null?void 0:N.custom_form)!=null&&z.config)try{return JSON.parse((_e=(ie=(ee=t==null?void 0:t.tables)==null?void 0:ee[s])==null?void 0:ie.custom_form)==null?void 0:_e.config)}catch(pe){return console.log(pe.message),{}}},we=s=>{var D,N,z,ee,ie;return(D=t==null?void 0:t.conf)!=null&&D.upload_api?`${(N=t==null?void 0:t.conf)==null?void 0:N.upload_api}${s?"s":""}`:`${((z=t==null?void 0:t.conf)==null?void 0:z.api)==="/"?"":(ie=(ee=t==null?void 0:t.conf)==null?void 0:ee.api)==null?void 0:ie.replace("/api","").replace("/dyn_api","")}/upload${s?"s":""}`},he=s=>{try{return(s||[]).filter(D=>D.selected)}catch{return[]}},ke=s=>{var D,N,z,ee,ie,_e,pe,be,ce,st;e(1,q=0),Qe=[],oe=[],e(22,He=[]),e(15,$=""),e(21,K=Et(s)),x=Re(s),((D=K==null?void 0:K.extra_options)==null?void 0:D.length)>0?(e(24,ne=ge.cloneDeep(K==null?void 0:K.extra_options)),ne.forEach(it=>{try{typeof(it==null?void 0:it.data)=="string"&&(it.data=JSON.parse(it==null?void 0:it.data))}catch(gt){console.log(gt.message)}})):e(24,ne=[]),w!=null&&w.data&&T?e(15,$=(z=w==null?void 0:w.data)==null?void 0:z[(N=w==null?void 0:w.field)==null?void 0:N.name]):w!=null&&w.data&&(R||G)&&(oe=[{field:(ee=t==null?void 0:t.tables)==null?void 0:ee[P].pk,cond:(pe=w==null?void 0:w.data)!=null&&pe[(_e=(ie=t==null?void 0:t.tables)==null?void 0:ie[P])==null?void 0:_e.pk]?"=":"IS NULL",value:((st=w==null?void 0:w.data)==null?void 0:st[(ce=(be=t==null?void 0:t.tables)==null?void 0:be[P])==null?void 0:ce.pk])||null}]),e(23,We=ge.cloneDeep(Vn(t==null?void 0:t.tables,s)))},vt=async s=>{e(20,F=!0);const D={lang:t==null?void 0:t.lang,conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,app:t==null?void 0:t.selected_app,table:s.table,data:s.data},N=await Nn(D);console.log("data:",N),tt($,1),N.success===!0?(e(17,j.open=!0,j),e(17,j.type="success",j),e(17,j.msg=N.msg,j)):(e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=N.msg,j),N!=null&&N.errors&&N.errors.length>0&&(e(18,a.html_msg='<div class="alert alert-error shadow-lg m-1">'+N.errors.map(z=>z).join('</div><div class="alert alert-error shadow-lg m-1">')+"</div>",a),e(18,a.open=!0,a),e(18,a.header=!0,a),e(18,a.title=N.msg,a),e(18,a.actions=[{type:"btn",name:"OK",class:"text-primary--",label:_.t("crud.ok"),action:fe}],a),e(18,a.width=4,a),e(18,a.heigth=null,a))),e(20,F=!1)},Me=s=>{s!=null&&s.data&&(console.log("advanced_search_confirm:",s.data),e(22,He=ge.cloneDeep(s.data)),tt($,10)),fe()},De=async s=>{var D,N;e(18,a.header=!0,a),e(18,a.title=`${_.t("crud.advanced_search")} - ${(N=(D=t==null?void 0:t.tables)==null?void 0:D[(s==null?void 0:s.table)||r])==null?void 0:N.comment}`,a),e(18,a.component=(await Q(async()=>{const{default:z}=await import("./AdvancedSearch-D9oZmShc.js");return{default:z}},__vite__mapDeps([7,1,2,3]),import.meta.url)).default,a),e(18,a.data=s,a),e(18,a.actions=[{type:"btn",icon:"ban",name:"CANCEL",class:"btn-sm text-error",label:_.t("crud.cancel"),action:fe},{type:"btn",icon:"lightning-bolt",name:"YES",class:"btn-sm text-success",label:_.t("crud.exec"),action:Me}],a),e(18,a.width=7,a),e(18,a.heigth=null,a),e(18,a.open=!0,a)},ot=async s=>{var D;if(s!=null&&s.data){console.log("export_confirm:",s.data),J=s.data,e(20,F=!0);const{lang:N,conf:z,token:ee,app:ie,..._e}=await ue({return_params:!0,no_loding:!0}),pe={lang:N,conf:z,token:ee,app:ie,_method:"read",data:_e};pe.data._conf=J,pe.data._fields=Ae(ge.cloneDeep((D=t==null?void 0:t.tables)==null?void 0:D[r])||{},K||{}),pe.data._fields.forEach(ce=>{delete ce.ref}),console.log(pe),fe();const be=await Cn(pe);if(console.log("data:",be),be.success===!0&&be.fname)try{const ce=document.createElement("a");ce.download=be.fname,ce.target="_blank",ce.href=`${we(!0)}/${be.fname}?download`,ce.setAttribute("style","display: none"),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)}catch(ce){console.log(ce.message)}else e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=be.msg,j);e(20,F=!1)}},Xe=async s=>{var D,N,z,ee;J.name=(N=(D=t==null?void 0:t.tables)==null?void 0:D[(s==null?void 0:s.table)||r])==null?void 0:N.comment,e(18,a.header=!0,a),e(18,a.title=`${_.t("crud.export")} - ${(ee=(z=t==null?void 0:t.tables)==null?void 0:z[(s==null?void 0:s.table)||r])==null?void 0:ee.comment}`,a),e(18,a.component=(await Q(async()=>{const{default:ie}=await import("./Export-GpDrdwQe.js");return{default:ie}},__vite__mapDeps([8,1,2,3]),import.meta.url)).default,a),e(18,a.data={table:s.table,default_export:J},a),e(18,a.actions=[{type:"btn",icon:"ban",name:"CANCEL",class:"btn-sm text-error",label:_.t("crud.cancel"),action:fe},{type:"btn",icon:"lightning-bolt",name:"YES",class:"btn-sm text-success",label:_.t("crud.exec"),action:ot}],a),e(18,a.width=4,a),e(18,a.heigth=null,a),e(18,a.open=!0,a)},Dt=async s=>{var D;if(s!=null&&s.data){e(20,F=!0),fe();const N=[];let z={};((D=s==null?void 0:s.data)==null?void 0:D.length)>0&&Object.keys((s==null?void 0:s._matches)||{}).length>0&&s.data.forEach(ee=>{var ie;z={};for(const _e in s._matches)Object.hasOwnProperty.call(s._matches,_e)&&s._matches[_e].file_field_match&&!((ie=s._matches[_e])!=null&&ie.deactivate)&&(z[_e]=ee[s._matches[_e].file_field_match]);N.push(ge.cloneDeep(z))}),await vt({table:s.table||r,data:N}),e(20,F=!1)}},$e=async s=>{var D,N;e(18,a.header=!0,a),e(18,a.title=`${_.t("crud.import")} - ${(N=(D=t==null?void 0:t.tables)==null?void 0:D[(s==null?void 0:s.table)||r])==null?void 0:N.comment}`,a),e(18,a.component=(await Q(async()=>{const{default:z}=await import("./Import-CH3P2dFa.js");return{default:z}},__vite__mapDeps([9,1,2,3,4]),import.meta.url)).default,a),e(18,a.data={table:s.table},a),e(18,a.actions=[{type:"btn",icon:"ban",name:"CANCEL",class:"btn-sm text-error",label:_.t("crud.cancel"),action:fe},{type:"btn",icon:"lightning-bolt",name:"YES",class:"btn-sm text-success",label:_.t("crud.exec"),action:Dt}],a),e(18,a.width=7,a),e(18,a.heigth=null,a),e(18,a.open=!0,a)},xe=s=>{var D,N,z;if(console.log("deletion_confirm:",s),s.data){const ee={table:((D=s==null?void 0:s.data)==null?void 0:D.table)||r,permanently:(N=s==null?void 0:s.data)==null?void 0:N.permanently,data:(z=s==null?void 0:s.data)==null?void 0:z.data.map(ie=>{var pe,be,ce,st;const _e=(ce=(be=t==null?void 0:t.tables)==null?void 0:be[((pe=s==null?void 0:s.data)==null?void 0:pe.table)||r])==null?void 0:ce.pk;return{[_e]:ie[_e],excluded:!0,_to_delete:!0,permanently:(st=s==null?void 0:s.data)==null?void 0:st.permanently}})};console.log("deletion_confirm:",ee),ee.permanently,vt(ee)}fe()},lt=s=>{var N,z;const D=_.t("crud.del_alert",{len:(N=s==null?void 0:s.data)==null?void 0:N.length,s:((z=s==null?void 0:s.data)==null?void 0:z.length)>1?"s":""});e(18,a.component=null,a),e(18,a.msg=null,a),e(18,a.html_msg=`<span class="m-2 text-lg">${D}</span>`,a),e(18,a.open=!0,a),e(18,a.header=!1,a),e(18,a.data=s,a),e(18,a.actions=[{type:"btn",icon:"ban",name:"NO",class:"btn-sm text-error",label:_.t("crud.no"),action:fe},{type:"btn",icon:"check",name:"YES",class:"btn-sm text-success",label:_.t("crud.yes"),action:xe}],a),e(18,a.width=4,a),e(18,a.heigth=null,a)},Ye=s=>{var D,N;_.t("crud.del_alert",{len:(D=s==null?void 0:s.data)==null?void 0:D.length,s:((N=s==null?void 0:s.data)==null?void 0:N.length)>1?"s":""}),e(18,a.component=Hn,a),e(18,a.msg=null,a),e(18,a.html_msg=null,a),e(18,a.open=!0,a),e(18,a.header=!1,a),e(18,a.data={...s,extra_options:ne,submenu_candidates:We,e_options:nt,display_in_submenu:Vt,submenu:pt,custom_table_config:K,get_form:Je,has_permissions:je,dismiss_modal:fe},a),e(18,a.width=3,a),e(18,a.heigth=null,a)},pt=async s=>{var D,N,z,ee,ie,_e,pe,be;try{s.closeModal===!0&&fe(),e(20,F=!0),e(18,a.msg=null,a),e(18,a.html_msg=null,a),e(18,a.header=!1,a),e(18,a.heigth=90,a);const ce=`${(N=(D=t==null?void 0:t.tables)==null?void 0:D[s==null?void 0:s.table])==null?void 0:N.comment}`;e(18,a.title=ce,a),e(18,a.data={table:s==null?void 0:s.table,data:{data:ge.cloneDeep(s==null?void 0:s.data)},is_fk:!1,is_subform:!1,is_submenu:!0,main_table:r,label:(ee=s==null?void 0:s.data)!=null&&ee[(z=s==null?void 0:s.aux)==null?void 0:z.referred_columns_desc]?`${(_e=(ie=t==null?void 0:t.tables)==null?void 0:ie[r])==null?void 0:_e.comment}: ${(be=s==null?void 0:s.data)==null?void 0:be[(pe=s==null?void 0:s.aux)==null?void 0:pe.referred_columns_desc]}/${ce}`:null,actions:{dismiss_modal:fe}},a),e(18,a.component=(await Q(async()=>{const{default:st}=await import("./CrudHandler-7W4IdyLN.js");return{default:st}},__vite__mapDeps([10,1,2]),import.meta.url)).default,a),e(18,a.width=12,a),e(18,a.open=!0,a),e(20,F=!1)}catch(ce){e(20,F=!1),console.log(ce.message),e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=ce.message,j)}},nt=async s=>{var D,N,z,ee,ie,_e,pe,be,ce,st,it,gt,At,Ke,kt,Rt,Pt,It,bt,Ut,Xt,Kt,Ie,te;try{s.closeModal===!0&&fe(),console.log((D=t==null?void 0:t.tables)==null?void 0:D[s==null?void 0:s.table],s==null?void 0:s.data);let Lt=`${_.t(`crud.${(N=s==null?void 0:s.e)==null?void 0:N.label}`)} - ${(ee=(z=t==null?void 0:t.tables)==null?void 0:z[s==null?void 0:s.table])==null?void 0:ee.comment} / ${((ie=s==null?void 0:s.data)==null?void 0:ie[r])||((be=s==null?void 0:s.data)==null?void 0:be[(pe=(_e=t==null?void 0:t.tables)==null?void 0:_e[s==null?void 0:s.table])==null?void 0:pe.pk])||_.t("crud.new")}`;(Lt==null?void 0:Lt.length)>0&&(Lt=`${((gt=s==null?void 0:s.data)==null?void 0:gt[(it=(st=(ce=t==null?void 0:t.tables)==null?void 0:ce[s==null?void 0:s.table])==null?void 0:st.fields_order)==null?void 0:it[1]])||((kt=s==null?void 0:s.data)==null?void 0:kt[(Ke=(At=t==null?void 0:t.tables)==null?void 0:At[s==null?void 0:s.table])==null?void 0:Ke.pk])||_.t("crud.new")} | ${(Pt=(Rt=t==null?void 0:t.tables)==null?void 0:Rt[s==null?void 0:s.table])==null?void 0:Pt.comment}`);let Qt={};try{typeof((It=s==null?void 0:s.e)==null?void 0:It.data)=="string"?Qt=JSON.parse(((bt=s==null?void 0:s.e)==null?void 0:bt.data)||"{}"):Qt=(Ut=s==null?void 0:s.e)==null?void 0:Ut.data}catch{}(Xt=s==null?void 0:s.e)!=null&&Xt.pop_up||!(f!=null&&f.show_in_tabs)?(e(20,F=!0),e(18,a.header=!0,a),e(18,a.heigth=90,a),e(18,a.title=Lt,a),e(18,a.data={table:s==null?void 0:s.table,main_table:(s==null?void 0:s.main_table)||P,data:ge.cloneDeep(s==null?void 0:s.data),option:s.e},a),e(18,a.actions=(Qt==null?void 0:Qt.actions)||[{type:"btn",icon:"refresh",name:"REFRESH",class:"btn-sm text-info",label:_.t("crud.refresh"),action:null}],a),e(18,a.component=(await ml(Object.assign({"../dyn/AdminApps.svelte":()=>Q(()=>import("./AdminApps-By6A6Aha.js"),__vite__mapDeps([11,1,2,3,4]),import.meta.url),"../dyn/Calendar.svelte":()=>Q(()=>import("./Calendar-BRrlDVkW.js"),__vite__mapDeps([12,1,2,3,13]),import.meta.url),"../dyn/DBExplorer.svelte":()=>Q(()=>import("./DBExplorer-CBSsb0E7.js"),__vite__mapDeps([14,1,2,3,4]),import.meta.url),"../dyn/DCJS.svelte":()=>Q(()=>import("./DCJS-BTDeSRAF.js"),__vite__mapDeps([15,1,2,3]),import.meta.url),"../dyn/Dashboard.svelte":()=>Q(()=>import("./Dashboard-K79qaTtq.js"),__vite__mapDeps([16,1,2,3,17]),import.meta.url),"../dyn/DataTable.svelte":()=>Q(()=>import("./DataTable-BCprVXTc.js"),__vite__mapDeps([18,1,2,3]),import.meta.url),"../dyn/DataViz.svelte":()=>Q(()=>import("./DataViz-y2-KD00Y.js"),__vite__mapDeps([17,1,2]),import.meta.url),"../dyn/EChartsEngine.svelte":()=>Q(()=>import("./EChartsEngine-fbbz1Ezy.js"),__vite__mapDeps([19,1,2,3,20]),import.meta.url),"../dyn/ETLReportBase.svelte":()=>Q(()=>import("./ETLReportBase-DjrGu8sR.js"),__vite__mapDeps([21,1,2,3,4]),import.meta.url),"../dyn/ETLX.svelte":()=>Q(()=>import("./ETLX-DaBrYgVm.js"),__vite__mapDeps([22,1,2,3,4]),import.meta.url),"../dyn/EditConf.svelte":()=>Q(()=>import("./EditConf-CHy3zxxk.js"),__vite__mapDeps([23,1,2,6,3]),import.meta.url),"../dyn/EditDashboardItem.svelte":()=>Q(()=>import("./EditDashboardItem-GmI9Gr1O.js"),__vite__mapDeps([24,1,2,3,6]),import.meta.url),"../dyn/EvidenceDash.svelte":()=>Q(()=>import("./EvidenceDash-C7wLTucd.js").then(rl=>rl.r),__vite__mapDeps([25,1,2,3,20,26]),import.meta.url),"../dyn/GaugeJS.svelte":()=>Q(()=>import("./GaugeJS-DQwSV7DP.js"),__vite__mapDeps([27,1,2,3]),import.meta.url),"../dyn/ImportFields.svelte":()=>Q(()=>import("./ImportFields-D0E1uzTt.js"),__vite__mapDeps([28,1,2,3,4]),import.meta.url),"../dyn/ManageDBTable.svelte":()=>Q(()=>import("./ManageDBTable-Cq1BVVFn.js"),__vite__mapDeps([29,1,2,3,4]),import.meta.url),"../dyn/MiniStat.svelte":()=>Q(()=>import("./MiniStat-B5qO05o8.js"),__vite__mapDeps([30,1,2,3]),import.meta.url),"../dyn/ObjectEditor.svelte":()=>Q(()=>import("./ObjectEditor-CII2MLKg.js"),__vite__mapDeps([6,1,2]),import.meta.url),"../dyn/ObjectEditorGPT.svelte":()=>Q(()=>import("./ObjectEditorGPT-l1uIl9SO.js"),__vite__mapDeps([31,1,2,32]),import.meta.url),"../dyn/PickDates.svelte":()=>Q(()=>import("./PickDates-NDES-7LM.js"),__vite__mapDeps([33,1,2,3]),import.meta.url),"../dyn/RowLevelAccess.svelte":()=>Q(()=>import("./RowLevelAccess-Dc8b8cbh.js"),__vite__mapDeps([34,1,2,3,4]),import.meta.url),"../dyn/TranslateDBTable.svelte":()=>Q(()=>import("./TranslateDBTable-C89NqW8o.js"),__vite__mapDeps([35,1,2,3,4]),import.meta.url),"../dyn/UserRowLevelAccess.svelte":()=>Q(()=>import("./UserRowLevelAccess-Tg2fQYyJ.js"),__vite__mapDeps([36,1,2,3,4]),import.meta.url)}),`../dyn/${(Kt=s==null?void 0:s.e)==null?void 0:Kt.component}.svelte`,3)).default,a),e(18,a.width=(Ie=s==null?void 0:s.e)==null?void 0:Ie.size,a),e(18,a.open=!0,a),e(20,F=!1)):f.show_in_tabs({component:(await ml(Object.assign({"../dyn/AdminApps.svelte":()=>Q(()=>import("./AdminApps-By6A6Aha.js"),__vite__mapDeps([11,1,2,3,4]),import.meta.url),"../dyn/Calendar.svelte":()=>Q(()=>import("./Calendar-BRrlDVkW.js"),__vite__mapDeps([12,1,2,3,13]),import.meta.url),"../dyn/DBExplorer.svelte":()=>Q(()=>import("./DBExplorer-CBSsb0E7.js"),__vite__mapDeps([14,1,2,3,4]),import.meta.url),"../dyn/DCJS.svelte":()=>Q(()=>import("./DCJS-BTDeSRAF.js"),__vite__mapDeps([15,1,2,3]),import.meta.url),"../dyn/Dashboard.svelte":()=>Q(()=>import("./Dashboard-K79qaTtq.js"),__vite__mapDeps([16,1,2,3,17]),import.meta.url),"../dyn/DataTable.svelte":()=>Q(()=>import("./DataTable-BCprVXTc.js"),__vite__mapDeps([18,1,2,3]),import.meta.url),"../dyn/DataViz.svelte":()=>Q(()=>import("./DataViz-y2-KD00Y.js"),__vite__mapDeps([17,1,2]),import.meta.url),"../dyn/EChartsEngine.svelte":()=>Q(()=>import("./EChartsEngine-fbbz1Ezy.js"),__vite__mapDeps([19,1,2,3,20]),import.meta.url),"../dyn/ETLReportBase.svelte":()=>Q(()=>import("./ETLReportBase-DjrGu8sR.js"),__vite__mapDeps([21,1,2,3,4]),import.meta.url),"../dyn/ETLX.svelte":()=>Q(()=>import("./ETLX-DaBrYgVm.js"),__vite__mapDeps([22,1,2,3,4]),import.meta.url),"../dyn/EditConf.svelte":()=>Q(()=>import("./EditConf-CHy3zxxk.js"),__vite__mapDeps([23,1,2,6,3]),import.meta.url),"../dyn/EditDashboardItem.svelte":()=>Q(()=>import("./EditDashboardItem-GmI9Gr1O.js"),__vite__mapDeps([24,1,2,3,6]),import.meta.url),"../dyn/EvidenceDash.svelte":()=>Q(()=>import("./EvidenceDash-C7wLTucd.js").then(rl=>rl.r),__vite__mapDeps([25,1,2,3,20,26]),import.meta.url),"../dyn/GaugeJS.svelte":()=>Q(()=>import("./GaugeJS-DQwSV7DP.js"),__vite__mapDeps([27,1,2,3]),import.meta.url),"../dyn/ImportFields.svelte":()=>Q(()=>import("./ImportFields-D0E1uzTt.js"),__vite__mapDeps([28,1,2,3,4]),import.meta.url),"../dyn/ManageDBTable.svelte":()=>Q(()=>import("./ManageDBTable-Cq1BVVFn.js"),__vite__mapDeps([29,1,2,3,4]),import.meta.url),"../dyn/MiniStat.svelte":()=>Q(()=>import("./MiniStat-B5qO05o8.js"),__vite__mapDeps([30,1,2,3]),import.meta.url),"../dyn/ObjectEditor.svelte":()=>Q(()=>import("./ObjectEditor-CII2MLKg.js"),__vite__mapDeps([6,1,2]),import.meta.url),"../dyn/ObjectEditorGPT.svelte":()=>Q(()=>import("./ObjectEditorGPT-l1uIl9SO.js"),__vite__mapDeps([31,1,2,32]),import.meta.url),"../dyn/PickDates.svelte":()=>Q(()=>import("./PickDates-NDES-7LM.js"),__vite__mapDeps([33,1,2,3]),import.meta.url),"../dyn/RowLevelAccess.svelte":()=>Q(()=>import("./RowLevelAccess-Dc8b8cbh.js"),__vite__mapDeps([34,1,2,3,4]),import.meta.url),"../dyn/TranslateDBTable.svelte":()=>Q(()=>import("./TranslateDBTable-C89NqW8o.js"),__vite__mapDeps([35,1,2,3,4]),import.meta.url),"../dyn/UserRowLevelAccess.svelte":()=>Q(()=>import("./UserRowLevelAccess-Tg2fQYyJ.js"),__vite__mapDeps([36,1,2,3,4]),import.meta.url)}),`../dyn/${(te=s==null?void 0:s.e)==null?void 0:te.component}.svelte`,3)).default,label:Lt,header_actions:(Qt==null?void 0:Qt.actions)||[{type:"btn",icon:"refresh",name:"REFRESH",class:"btn-sm text-info",label:_.t("crud.refresh"),action:null}],show_top_close:!0,data:{table:(s==null?void 0:s.table)||r,main_table:(s==null?void 0:s.main_table)||P,data:ge.cloneDeep(s==null?void 0:s.data),option:s.e}})}catch(Lt){e(20,F=!1),console.log(Lt.message),e(17,j.open=!0,j),e(17,j.type="error",j),e(17,j.msg=Lt.message,j)}},Vt=(s,D)=>{var N,z,ee;return s!=null&&s.layout&&(N=s==null?void 0:s.layout)!=null&&N.allow_in_submenu?!!((ee=(z=s==null?void 0:s.layout)==null?void 0:z.allow_in_submenu)!=null&&ee[D]):!0},je=(s,D,N,z=null)=>{var ee,ie;if((s==null?void 0:s.role_id)===1)return!0;if(z){if(Array.isArray(z)){if(z.length>1&&(c!=null&&c.requires_rla))return!1;if(z.length===1&&(c!=null&&c.requires_rla))return(D==null?void 0:D[N])&&((ee=z==null?void 0:z[0].rla)==null?void 0:ee[N])||!1}else if(z!=null&&z.rla){if(typeof(z==null?void 0:z.rla)=="object")return(D==null?void 0:D[N])&&((ie=z==null?void 0:z.rla)==null?void 0:ie[N])||!1}}return(D==null?void 0:D[N])||!1};kn(()=>{_.changeLanguage(t==null?void 0:t.lang),console.log({main_table:P,aux_data:w,user:t==null?void 0:t.user});try{ul.locale(t==null?void 0:t.lang)}catch{ul.locale("en-us")}});const ze=s=>De({table:r,advanced_search:He});function qe(){$=this.value,e(15,$)}const Ct=s=>tt($,1e3),Fe=()=>ue({table:r,limit:W,offset:q}),Yt=()=>Je({table:r,data:{}}),Wt=s=>{e(14,g.add=!0,g),e(14,g.edit=!1,g),e(14,g.del=!1,g)},Ot=()=>{Je({table:r,data:{},open_in_pop_up:!0}),e(14,g.add=!1,g),e(14,g.edit=!1,g),e(14,g.del=!1,g)},Pe=()=>{Je({table:r,data:{},open_in_tab:!0}),e(14,g.add=!1,g),e(14,g.edit=!1,g),e(14,g.del=!1,g)},$t=()=>{var s;return Je({table:r,data:(s=he(V==null?void 0:V.data))==null?void 0:s[0]})},M=s=>{e(14,g.edit=!0,g),e(14,g.add=!1,g),e(14,g.del=!1,g),e(14,g.clone=!1,g)},y=()=>{var s;Je({table:r,data:(s=he(V==null?void 0:V.data))==null?void 0:s[0],open_in_pop_up:!0}),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.del=!1,g),e(14,g.clone=!1,g)},ht=()=>{var s;Je({table:r,data:(s=he(V==null?void 0:V.data))==null?void 0:s[0],open_in_tab:!0}),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.del=!1,g),e(14,g.clone=!1,g)},Nt=()=>{var s;return Je({table:r,data:(s=he(V==null?void 0:V.data))==null?void 0:s[0],clone:!0})},Mt=s=>{e(14,g.clone=!0,g),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.del=!1,g)},L=()=>{var s;Je({table:r,data:(s=he(V==null?void 0:V.data))==null?void 0:s[0],open_in_pop_up:!0,clone:!0}),e(14,g.clone=!1,g),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.del=!1,g)},Y=()=>{var s;Je({table:r,data:(s=he(V==null?void 0:V.data))==null?void 0:s[0],open_in_tab:!0,clone:!0}),e(14,g.clone=!1,g),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.del=!1,g)},ve=()=>lt({table:r,data:he(V==null?void 0:V.data)}),ft=s=>{e(14,g.del=!0,g),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.clone=!1,g)},Ge=()=>{lt({table:r,data:he(V==null?void 0:V.data),permanently:!1}),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.del=!1,g),e(14,g.clone=!1,g)},jt=()=>{lt({table:r,data:he(V==null?void 0:V.data),permanently:!0}),e(14,g.edit=!1,g),e(14,g.add=!1,g),e(14,g.del=!1,g),e(14,g.clone=!1,g)},zt=s=>{var D;return nt({table:r,e:ge.cloneDeep(s),data:ge.cloneDeep((D=he(V==null?void 0:V.data))==null?void 0:D[0])})},St=s=>{var D;return nt({table:r,main_table:P,e:ge.cloneDeep(s),data:ge.cloneDeep(((D=he(V==null?void 0:V.data))==null?void 0:D[0])||ge.cloneDeep(w==null?void 0:w.data))})},Bt=()=>$e({table:r}),Ht=()=>Xe({table:r}),Jt=()=>ye({table:r}),qt=s=>{var D;return nt({table:r,e:ge.cloneDeep(s),data:ge.cloneDeep((D=he(V==null?void 0:V.data))==null?void 0:D[0])})},Tt=s=>{var D;return pt({table:s==null?void 0:s.table,aux:ge.cloneDeep(s),data:ge.cloneDeep((D=he(V==null?void 0:V.data))==null?void 0:D[0])})},Zt=()=>f.dismiss_modal(),et=s=>{var D;Ze((D=s.target)==null?void 0:D.checked)};function yt(s,D){s[D].selected=this.checked,e(16,V)}const tl=(s,D)=>ct(s),ll=s=>Je({table:r,data:s}),nl=s=>lt({table:r,data:[s]}),sl=(s,D)=>nt({table:r,e:ge.cloneDeep(s),data:ge.cloneDeep(D)}),il=s=>Ye({table:r,data:s}),se=s=>_t(s.detail),Ft=s=>{e(17,j.open=!1,j)},Dn=s=>fe(s.detail),On=s=>fe(s.detail);return l.$$set=s=>{"_id"in s&&e(47,o=s._id),"label"in s&&e(2,u=s.label),"table"in s&&e(3,r=s.table),"menu"in s&&e(48,c=s.menu),"actions"in s&&e(4,f=s.actions),"action"in s&&e(49,d=s.action),"has_check"in s&&e(5,b=s.has_check),"has_numbering"in s&&e(6,E=s.has_numbering),"has_actions"in s&&e(7,O=s.has_actions),"table_compact"in s&&e(8,I=s.table_compact),"aux_data"in s&&e(9,w=s.aux_data),"is_fk"in s&&e(10,T=s.is_fk),"main_pk_id"in s&&e(50,A=s.main_pk_id),"main_table"in s&&e(11,P=s.main_table),"is_subform"in s&&e(51,R=s.is_subform),"is_submenu"in s&&e(12,G=s.is_submenu),"limit"in s&&e(0,W=s.limit),"offset"in s&&e(1,q=s.offset),"n_tabs"in s&&e(13,le=s.n_tabs),"opts"in s&&e(52,k=s.opts),"populate_subform"in s&&e(53,Z=s.populate_subform)},l.$$.update=()=>{var s,D;l.$$.dirty[0]&8|l.$$.dirty[1]&65536&&(console.log({key:Te,table:r,_id:o}),ke(r),(async()=>ue({table:r}))()),l.$$.dirty[0]&11|l.$$.dirty[1]&524288&&(console.log({main_pk_id:A}),(async()=>ue({table:r,limit:W,offset:q}))()),l.$$.dirty[0]&8|l.$$.dirty[1]&8388608&&i!=null&&i.table_changes&&((s=i==null?void 0:i.table_changes)==null?void 0:s.type)==="data_change"&&(console.log(i.table_changes,r),((D=i.table_changes)==null?void 0:D.table)===r&&he(r).length===0&&al.set({...i,table_changes:null})),l.$$.dirty[1]&524288&&(console.log({main_pk_id:A}),ue({no_loding:!0}))},[W,q,u,r,f,b,E,O,I,w,T,P,G,le,g,$,V,j,a,U,F,K,He,We,ne,t,_,ue,Ae,_t,tt,Ze,ct,fe,ye,Je,we,he,De,Xe,$e,lt,Ye,pt,nt,Vt,je,o,c,d,A,R,k,Z,i,ze,qe,Ct,Fe,Yt,Wt,Ot,Pe,$t,M,y,ht,Nt,Mt,L,Y,ve,ft,Ge,jt,zt,St,Bt,Ht,Jt,qt,Tt,Zt,et,yt,tl,ll,nl,sl,il,se,Ft,Dn,On]}class is extends hn{constructor(n){super(),bn(this,n,es,xn,pn,{_id:47,label:2,table:3,menu:48,actions:4,action:49,has_check:5,has_numbering:6,has_actions:7,table_compact:8,aux_data:9,is_fk:10,main_pk_id:50,main_table:11,is_subform:51,is_submenu:12,limit:0,offset:1,n_tabs:13,opts:52,populate_subform:53},null,[-1,-1,-1,-1,-1])}}export{is as default};
