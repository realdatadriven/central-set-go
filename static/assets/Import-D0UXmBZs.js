import{S as ft,i as ot,s as it,G as W,I as Te,a as g,c as ge,b as T,t as G,F as st,d as o,a8 as De,f as Ie,g as Z,h as f,m as be,j as qe,k as pe,E as Fe,n as Q,p as Me,q as te,r as Ne,o as X,u as y,v as de,x as rt,y as Ge,z as ut,A as ct,C as _t,D as Je,N as pt,T as ht,Y as mt,ab as gt,a2 as bt,e as re,w as Oe,H as ue,a3 as dt,a4 as Ke}from"./index-XSy4RcHY.js";import"./pt-C8dmXWAd.js";import{P as at}from"./Pagination-CGKBM0ax.js";function Qe(e,n,l){const t=e.slice();return t[39]=n[l],t[35]=l,t}function Re(e,n,l){const t=e.slice();return t[41]=n[l],t[43]=l,t}function Ue(e,n,l){const t=e.slice();return t[41]=n[l],t}function Ve(e,n,l){const t=e.slice();return t[33]=n[l],t[34]=n,t[35]=l,t}function We(e,n,l){const t=e.slice();return t[36]=n[l],t}function kt(e){var H,v,p;let n,l,t,i,s,a,m,w,r,E,N=re(Object.keys(((H=e[2])==null?void 0:H[0])||[])),O=[];for(let u=0;u<N.length;u+=1)O[u]=Xe(Ue(e,N,u));let I=re(e[2].slice(e[7]*e[6],e[7]*e[6]+e[6])),h=[];for(let u=0;u<I.length;u+=1)h[u]=ye(Qe(e,I,u));return r=new at({props:{lang:(v=e[13])==null?void 0:v.lang,conf:(p=e[13])==null?void 0:p.conf,rows_per_page:e[6],page:e[7],total_rows:e[2].length}}),r.$on("pageChange",e[31]),{c(){n=g("div"),l=g("div"),t=g("table"),i=g("thead"),s=g("tr");for(let u=0;u<O.length;u+=1)O[u].c();a=T(),m=g("tbody");for(let u=0;u<h.length;u+=1)h[u].c();w=T(),ge(r.$$.fragment),o(t,"class","table table-zebra w-full normal-case table-xs"),o(l,"class","overflow-x-auto"),o(n,"class","w-full")},m(u,P){Z(u,n,P),f(n,l),f(l,t),f(t,i),f(i,s);for(let d=0;d<O.length;d+=1)O[d]&&O[d].m(s,null);f(t,a),f(t,m);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(m,null);f(n,w),be(r,n,null),E=!0},p(u,P){var A,j,S;if(P[0]&4){N=re(Object.keys(((A=u[2])==null?void 0:A[0])||[]));let k;for(k=0;k<N.length;k+=1){const B=Ue(u,N,k);O[k]?O[k].p(B,P):(O[k]=Xe(B),O[k].c(),O[k].m(s,null))}for(;k<O.length;k+=1)O[k].d(1);O.length=N.length}if(P[0]&196){I=re(u[2].slice(u[7]*u[6],u[7]*u[6]+u[6]));let k;for(k=0;k<I.length;k+=1){const B=Qe(u,I,k);h[k]?h[k].p(B,P):(h[k]=ye(B),h[k].c(),h[k].m(m,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=I.length}const d={};P[0]&8192&&(d.lang=(j=u[13])==null?void 0:j.lang),P[0]&8192&&(d.conf=(S=u[13])==null?void 0:S.conf),P[0]&64&&(d.rows_per_page=u[6]),P[0]&128&&(d.page=u[7]),P[0]&4&&(d.total_rows=u[2].length),r.$set(d)},i(u){E||(X(r.$$.fragment,u),E=!0)},o(u){te(r.$$.fragment,u),E=!1},d(u){u&&y(n),Oe(O,u),Oe(h,u),de(r)}}}function vt(e){var J,ee;let n,l,t,i,s,a,m=e[14].t("crud.db")+"",w,r,E=e[14].t("crud.field")+"",N,O,I,h=e[14].t("crud.field")+"",H,v,p=e[14].t("crud.label")+"",u,P,d,A=e[14].t("crud.match")+"",j,S,k=e[14].t("crud.file")+"",B,le,ne=W(e[4])+"",R,se,ce,U=e[14].t("crud.deactivate")+"",oe,ae,fe,_e,c,C,M=re(Object.keys(e[1]||{}).slice(e[9]*e[8],e[9]*e[8]+e[8])),q=[];for(let b=0;b<M.length;b+=1)q[b]=tt(Ve(e,M,b));return c=new at({props:{lang:(J=e[13])==null?void 0:J.lang,conf:(ee=e[13])==null?void 0:ee.conf,rows_per_page:e[8],page:e[9],total_rows:Object.keys(e[1]||{}).length}}),c.$on("pageChange",e[30]),{c(){n=g("div"),l=g("div"),t=g("table"),i=g("thead"),s=g("tr"),a=g("th"),w=G(m),r=T(),N=G(E),O=T(),I=g("th"),H=G(h),v=T(),u=G(p),P=T(),d=g("th"),j=G(A),S=T(),B=G(k),le=G(" - "),R=G(ne),se=T(),ce=g("th"),oe=G(U),ae=T(),fe=g("tbody");for(let b=0;b<q.length;b+=1)q[b].c();_e=T(),ge(c.$$.fragment),o(a,"class","normal-case"),o(I,"class","normal-case"),o(d,"class","normal-case"),o(ce,"class","normal-case"),o(t,"class","table table-zebra w-full normal-case table-xs"),o(l,"class","overflow-x-auto"),o(n,"class","w-full")},m(b,z){Z(b,n,z),f(n,l),f(l,t),f(t,i),f(i,s),f(s,a),f(a,w),f(a,r),f(a,N),f(s,O),f(s,I),f(I,H),f(I,v),f(I,u),f(s,P),f(s,d),f(d,j),f(d,S),f(d,B),f(d,le),f(d,R),f(s,se),f(s,ce),f(ce,oe),f(t,ae),f(t,fe);for(let $=0;$<q.length;$+=1)q[$]&&q[$].m(fe,null);f(n,_e),be(c,n,null),C=!0},p(b,z){var ie,me;if((!C||z[0]&16384)&&m!==(m=b[14].t("crud.db")+"")&&Q(w,m),(!C||z[0]&16384)&&E!==(E=b[14].t("crud.field")+"")&&Q(N,E),(!C||z[0]&16384)&&h!==(h=b[14].t("crud.field")+"")&&Q(H,h),(!C||z[0]&16384)&&p!==(p=b[14].t("crud.label")+"")&&Q(u,p),(!C||z[0]&16384)&&A!==(A=b[14].t("crud.match")+"")&&Q(j,A),(!C||z[0]&16384)&&k!==(k=b[14].t("crud.file")+"")&&Q(B,k),(!C||z[0]&16)&&ne!==(ne=W(b[4])+"")&&Q(R,ne),(!C||z[0]&16384)&&U!==(U=b[14].t("crud.deactivate")+"")&&Q(oe,U),z[0]&1794){M=re(Object.keys(b[1]||{}).slice(b[9]*b[8],b[9]*b[8]+b[8]));let K;for(K=0;K<M.length;K+=1){const ke=Ve(b,M,K);q[K]?q[K].p(ke,z):(q[K]=tt(ke),q[K].c(),q[K].m(fe,null))}for(;K<q.length;K+=1)q[K].d(1);q.length=M.length}const $={};z[0]&8192&&($.lang=(ie=b[13])==null?void 0:ie.lang),z[0]&8192&&($.conf=(me=b[13])==null?void 0:me.conf),z[0]&256&&($.rows_per_page=b[8]),z[0]&512&&($.page=b[9]),z[0]&2&&($.total_rows=Object.keys(b[1]||{}).length),c.$set($)},i(b){C||(X(c.$$.fragment,b),C=!0)},o(b){te(c.$$.fragment,b),C=!1},d(b){b&&y(n),Oe(q,b),de(c)}}}function Xe(e){let n,l=W(e[41],30)+"",t,i,s;return{c(){n=g("th"),t=G(l),i=T(),o(n,"class","normal-case"),o(n,"title",s=ue(e[41],30))},m(a,m){Z(a,n,m),f(n,t),f(n,i)},p(a,m){m[0]&4&&l!==(l=W(a[41],30)+"")&&Q(t,l),m[0]&4&&s!==(s=ue(a[41],30))&&o(n,"title",s)},d(a){a&&y(n)}}}function wt(e){let n,l=W(e[39][e[41]],30)+"",t,i;return{c(){n=g("td"),t=G(l),o(n,"title",i=ue(e[39][e[41]],30))},m(s,a){Z(s,n,a),f(n,t)},p(s,a){a[0]&196&&l!==(l=W(s[39][s[41]],30)+"")&&Q(t,l),a[0]&196&&i!==(i=ue(s[39][s[41]],30))&&o(n,"title",i)},d(s){s&&y(n)}}}function jt(e){let n,l=W(e[39][e[41]],30)+"",t,i;return{c(){n=g("th"),t=G(l),o(n,"title",i=ue(e[39][e[41]],30))},m(s,a){Z(s,n,a),f(n,t)},p(s,a){a[0]&196&&l!==(l=W(s[39][s[41]],30)+"")&&Q(t,l),a[0]&196&&i!==(i=ue(s[39][s[41]],30))&&o(n,"title",i)},d(s){s&&y(n)}}}function Ze(e){let n;function l(s,a){return s[43]===0?jt:wt}let i=l(e)(e);return{c(){i.c(),n=st()},m(s,a){i.m(s,a),Z(s,n,a)},p(s,a){i.p(s,a)},d(s){s&&y(n),i.d(s)}}}function ye(e){var s;let n,l,t=re(Object.keys(((s=e[2])==null?void 0:s[0])||[])),i=[];for(let a=0;a<t.length;a+=1)i[a]=Ze(Re(e,t,a));return{c(){n=g("tr");for(let a=0;a<i.length;a+=1)i[a].c();l=T(),o(n,"class","hover")},m(a,m){Z(a,n,m);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(n,null);f(n,l)},p(a,m){var w;if(m[0]&196){t=re(Object.keys(((w=a[2])==null?void 0:w[0])||[]));let r;for(r=0;r<t.length;r+=1){const E=Re(a,t,r);i[r]?i[r].p(E,m):(i[r]=Ze(E),i[r].c(),i[r].m(n,l))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(a){a&&y(n),Oe(i,a)}}}function $e(e){let n,l,t,i=re(e[10]||[]),s=[];for(let m=0;m<i.length;m+=1)s[m]=xe(We(e,i,m));function a(){e[28].call(n,e[33])}return{c(){n=g("select");for(let m=0;m<s.length;m+=1)s[m].c();o(n,"class","select select-sm p-0.5 w-full bg-transparent"),e[1][e[33]].file_field_match===void 0&&dt(a)},m(m,w){Z(m,n,w);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(n,null);Ke(n,e[1][e[33]].file_field_match,!0),l||(t=pe(n,"change",a),l=!0)},p(m,w){if(e=m,w[0]&1024){i=re(e[10]||[]);let r;for(r=0;r<i.length;r+=1){const E=We(e,i,r);s[r]?s[r].p(E,w):(s[r]=xe(E),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}w[0]&1794&&Ke(n,e[1][e[33]].file_field_match)},d(m){m&&y(n),Oe(s,m),l=!1,t()}}}function xe(e){let n,l=e[36]+"",t,i;return{c(){n=g("option"),t=G(l),n.__value=i=e[36],qe(n,n.__value)},m(s,a){Z(s,n,a),f(n,t)},p(s,a){a[0]&1024&&l!==(l=s[36]+"")&&Q(t,l),a[0]&1024&&i!==(i=s[36])&&(n.__value=i,qe(n,n.__value))},d(s){s&&y(n)}}}function et(e){let n,l,t;function i(){e[29].call(n,e[33])}return{c(){n=g("input"),o(n,"type","checkbox"),o(n,"class","checkbox checkbox-sm")},m(s,a){Z(s,n,a),n.checked=e[1][e[33]].deactivate,l||(t=pe(n,"change",i),l=!0)},p(s,a){e=s,a[0]&1794&&(n.checked=e[1][e[33]].deactivate)},d(s){s&&y(n),l=!1,t()}}}function tt(e){var u,P,d,A;let n,l,t=W(e[33],30)+"",i,s,a,m,w=W((P=(u=e[1])==null?void 0:u[e[33]])==null?void 0:P.comment,30)+"",r,E,N,O,I,h,H,v=((d=e[1])==null?void 0:d[e[33]])&&$e(e),p=((A=e[1])==null?void 0:A[e[33]])&&et(e);return{c(){var j,S;n=g("tr"),l=g("th"),i=G(t),a=T(),m=g("td"),r=G(w),N=T(),O=g("td"),v&&v.c(),I=T(),h=g("td"),p&&p.c(),H=T(),o(l,"title",s=ue(e[33],30)),o(m,"title",E=ue((S=(j=e[1])==null?void 0:j[e[33]])==null?void 0:S.comment,30)),o(O,"class","p-0"),o(h,"class","p-0 text-center"),o(n,"class","hover")},m(j,S){Z(j,n,S),f(n,l),f(l,i),f(n,a),f(n,m),f(m,r),f(n,N),f(n,O),v&&v.m(O,null),f(n,I),f(n,h),p&&p.m(h,null),f(n,H)},p(j,S){var k,B,le,ne,R,se;S[0]&770&&t!==(t=W(j[33],30)+"")&&Q(i,t),S[0]&1794&&s!==(s=ue(j[33],30))&&o(l,"title",s),S[0]&770&&w!==(w=W((B=(k=j[1])==null?void 0:k[j[33]])==null?void 0:B.comment,30)+"")&&Q(r,w),S[0]&1794&&E!==(E=ue((ne=(le=j[1])==null?void 0:le[j[33]])==null?void 0:ne.comment,30))&&o(m,"title",E),(R=j[1])!=null&&R[j[33]]?v?v.p(j,S):(v=$e(j),v.c(),v.m(O,null)):v&&(v.d(1),v=null),(se=j[1])!=null&&se[j[33]]?p?p.p(j,S):(p=et(j),p.c(),p.m(h,null)):p&&(p.d(1),p=null)},d(j){j&&y(n),v&&v.d(),p&&p.d()}}}function lt(e){let n,l;return n=new pt({props:{open:e[12]}}),{c(){ge(n.$$.fragment)},m(t,i){be(n,t,i),l=!0},p(t,i){const s={};i[0]&4096&&(s.open=t[12]),n.$set(s)},i(t){l||(X(n.$$.fragment,t),l=!0)},o(t){te(n.$$.fragment,t),l=!1},d(t){de(n,t)}}}function nt(e){let n,l;return n=new ht({props:{open:e[11].open,type:e[11].type,msg:e[11].msg,timer:2e4}}),n.$on("dismiss",e[32]),{c(){ge(n.$$.fragment)},m(t,i){be(n,t,i),l=!0},p(t,i){const s={};i[0]&2048&&(s.open=t[11].open),i[0]&2048&&(s.type=t[11].type),i[0]&2048&&(s.msg=t[11].msg),n.$set(s)},i(t){l||(X(n.$$.fragment,t),l=!0)},o(t){te(n.$$.fragment,t),l=!1},d(t){de(n,t)}}}function Ct(e){let n,l,t,i,s,a,m,w,r,E,N,O,I,h,H,v,p,u,P,d,A,j,S,k=e[14].t("crud.save_as_tmp")+"",B,le,ne,R,se,ce,U,oe,ae,fe,_e,c,C,M,q,J,ee=W(e[14].t("crud.match"),30)+"",b,z,$,ie,me,K=W(e[14].t("crud.preview"),30)+"",ke,Le,Pe,we,Se,V,x,ze,je,Ce,Y,Ee,Ae;s=new Te({props:{type:"outline",icon:"link",path:"icons"}}),v=new Te({props:{type:"outline",icon:"paper-clip",path:"icons"}}),ae=new Te({props:{type:"outline",icon:"refresh",path:"icons"}});const He=[vt,kt],he=[];function Ye(_,L){var ve;return _[3]===0?0:_[3]===1&&((ve=_[2])==null?void 0:ve.length)>0?1:-1}~(V=Ye(e))&&(x=he[V]=He[V](e));let D=e[12]&&lt(e),F=e[11].open&&nt(e);return{c(){var _;n=g("div"),l=g("div"),t=g("a"),i=g("span"),ge(s.$$.fragment),w=T(),r=g("input"),I=T(),h=g("button"),H=g("span"),ge(v.$$.fragment),u=T(),P=g("div"),d=g("label"),A=g("input"),S=g("span"),B=G(k),ne=T(),R=g("input"),ce=T(),U=g("button"),oe=g("span"),ge(ae.$$.fragment),c=T(),C=g("div"),M=g("div"),q=g("span"),J=g("b"),b=G(ee),$=T(),ie=g("span"),me=g("b"),ke=G(K),Pe=T(),we=g("span"),we.innerHTML="<b></b>",Se=T(),x&&x.c(),ze=T(),D&&D.c(),je=T(),F&&F.c(),Ce=st(),o(i,"class","w-5 h-5"),o(t,"class","btn btn-square btn-ghost btn-sm -mr-8 z-[1]"),o(t,"title",a=e[14].t("crud.download")),o(t,"target","_blank"),o(t,"href",m=`${De((_=e[13])==null?void 0:_.conf,!0)}/${e[4]}`),Ie(t,"display",e[4]?null:"none"),o(r,"type","text"),o(r,"id",E=`${e[0]}-file-to-import`),o(r,"placeholder",N=e[14].t("crud.file")),o(r,"class",O="grow input "+(e[4]?"pl-8":"")+" pr-8 input-bordered w-full input-sm"),o(r,"autocomplete","off"),o(r,"autocorrect","off"),o(H,"class","w-5 h-5"),o(h,"class","btn btn-square btn-ghost btn-sm -ml-8 z-[1]"),o(h,"title",p=`${e[14].t("crud.attach")} ${e[14].t("crud.file")}`),o(A,"type","checkbox"),o(A,"class","checkbox checkbox-sm mr-2"),o(A,"id",j=e[0]+"-tmp"),o(S,"class","label-text"),o(d,"class","label cursor-pointer justify-start"),o(d,"for",le=e[0]+"-tmp"),o(P,"class","form-control w-auto p-0 ml-2"),o(R,"type","file"),o(R,"id",se=`${e[0]}-file-to-import-file`),Ie(R,"display","none"),o(oe,"class","w-5 h-5"),o(U,"class","btn btn-square btn-sm ml-2"),o(U,"title",fe=`${e[14].t("crud.refresh")}`),U.disabled=_e=!e[4],o(l,"class","flex mb-2"),o(J,"class","pr-2"),o(q,"role","tab"),o(q,"class",z="tab text-md "+(e[3]===0?"tab-active active":"")),o(me,"class","pr-2"),o(ie,"role","tab"),o(ie,"class",Le="tab text-md "+(e[3]===1?"tab-active active":"")),o(we,"role","tab"),o(we,"class","tab text-md grow"),o(M,"role","tablist"),o(M,"class","tabs tabs-lifted flex"),o(C,"class","grow w-full"),o(n,"class","flex flex-col")},m(_,L){Z(_,n,L),f(n,l),f(l,t),f(t,i),be(s,i,null),f(l,w),f(l,r),qe(r,e[4]),f(l,I),f(l,h),f(h,H),be(v,H,null),f(l,u),f(l,P),f(P,d),f(d,A),A.checked=e[5],f(d,S),f(S,B),f(l,ne),f(l,R),f(l,ce),f(l,U),f(U,oe),be(ae,oe,null),f(n,c),f(n,C),f(C,M),f(M,q),f(q,J),f(J,b),f(M,$),f(M,ie),f(ie,me),f(me,ke),f(M,Pe),f(M,we),f(C,Se),~V&&he[V].m(C,null),Z(_,ze,L),D&&D.m(_,L),Z(_,je,L),F&&F.m(_,L),Z(_,Ce,L),Y=!0,Ee||(Ae=[pe(r,"input",e[21]),pe(h,"click",e[22]),pe(A,"change",e[23]),pe(R,"change",e[24]),pe(U,"click",e[25]),pe(q,"click",Fe(e[26])),pe(ie,"click",Fe(e[27]))],Ee=!0)},p(_,L){var Be;(!Y||L[0]&16384&&a!==(a=_[14].t("crud.download")))&&o(t,"title",a),(!Y||L[0]&8208&&m!==(m=`${De((Be=_[13])==null?void 0:Be.conf,!0)}/${_[4]}`))&&o(t,"href",m),L[0]&16&&Ie(t,"display",_[4]?null:"none"),(!Y||L[0]&1&&E!==(E=`${_[0]}-file-to-import`))&&o(r,"id",E),(!Y||L[0]&16384&&N!==(N=_[14].t("crud.file")))&&o(r,"placeholder",N),(!Y||L[0]&16&&O!==(O="grow input "+(_[4]?"pl-8":"")+" pr-8 input-bordered w-full input-sm"))&&o(r,"class",O),L[0]&16&&r.value!==_[4]&&qe(r,_[4]),(!Y||L[0]&16384&&p!==(p=`${_[14].t("crud.attach")} ${_[14].t("crud.file")}`))&&o(h,"title",p),(!Y||L[0]&1&&j!==(j=_[0]+"-tmp"))&&o(A,"id",j),L[0]&32&&(A.checked=_[5]),(!Y||L[0]&16384)&&k!==(k=_[14].t("crud.save_as_tmp")+"")&&Q(B,k),(!Y||L[0]&1&&le!==(le=_[0]+"-tmp"))&&o(d,"for",le),(!Y||L[0]&1&&se!==(se=`${_[0]}-file-to-import-file`))&&o(R,"id",se),(!Y||L[0]&16384&&fe!==(fe=`${_[14].t("crud.refresh")}`))&&o(U,"title",fe),(!Y||L[0]&16&&_e!==(_e=!_[4]))&&(U.disabled=_e),(!Y||L[0]&16384)&&ee!==(ee=W(_[14].t("crud.match"),30)+"")&&Q(b,ee),(!Y||L[0]&8&&z!==(z="tab text-md "+(_[3]===0?"tab-active active":"")))&&o(q,"class",z),(!Y||L[0]&16384)&&K!==(K=W(_[14].t("crud.preview"),30)+"")&&Q(ke,K),(!Y||L[0]&8&&Le!==(Le="tab text-md "+(_[3]===1?"tab-active active":"")))&&o(ie,"class",Le);let ve=V;V=Ye(_),V===ve?~V&&he[V].p(_,L):(x&&(Me(),te(he[ve],1,1,()=>{he[ve]=null}),Ne()),~V?(x=he[V],x?x.p(_,L):(x=he[V]=He[V](_),x.c()),X(x,1),x.m(C,null)):x=null),_[12]?D?(D.p(_,L),L[0]&4096&&X(D,1)):(D=lt(_),D.c(),X(D,1),D.m(je.parentNode,je)):D&&(Me(),te(D,1,1,()=>{D=null}),Ne()),_[11].open?F?(F.p(_,L),L[0]&2048&&X(F,1)):(F=nt(_),F.c(),X(F,1),F.m(Ce.parentNode,Ce)):F&&(Me(),te(F,1,1,()=>{F=null}),Ne())},i(_){Y||(X(s.$$.fragment,_),X(v.$$.fragment,_),X(ae.$$.fragment,_),X(x),X(D),X(F),Y=!0)},o(_){te(s.$$.fragment,_),te(v.$$.fragment,_),te(ae.$$.fragment,_),te(x),te(D),te(F),Y=!1},d(_){_&&(y(n),y(ze),y(je),y(Ce)),de(s),de(v),de(ae),~V&&he[V].d(),D&&D.d(_),F&&F.d(_),Ee=!1,rt(Ae)}}}function Ot(e,n,l){let t,i;Ge(e,ut,c=>l(13,t=c)),Ge(e,ct,c=>l(14,i=c));let{table:s}=n,{action:a={}}=n,m=0,w,r=!0,E=10,N=0,O=10,I=0,h={},H=[],v=[],p={open:!1,msg:null,type:null},u=!1;const P=c=>{try{document.getElementById(c.id).click()}catch(C){console.log(C.message)}},d=async c=>{var C;if(c.file){l(12,u=!0);const M={lang:t==null?void 0:t.lang,conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,app:t==null?void 0:t.selected_app,_method:"dump_file_2_object",data:c},q=await mt(M);q.success===!0&&q.data?(l(2,v=q.data),l(3,m=1),l(10,H=Object.keys(((C=q.data)==null?void 0:C[0])||{})),H.forEach(J=>{var ee,b;if(h!=null&&h[J])l(1,h[J].file_field_match=J,h);else for(const z in h)Object.hasOwnProperty.call(h,z)&&(((ee=h[z])==null?void 0:ee.comment.toLowerCase())===J.toLowerCase()||((b=h[z])==null?void 0:b.field.toLowerCase())===J.toLowerCase())&&l(1,h[z].file_field_match=J,h)})):(l(11,p.open=!0,p),l(11,p.type="error",p),l(11,p.msg=q.msg,p)),l(12,u=!1)}},A=async c=>{l(12,u=!0);try{l(4,w=c.event.currentTarget.files[0].name);const C={lang:t==null?void 0:t.lang,conf:t==null?void 0:t.conf,token:t==null?void 0:t.token,file:c.event.currentTarget.files[0],tmp:r,path:null},M=await gt(C);M.success===!0?(l(4,w=M.file),l(11,p.open=!0,p),l(11,p.type="success",p),l(11,p.msg=M.msg,p),await d({file:w,tmp:r})):(l(11,p.open=!0,p),l(11,p.type="error",p),l(11,p.msg=M.msg,p))}catch(C){console.log(C.message),l(11,p.open=!0,p),l(11,p.type="error",p),l(11,p.msg=C.message,p)}l(12,u=!1)},j=c=>{c.type==="next"?l(7,N+=1):c.type==="back"?l(7,N-=1):c.type==="first"?l(7,N=0):c.type==="last"?l(7,N=Math.ceil(E/((v==null?void 0:v.length)||E))):c.type==="rows_per_page"&&(l(6,E=c.rows_per_page),l(7,N=0))},S=c=>{c.type==="next"?l(9,I+=1):c.type==="back"?l(9,I-=1):c.type==="first"?l(9,I=0):c.type==="last"?l(9,I=Math.ceil(O/((v==null?void 0:v.length)||E))):c.type==="rows_per_page"&&(l(8,O=c.rows_per_page),l(9,I=0))};_t(()=>{var c,C,M,q,J,ee,b;i.changeLanguage(t==null?void 0:t.lang),console.log((c=t==null?void 0:t.tables)==null?void 0:c[s]);try{Je.locale(t==null?void 0:t.lang)}catch{Je.locale("en-us")}for(let z in((M=(C=t==null?void 0:t.tables)==null?void 0:C[s])==null?void 0:M.fields)||{})l(1,h[z]={field:z,comment:(b=(ee=(J=(q=t==null?void 0:t.tables)==null?void 0:q[s])==null?void 0:J.fields)==null?void 0:ee[z])==null?void 0:b.comment,file_field_match:null},h)});function k(){w=this.value,l(4,w)}const B=c=>P({id:`${s}-file-to-import-file`});function le(){r=this.checked,l(5,r)}const ne=c=>A({event:c}),R=c=>d({file:w,tmp:r}),se=()=>{l(3,m=0)},ce=()=>{l(3,m=1)};function U(c){h[c].file_field_match=bt(this),l(1,h),l(10,H)}function oe(c){h[c].deactivate=this.checked,l(1,h),l(10,H)}const ae=c=>S(c.detail),fe=c=>j(c.detail),_e=c=>{l(11,p.open=!1,p)};return e.$$set=c=>{"table"in c&&l(0,s=c.table),"action"in c&&l(20,a=c.action)},e.$$.update=()=>{e.$$.dirty[0]&1&&console.log({table:s}),e.$$.dirty[0]&1048583&&((a==null?void 0:a.name)=="CANCEL"&&(a==null||a.action()),(a==null?void 0:a.name)=="YES"&&(a==null||a.action({data:v,_matches:h,table:s})))},[s,h,v,m,w,r,E,N,O,I,H,p,u,t,i,P,d,A,j,S,a,k,B,le,ne,R,se,ce,U,oe,ae,fe,_e]}class Et extends ft{constructor(n){super(),ot(this,n,Ot,Ct,it,{table:0,action:20},null,[-1,-1])}}export{Et as default};
