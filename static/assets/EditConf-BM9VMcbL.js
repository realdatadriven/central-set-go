import{S as q,i as x,s as L,F as z,g as p,p as N,q as m,r as S,o as _,u as b,y as k,z as D,A as F,C as M,D as g,c as C,m as w,v as E,b as T,a as B,d,j as h,k as G,ab as H}from"./index-B3J7V0-m.js";import I from"./ObjectEditor-sSDLqVTL.js";import"./pt-Du24fFAZ.js";function K(u){let t,e;return t=new I({props:{indent:0,obj:u[0],spkip:["open"],chain:""}}),{c(){C(t.$$.fragment)},m(r,l){w(t,r,l),e=!0},p(r,l){const c={};l&1&&(c.obj=r[0]),t.$set(c)},i(r){e||(_(t.$$.fragment,r),e=!0)},o(r){m(t.$$.fragment,r),e=!1},d(r){E(t,r)}}}function P(u){let t,e,r,l,c,s=u[3]&&y(u);return{c(){s&&s.c(),t=T(),e=B("textarea"),d(e,"class","textarea w-full"),d(e,"rows",10)},m(n,o){s&&s.m(n,o),p(n,t,o),p(n,e,o),h(e,u[1]),r=!0,l||(c=G(e,"input",u[6]),l=!0)},p(n,o){n[3]?s?(s.p(n,o),o&8&&_(s,1)):(s=y(n),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(N(),m(s,1,1,()=>{s=null}),S()),o&2&&h(e,n[1])},i(n){r||(_(s),r=!0)},o(n){m(s),r=!1},d(n){n&&(b(t),b(e)),s&&s.d(n),l=!1,c()}}}function y(u){let t,e;return t=new H({props:{msg:u[3],type:"error"}}),{c(){C(t.$$.fragment)},m(r,l){w(t,r,l),e=!0},p(r,l){const c={};l&8&&(c.msg=r[3]),t.$set(c)},i(r){e||(_(t.$$.fragment,r),e=!0)},o(r){m(t.$$.fragment,r),e=!1},d(r){E(t,r)}}}function Q(u){let t,e,r,l;const c=[P,K],s=[];function n(o,f){return o[2]===!0?0:1}return t=n(u),e=s[t]=c[t](u),{c(){e.c(),r=z()},m(o,f){s[t].m(o,f),p(o,r,f),l=!0},p(o,[f]){let i=t;t=n(o),t===i?s[t].p(o,f):(N(),m(s[i],1,1,()=>{s[i]=null}),S(),e=s[t],e?e.p(o,f):(e=s[t]=c[t](o),e.c()),_(e,1),e.m(r.parentNode,r))},i(o){l||(_(e),l=!0)},o(o){m(e),l=!1},d(o){o&&b(r),s[t].d(o)}}}function R(u,t,e){let r,l;k(u,D,a=>e(7,r=a)),k(u,F,a=>e(8,l=a));let{json_object:c=null}=t,{extras:s=null}=t,{action:n={}}=t,o="",f=!1,i=null;const j=a=>{if(f===!1)e(2,f=!0),e(1,o=JSON.stringify(c,null,2)),e(3,i=null);else try{e(0,c=JSON.parse(o)),e(2,f=!1)}catch(J){return e(3,i=J.message),null}},O=a=>{f===!0&&j(),a==null||a.action({json_object:c,extras:s})};M(async()=>{l.changeLanguage(r==null?void 0:r.lang);try{g.locale(r==null?void 0:r.lang)}catch{g.locale("en-us")}});function A(){o=this.value,e(1,o)}return u.$$set=a=>{"json_object"in a&&e(0,c=a.json_object),"extras"in a&&e(4,s=a.extras),"action"in a&&e(5,n=a.action)},u.$$.update=()=>{u.$$.dirty&32&&((n==null?void 0:n.name)=="CANCEL"&&(n==null||n.action()),(n==null?void 0:n.name)=="JSON"&&j(),(n==null?void 0:n.name)=="SET"&&O(n))},[c,o,f,i,s,n,A]}class X extends q{constructor(t){super(),x(this,t,R,Q,L,{json_object:0,extras:4,action:5})}}export{X as default};
